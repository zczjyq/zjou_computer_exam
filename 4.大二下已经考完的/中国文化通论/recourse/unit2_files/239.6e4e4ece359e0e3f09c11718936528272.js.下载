(window.webpackJsonp=window.webpackJsonp||[]).push([[239],{1803:function(e,t,s){"use strict";var n=s(506);s.n(n).a},1804:function(e,t,s){(e.exports=s(1)(!1)).push([e.i,".ucenter-progress .title {\n  font-size: 18px;\n  color: #999;\n  height: 60px;\n  line-height: 60px;\n}\n.ucenter-progress .main-header-left {\n  color: #999;\n}\n.ucenter-progress .main-header-left .class-left {\n  display: inline-block;\n  height: 100%;\n  line-height: 32px;\n}\n.ucenter-progress .main-header-left .class-left span {\n  font-size: 18px;\n}\n.ucenter-progress .main-header-left .panage-right {\n  margin-left: 80px;\n  display: inline-block;\n  height: 100%;\n  line-height: 32px;\n}\n.ucenter-progress .progress-main {\n  padding: 20px;\n}\n.ucenter-progress .progress-main .progress-item {\n  border: 1px solid #E5E5E5;\n  text-align: center;\n}\n.ucenter-progress .progress-main .progress-item .item-left {\n  padding: 20px;\n}\n.ucenter-progress .progress-main .progress-item .item-right {\n  padding: 20px;\n}\n.ucenter-progress .progress-main .progress-item .el-progress__text {\n  color: #005C94;\n  font-size: 25px !important;\n}\n.ucenter-progress .progress-main .progress-item .el-progress__text span {\n  font-size: 14px;\n}\n.ucenter-progress .progress-main .progress-item .item-01 {\n  color: #999;\n}\n.ucenter-progress .progress-main .progress-item .item-01 p {\n  height: 36px;\n  line-height: 36px;\n  font-size: 14px;\n}\n.ucenter-progress .progress-main .progress-item .item-01 p a {\n  color: #005C94;\n  font-size: 14px;\n}\n.ucenter-progress .progress-main .progress-item .item-01 p .el-button {\n  vertical-align: top;\n  margin-top: 4px;\n  height: 28px;\n  width: 88px;\n  position: relative;\n  padding: 7px 15px;\n}\n.ucenter-progress .progress-main .progress-item .item-01 p .el-button span {\n  display: inline-block;\n}\n.ucenter-progress .progress-main .progress-item .item-01 p .el-button:hover {\n  border-color: #005C94;\n}\n.ucenter-progress .progress-main .progress-item .item-01 p .el-button:hover span {\n  color: #005C94;\n}\n.ucenter-progress .statistics {\n  border: 1px solid #E5E5E5;\n}\n.ucenter-progress .statistics.speil {\n  border-top: none;\n}\n.ucenter-progress .statistics .sta-title {\n  font-size: 18px;\n  text-align: center;\n  margin: 20px;\n}\n.ucenter-progress .statistics .statistics-item {\n  line-height: 50px;\n  font-size: 14px;\n  color: #999;\n  padding: 0 20px 20px 40px;\n}\n.ucenter-progress .statistics .statistics-item .spaceil {\n  color: #005C94;\n}\n.ucenter-progress .statistics .statistics-item .el-progress {\n  height: 50px;\n  line-height: 47px;\n  padding-right: 50px;\n}\n.ucenter-progress .statistics .statistics-item .el-progress .el-progress-bar {\n  height: 10px;\n}\n.ucenter-progress .statistics .statistics-item .el-progress .el-progress-bar .el-progress-bar__outer {\n  height: 100% !important;\n}\n.ucenter-progress .statistics .statistics-item .el-progress .el-icon-circle-check {\n  font-size: 16px;\n}\n.ucenter-progress .statistics .stati-item01 {\n  position: relative;\n}\n.ucenter-progress .statistics .stati-item01 .item01-01 {\n  position: absolute;\n  right: 20px;\n  top: 25px;\n}\n.ucenter-progress .statistics .stati-item01 .item01-01 a {\n  font-size: 14px;\n  color: #005C94;\n}\n.ucenter-progress .statistics .stati-item01 .item01-01 .count--split--30QzSfx6 {\n  color: #E5E5E5;\n  margin: 0 7px;\n}\n.ucenter-progress .statistics .stati-item02 .item02-list {\n  padding-left: 20px;\n  padding-right: 40px;\n  line-height: 55px;\n}\n.ucenter-progress .statistics .stati-item02 .item02-list .icon {\n  display: inline-block;\n  width: 12px;\n  height: 12px;\n  border-radius: 100%;\n  margin-right: 5px;\n}\n.ucenter-progress .statistics .stati-item02 .item02-list p {\n  float: left;\n}\n.ucenter-progress .statistics .stati-item02 .item02-list span {\n  font-size: 14px;\n}\n.ucenter-progress .statistics .stati-item02 .item02-list span.speil {\n  color: #999;\n  float: right;\n}\n.ucenter-progress .statistics .stati-item02 .item02-bei {\n  height: 100%;\n  position: relative;\n}\n.ucenter-progress .statistics .stati-item02 .item02-bei .bei {\n  position: absolute;\n  top: 50px;\n  right: 20px;\n  color: #999;\n}\n.ucenter-progress .el-dialog {\n  width: 680px;\n  margin-top: 100px !important;\n}\n.ucenter-progress .el-dialog .el-dialog__header {\n  padding: 13px 16px;\n  border-radius: 3px 3px 0 0;\n  background: #fff;\n  color: #001e2b;\n  border-bottom: 1px solid #E5E5E5;\n  text-align: left;\n}\n.ucenter-progress .el-dialog .el-dialog__header .el-dialog__headerbtn {\n  display: none;\n}\n.ucenter-progress .el-dialog .el-dialog__body {\n  padding: 16px;\n  font-size: 14px;\n  line-height: 1.5;\n  border-bottom: 1px solid #E5E5E5;\n}\n.ucenter-progress .el-dialog .el-table.el-table--enable-row-hover .el-table__body tr > td {\n  background-color: #fff;\n  border-right: #fff;\n  padding: 7.5px 0;\n  height: 42px;\n}\n.ucenter-progress .el-dialog .el-table.el-table--enable-row-hover .el-table__body tr:hover > td {\n  background-color: #edf5fe;\n  border-right: #edf5fe;\n}\n.ucenter-progress .el-dialog .el-table.el-table--enable-row-hover .el-table__body tr:last-child:hover > td {\n  background-color: #fff;\n  border-right: #fff;\n}\n.ucenter-progress .el-dialog .el-table.el-table--border {\n  background: #ffffff;\n  border-radius: 6px;\n  border: 1px solid #d3dbec;\n}\n.ucenter-progress .el-dialog .el-table.el-table--border th:first-child .cell,\n.ucenter-progress .el-dialog .el-table.el-table--border td:first-child .cell {\n  padding-left: 30px;\n}\n.ucenter-progress .el-dialog .el-table.el-table--border td .cell {\n  font-size: 13px;\n  color: #4D4D4D;\n}\n.ucenter-progress .el-dialog .el-table tr > th {\n  /*background: rgba(237, 245, 254, 1);*/\n  border-right: #edf5fe;\n  font-size: 13px;\n  padding: 8px 0;\n  color: #333333;\n}\n.ucenter-progress .el-dialog .el-table td,\n.ucenter-progress .el-dialog .el-table th.is-leaf {\n  border-bottom: 1px solid #DBE1F0;\n}\n.ucenter-progress .el-dialog .el-table.el-table--enable-row-hover .el-table__body tr > td .cell {\n  font-size: 14px;\n  color: #001e2b;\n}\n.ucenter-progress .el-dialog .el-table.el-table--enable-row-hover .el-table__body tr > td .cell .uu-item-01 {\n  color: #666;\n}\n.ucenter-progress .el-dialog .el-table.el-table--enable-row-hover .el-table__body tr > td .cell .uu-item-02 {\n  color: #001e2b;\n}\n.ucenter-progress .el-dialog .el-table.el-table--enable-row-hover .el-table__body tr > td .cell .uu-item-03 {\n  color: #005C94;\n}\n.ucenter-progress .el-dialog .el-table.el-table th > .cell {\n  color: rgba(0, 0, 0, 0.85);\n  font-size: 14px;\n}\n.ucenter-progress .el-dialog .el-table.el-table--enable-row-hover .el-table__body tr:last-child > td:first-child .cell .uu-item-01 {\n  color: #001e2b;\n}\n.ucenter-progress .el-dialog .remarks {\n  padding-left: 10px;\n  color: #999;\n  font-size: 12px;\n}\n.ucenter-progress .el-dialog .el-dialog__footer .el-button {\n  width: 74px;\n  height: 28px;\n  color: #fff;\n  background-color: #409EFF;\n  border-color: #409EFF;\n}\n.ucenter-progress .item-left .el-progress__text {\n  display: none;\n}\n",""])},3134:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ucenter-progress"},[s("base-mainheader",{staticClass:"teacher-main-header"},[s("template",{slot:"left"},[s("div",{staticClass:"class-left"},[s("el-tooltip",{attrs:{placement:"top",content:e.classInfo.className}},[s("i",[e._v("班级: "+e._s(e.subName(e.classInfo.className,20)))])])],1),e._v(" "),s("div",{staticClass:"panage-right"},[s("i",[e._v("\n                  管理老师："+e._s(e.classInfo.teacherName?e.classInfo.teacherName:"佚名")+"\n              ")])])])],2),e._v(" "),s("div",{staticClass:"progress-main"},[s("el-row",{staticClass:"title"},[e._v("\n            学习进度\n        ")]),e._v(" "),s("el-row",{staticClass:"progress-item"},[s("el-col",{staticClass:"item-left",attrs:{span:12}},[s("el-progress",{attrs:{type:"circle",percentage:100,"show-text":!0}}),e._v(" "),s("div",{staticClass:"mt10 item-01"},[s("p",[e._v("开课进度")]),e._v(" "),e.studentCourseStudyInfo.startDate?s("p",[e._v("开课时间: "+e._s(e.Utils.formatString2Date(e.studentCourseStudyInfo.startDate,"yyyy/MM/dd"))+" 至 "+e._s(e.Utils.formatString2Date(e.studentCourseStudyInfo.endDate,"yyyy/MM/dd")))]):e._e()])],1),e._v(" "),s("el-col",{staticClass:"item-right",attrs:{span:12}},[s("el-progress",{attrs:{type:"circle",percentage:parseInt(e.courseProgress)}}),e._v(" "),s("div",{staticClass:"mt10 item-01"},[s("p",[e._v("我的进度")]),e._v(" "),s("p",{staticClass:"of_eno"},[e._v("上次学到: "),s("a",[e._v(e._s(null==e.studentCourseStudyInfo.lastChapterName?"无记录":e.studentCourseStudyInfo.lastChapterName))])]),e._v(" "),s("p",[s("el-button",{attrs:{plain:"",disabled:!e.studentCourseStudyInfo.lastChapterName},on:{click:e.switchToChapter}},[e._v("继续学习")]),e._v(" "),e.isShowSignin?[s("el-button",{staticClass:"ml20",attrs:{plain:"",size:"mini",loading:e.signinLoadings,disabled:0===e.Checkedinstatus},on:{click:e.handleSingn}},[e._v(e._s(0===e.currentUserAttendStatus?"签到":"已签到")+"\n                            ")])]:e._e()],2)])],1)],1),e._v(" "),s("el-row",{staticClass:"title mt20"},[e._v("\n            学习统计\n        ")]),e._v(" "),s("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.recordLoading,expression:"recordLoading"}],staticClass:"statistics"},[s("el-row",[s("el-col",{staticClass:"sta-title",attrs:{span:24}},[e._v("学习记录")])],1),e._v(" "),s("el-row",[s("el-col",{staticClass:"statistics-item",attrs:{span:12}},[s("el-row",[s("el-col",{attrs:{span:8}},[e._v("已观看视频")]),e._v(" "),s("el-col",{staticClass:"spaceil",attrs:{span:16}},[e._v(e._s(e._f("date")(e.progress.videoWatchedInfo)))])],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:8}},[e._v("已发表帖子")]),e._v(" "),s("el-col",{staticClass:"spaceil",attrs:{span:16}},[e._v(e._s(null==e.progress.discussionNum?0:e.progress.discussionNum)+" 条")])],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:8}},[e._v("已记录笔记")]),e._v(" "),s("el-col",{staticClass:"spaceil",attrs:{span:16}},[e._v(e._s(null==e.progress.noteNum?0:e.progress.noteNum)+" 条")])],1)],1),e._v(" "),s("el-col",{staticClass:"statistics-item",attrs:{span:12}},[s("el-row",[s("el-col",{attrs:{span:8}},[e._v("已提交考试")]),e._v(" "),s("el-col",{attrs:{span:16}},[s("el-progress",{attrs:{percentage:Math.round(e.progress.examProgress)}})],1)],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:8}},[e._v("已提交作业")]),e._v(" "),s("el-col",{attrs:{span:16}},[s("el-progress",{attrs:{percentage:Math.round(e.progress.homeworkProgress)}})],1)],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:8}},[e._v("已提交测验")]),e._v(" "),s("el-col",{attrs:{span:16}},[s("el-progress",{attrs:{percentage:Math.round(e.progress.testProgress)}})],1)],1)],1)],1)],1),e._v(" "),s("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.recordLoading,expression:"recordLoading"}],staticClass:"statistics speil"},[s("el-row",{staticClass:"stati-item01"},[s("el-col",{staticClass:"sta-title",attrs:{span:24}},[e._v("我的成绩")]),e._v(" "),s("div",{staticClass:"item01-01"},[s("a",{on:{click:e.forwardViewDetails}},[e._v("查看详情")]),e._v(" "),s("span",{staticClass:"count--split--30QzSfx6"},[e._v("|")]),e._v(" "),s("a",{on:{click:e.showAssessmentStandardDialog}},[e._v("考核标准")])])],1),e._v(" "),s("el-row",{staticClass:"stati-item02"},[s("el-col",{attrs:{span:6}},[s("div",{staticClass:"mt5 ml50 mb40",staticStyle:{width:"160px",height:"160px"},attrs:{id:"main"}})]),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-row",e._l(e.option.series[0].data,(function(t,n){return s("el-col",{key:n,staticClass:"item02-list clearfix",attrs:{span:12}},[s("p",[s("i",{staticClass:"icon mr5",style:{background:t.itemStyle.color}}),e._v(" "),s("span",[e._v(e._s(t.name))])]),e._v(" "),s("span",{staticClass:"speil"},[e._v(e._s(t.value)+"分")])])})),1)],1),e._v(" "),s("el-col",{staticClass:"item02-bei",attrs:{span:6}},[s("div",{staticClass:"bei"},[e._v("\n                        各项成绩得分为当前得分，试卷类得分，客观题系统自动判定给分，主观题由老师批阅给分\n                        ，最终成绩，依照教师制定的考核标准为准。\n                    ")])])],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"考核标准",visible:e.isShowAssessmentStandardDialog,center:""},on:{"update:visible":function(t){e.isShowAssessmentStandardDialog=t}}},[s("el-row",[s("el-col",{attrs:{span:24}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.assessmentStandardList}},[s("el-table-column",{attrs:{prop:"c1",label:"考核项",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"uu-item-01"},[e._v(e._s(t.row.c1))])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"c2",label:"单项满分",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return["合计"!==t.row.c1?s("div",[e._v(e._s(t.row.c2))]):s("div",{staticClass:"uu-item-03"},[e._v(e._s(t.row.c2)+"分")])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"c3",label:"学生成绩计算说明",width:"339"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"uu-item-02"},[e._v(e._s(t.row.c3))])]}}])})],1)],1)],1),e._v(" "),s("el-row",[s("el-col",{staticClass:"remarks",attrs:{span:24}},[e._v("\n                    各项成绩得分为当前得分，试卷类得分，客观题系统自动判定给分，主观题由老师批阅给分\n                    ，最终成绩，依照教师制定的考核标准为准。\n                ")])],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"co-el-buttom",on:{click:function(t){e.isShowAssessmentStandardDialog=!1}}},[e._v("我知道了")])],1)],1)],1)],1)};n._withStripped=!0;var r=s(28),o=s.n(r),i={name:"progressVue",data:function(){return{Checkedinstatus:0,currentUserAttendStatus:0,signinDate:{},signinLoadings:!1,recordLoading:!1,isShowAssessmentStandardDialog:!1,courseAssessment:{},courseProgress:0,assessmentStandardList:[{c0:"video",c1:"视频观看",c2:"10",c3:"视频观看时长/视频总时长*单项满分"},{c0:"test",c1:"测验",c2:"10",c3:"学生测验得分/测验总分数*单项满分"},{c0:"exam",c1:"考试",c2:"30",c3:"学生考试得分/考试总分数*单项满分"},{c0:"homework",c1:"作业",c2:"30",c3:"学生作业得分/作业总分数*单项满分"},{c0:"discuss",c1:"讨论发帖",c2:"10",c3:"普通帖子0.5分/个，精华帖子1分/个，单项满分为止"},{c0:"note",c1:"课程笔记",c2:"10",c3:"普通笔记0.5分/个，精华笔记1分/个，单项满分为止"},{c0:"offline",c1:"线下成绩",c2:"40",c3:"学生线下成绩/100*单项满分"},{c0:"total",c1:"合计",c2:"100",c3:""}],progress:{},classInfo:{},studentCourseStudyInfo:{},option:{tooltip:{},series:[{type:"pie",radius:["50%","85%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"14",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[{value:0,name:"视频观看",itemStyle:{color:"rgb(11, 93, 145)"}},{value:0,name:"作业",itemStyle:{color:"rgb(88, 255, 254)"}},{value:0,name:"测验",itemStyle:{color:"rgb(83, 253, 133)"}},{value:0,name:"考试",itemStyle:{color:"rgb(225, 253, 83)"}},{value:0,name:"讨论发帖",itemStyle:{color:"rgb(253, 123, 67)"}},{value:0,name:"笔记",itemStyle:{color:"rgb(252, 71, 126)"}}],symbol:"circle",showSymbol:!1}]},myChart:"",ordinaryDiscuss:.5,prominentDiscuss:1,ordinaryNotes:.5,prominentNotes:1}},computed:{courseId:function(){return this.$route.params.courseId},isShowSignin:function(){return!!this.signinDate}},methods:{init:function(){this.initStudentCourseStudyInfo(),this.initMyClass(),this.initStudyProgress(),this.handlePlans()},subName:function(e,t){return e&&e.length>t&&(e=e.substring(0,t)+"..."),e},showAssessmentStandardDialog:function(){var e=this;e.isShowAssessmentStandardDialog=!0;this.Service.get("/jxxt/api/course/courseStudent/courseAssessment",{courseId:this.getCourseid()},(function(t){if(0===t.resultCode)for(var s in e.courseAssessment=t.data,e.ordinaryDiscuss=t.data.ordinaryDiscuss,e.prominentDiscuss=t.data.prominentDiscuss,e.ordinaryNotes=t.data.ordinaryNotes,e.prominentNotes=t.data.prominentNotes,e.assessmentStandardList){var n=e.assessmentStandardList[s];"video"===n.c0?n.c2=e.courseAssessment.videoRatio:"test"===n.c0?n.c2=e.courseAssessment.testRatio:"exam"===n.c0?n.c2=e.courseAssessment.examRatio:"homework"===n.c0?n.c2=e.courseAssessment.homeworkRatio:"discuss"===n.c0?(n.c2=e.courseAssessment.discussRatio,n.c3="普通帖子"+e.ordinaryDiscuss+"分/个，精华帖子"+e.prominentDiscuss+"分/个，单项满分为止"):"note"===n.c0?(n.c2=e.courseAssessment.notesRatio,n.c3="普通笔记"+e.ordinaryNotes+"分/个，精华笔记"+e.prominentNotes+"分/个，单项满分为止"):"offline"===n.c0?n.c2=e.courseAssessment.offlineRatio:"total"===n.c0&&(n.c2=e.courseAssessment.totalScore)}}))},dateFormatter:function(e){if(e)return this.Utils.formatString2Date(e,"yyyy-MM-dd hh:mm:ss")},switchToChapter:function(){location.href="/ucenter/student/course/study/"+this.getCourseid()+"/plan/detail/"+this.studentCourseStudyInfo.lastChapterId},forwardViewDetails:function(){var e="/ucenter/student/course/study/"+this.getCourseid()+"/achievement";this.$router.push({path:e})},getCourseid:function(){var e=this.$route.params.courseId;return e||""},initStudyProgress:function(){var e=this;e.recordLoading=!0;var t={courseId:e.getCourseid(),roleType:e.$store.state.user.currentRole.roleType};e.Service.get("/report/api/course/courseStudentScore/loadStudyProgress",t,(function(t){e.recordLoading=!1,t.success&&(e.progress=t.data,e.courseProgress=String(Math.min(100*Number(t.data.courseProgress))),e.option.series[0].data[0].value=t.data.videoScore,e.option.series[0].data[1].value=t.data.homeworkScore,e.option.series[0].data[2].value=t.data.testScore,e.option.series[0].data[3].value=t.data.examScore,e.option.series[0].data[4].value=t.data.discussionScore,e.option.series[0].data[5].value=t.data.noteScore,e.myChart.setOption(e.option))}))},initMyClass:function(){var e=this,t={courseId:this.getCourseid()};this.Service.get("/jxxt/api/course/courseStudent/clazz/myClazz",t,(function(t){0===t.resultCode&&(e.classInfo=t.data)}))},initStudentCourseStudyInfo:function(){var e=this;this.Service.get("/jxxt/api/course/courseStudent/"+e.getCourseid(),{},(function(t){t.success&&(e.studentCourseStudyInfo=t.data,$(".item-left .el-progress__text").html(e.studentCourseStudyInfo.courseProgress?e.studentCourseStudyInfo.courseProgress+" <span>周</span>":"<span>未开课</span>"),$(".item-left .el-progress__text").show())}))},handleSingn:function(){var e=this;if(1!==this.Checkedinstatus){var t={};t.classId=this.signinDate.classId,t.courseId=this.signinDate.courseId,t.planId=this.signinDate.id,this.signinLoadings=!0;this.Service.postBody("/attendance/api/attendance/students",t,(function(t){e.signinLoadings=!1,t.success?(e.$message({type:"success",message:"签到成功!"}),e.handlePlans()):e.$message.error(t.message)}))}else this.$message({message:"当前未到签到时间！",type:"warning"})},handlePlans:function(){var e=this;this.Service.get("/attendance/api/attendance/plans/todayOnline",{courseId:this.courseId},(function(t){e.signinDate=t.data,t.data&&(e.Checkedinstatus=t.data.status,e.currentUserAttendStatus=t.data.currentUserAttendStatus)}))}},mounted:function(){this.init(),this.myChart=o.a.init(document.getElementById("main")),this.myChart.setOption(this.option)},filters:{date:function(e){if(void 0!==e)return e=(e=e.match(/(\d{2})/g)).join(":")}},components:{}},a=(s(1803),s(0)),l=Object(a.a)(i,n,[],!1,null,null,null);l.options.__file="web/views/ucenter/student/progress/progress.vue";t.default=l.exports},506:function(e,t,s){var n=s(1804);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,s(2).default)("54486d5e",n,!1,{})}}]);