/**!
   * qt_web_v2.2.5
   * generated by QuickTracking
   * 2024-05-11 13:46:02
  */
e=function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function t(t){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?e(Object(a),!0).forEach((function(e){s(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function n(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(e,n(o.key),o)}}function i(e,t,n){t&&r(e.prototype,t);n&&r(e,n);Object.defineProperty(e,"prototype",{writable:!1});return e}function s(e,t,a){(t=n(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a;return e}function c(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++){n=r[a];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e,t){if(e)if(d(e)&&void 0===e.length)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n],e);else{var a,o=e.length;for(a=0;a<o&&"break"!==t(e[a],a);a++);}}function l(e){return Array.isArray?Array.isArray(e):/Array/.test(Object.prototype.toString.call(e))}var f={isArray:l,indexOf:function(e,t){var n=-1;try{n=e.indexOf(t)}catch(o){for(var a=0;a<e.length;a++)e[a]===t&&(n=a)}finally{return n}},itemMatch:function(e,t){var n=!1;try{if(!this.isArray(e))return n;n=e.some((function(e){return e&&e.length>0&&-1!==t.indexOf(e)}))}catch(o){for(var a=0;a<e.length;a++)if(-1!==t.indexOf(e[a])){n=!0;break}}return n},find:function(e,t){try{return e.find(t)}catch(a){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}},flat:function e(t){var n=[];if(l(t))for(var a=0;a<t.length;a++){var o=t[a];if(l(o)){t[a]=e(o);n=n.concat(t[a])}else n.push(o)}return n},assign:p,some:function(e,t){var n,a=e.length;for(n=0;n<a;n++)if(t(e[n]))return!0;return!1},each:u};function p(e,t){return"function"!=typeof Object.assign?function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var a=arguments[n];if(null!==a)for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t}(e,t):Object.assign({},e,t)}function d(e){if("object"!==a(e)||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function g(e,t){if(Object&&Object.keys)for(var n=Object.keys(e),a=n.length,o=0;o<a;o++){var r=n[o];t(r,e[r])}else for(var i in e)t(i,e[i])}var h={isObject:d,assign:p,cloneDeep:function e(t){var n,o=Array.isArray(t)?[]:{};if("object"===a(t)){if(JSON&&JSON.parse){n=JSON.stringify(t);o=JSON.parse(n)}else for(var r in t)o[r]="object"===a(t[r])?e(t[r]):t[r];return o}},isEmptyObject:function(e){try{if(!e)return!0;if("function"==typeof Object.keys&&0===Object.keys(e).length)return!0;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}catch(e){return!1}},each:u,eachMap:g,deleteKeys:function(e,t){u(t,(function(t){delete e[t]}));return e}},_={stringfy:function(e){if(e)try{return JSON.stringify(e)}catch(e){}return""},parse:function(e){if(e)try{return JSON.parse(e)}catch(e){}return null},jsonStr2json:function(e){if(!e||"string"!=typeof e)return{};for(var t=e.replace(/['"{}]+/g,"").split(","),n=[],a=0;a<t.length;a++)n.push(t[a].split(":"));return v(n)}};function m(e){return"function"==typeof e}function v(e){var t,n,a,o={},r=e.length;for(a=0;a<r;a++){t=e[a][0]&&e[a][0].trim();n=e[a][1];o[t]=n}return o}function y(e){if("object"===a(e))return e;var t={};if(!e||"string"!=typeof e)return t;for(var n=e.split("&"),o=0;o<n.length;o++){var r=n[o],i=r.indexOf("="),s=r.split("="),c=r.length;if(2===s.length)t[s[0]]=s[1]||"";else if(i>0){var u=r.slice(0,i),l=r.slice(i+1,c)||"";t[u]=l}else t[s[0]]=""}return t}var b="::-plain-::";function A(e,t){var n,o,r,i=[];for(n in e)if(n&&Object.prototype.hasOwnProperty.call(e,n)){r="object"===a(e[n])?o=""+this.obj2queryStr(e[n]):n+"="+(o=""+e[n]);t?i.push(r):i.push(0===n.indexOf(b)?o:r)}return i.join("&")}function S(e){for(var t,n=e.split("&"),a=0,o=n.length,r=[];a<o;a++){t=n[a].split("=");r.push([t.shift(),t.join("=")])}return r}function E(){var e=navigator?navigator.userAgent:"",t=/AliApp|Yunos|cyclone/i.test(e),n=navigator&&(("MacIntel"===navigator.platform||e.includes("Macintosh"))&&navigator.maxTouchPoints>1||!!e.match(/(iPad).*OS\s([\d_]+)/)),a=/iPhone|iPod/i.test(e)||n,o=/Android/i.test(e),r=/Windows Phone/i.test(e)||/IEMobile/i.test(e)||/WPDesktop/i.test(e),i=/BlackBerry/i.test(e),s=/Opera Mini/i.test(e);return t||a||o||r||i||s}var T={isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},isStartWith:function(e,t){return!(!e||!t||0===t.length||t.length>e.length)&&0===e.indexOf(t)},isEndWith:function(e,t){if(String.prototype.endsWith)return e.endsWith(t);var n=e.length,a=t.length;return n>=a&&e.substring(n-a)===t},isContain:function(e,t){return e.indexOf(t)>-1},getRandomStr:function(e){for(var t="",n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],a=0;a<Number(e);a++)t+=n[Math.round(Math.random()*(n.length-1))];return t},trim:function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):""},query2obj:y},w={query2obj:y,arr2obj:v,arr2queryStr:function(e,t){var n,a,o,r=[],i=e.length;for(o=0;o<i;o++){n=e[o][0];a=e[o][1];var s=0===n.indexOf(b),c=s||t?a:encodeURIComponent(a);r.push(s?c:n+"="+c)}return r.join("&")},obj2queryStr:A},P=function(){var e=null,t=!1,n="";function a(){this.setDebug=function(e,a){t=e;n=a?"[APLUS] -- ":"[QT] -- "};this.i=function(){if(t)try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]);console.info.apply(console,arguments)}catch(e){}};this.e=function(){if(t)try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]);console.error.apply(console,arguments)}catch(e){}};this.w=function(){if(t)try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]);console.warn.apply(console,arguments)}catch(e){}};this.v=function(){try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]);console.warn.apply(console,arguments)}catch(e){}};this.tip_w=function(e){try{console.log("%c "+n+e,"background:red; padding: 4px; padding-right: 8px; border-radius: 4px; color: #fff;")}catch(e){}};this.repeat=function(e){for(var t=e;t.length<86;)t+=e;return t}}return function(){null===e&&(e=new a);return e}}();function O(){}O.prototype.extend=function(){};O.prototype.create=function(){};O.extend=function(e){return this.prototype.extend.call(this,e)};O.prototype.create=function(e){var t=new this;for(var n in e)t[n]=e[n];return t};O.prototype.extend=function(e){var t=function(){};try{m(Object.create)||(Object.create=function(e){function t(){}t.prototype=e;return new t});t.prototype=Object.create(this.prototype);for(var n in e)t.prototype[n]=e[n];t.prototype.constructor=t;t.extend=t.prototype.extend;t.create=t.prototype.create}catch(e){P&&P().w(e)}finally{return t}};var C,I=O.extend({create:function(e,t){var n=t.apiName,a=t.queueName,o=new this;o._sdkApiName=n;o._sdkQueueName=a;e[n]=e[n]||(e[n]={});e[a]=e[a]||(e[a]=[]);o.ctx=e;return o},getSdkApiName:function(){return this._sdkApiName},getSdkQueueName:function(){return this._sdkQueueName},setContextValue:function(e,t){this.ctx[this._sdkApiName]&&(this.ctx[this._sdkApiName][e]=t)},getContextValue:function(e){var t;this.ctx[this._sdkApiName]&&(t=this.ctx[this._sdkApiName][e]);!t&&this.ctx.goldlog&&(t=this.ctx.goldlog[e]);return t}});function k(){return C}function R(){return k().getSdkApiName()}function N(){return k().getSdkQueueName()}function M(e){return k().ctx[e]}function x(e){return k().getContextValue(e)}function L(e,t){k().setContextValue(e,t)}var D="function",U=function(){var e=M(R())[R()+"_pubsub"]||{};return a(e.publish)===D?e:""};function j(e){var t=U();t&&a(t.publish)===D&&t.publish.apply(t,e)}function B(e){var t=U();t&&a(t.cachePubs)===D&&t.cachePubs.apply(t,e)}function V(e,t){var n=U();n&&a(n.subscribe)===D&&n.subscribe(e,t)}var F="mw_change",G="MetaInfo",H="append".concat(G),K="set".concat(G),W="_pubsub",q="2101",z="2201",Y="19999",$="aplus",Q={PAGE_ENTER:"PAGE_ENTER",CURRENT_PAGE_CONFIG:"CURRENT_PAGE_CONFIG",_ANONY_ID:"_anony_id",_DEV_ID:"_dev_id",_CNA:"cna",_browerFP:"_abfpc",_USER_ID:"_user_id",UNSUBSCRIBE:"".concat($,".").concat($).concat(W,".unsubscribe"),SUBSCRIBE:"".concat($,".").concat($).concat(W,".subscribe"),PUBLISH:"".concat($,".").concat($).concat(W,".publish"),CACHE_PUBS:"".concat($,".").concat($).concat(W,".cachePubs"),SDK_READY:"".concat($,"Ready"),SDK_PUB:"".concat($).concat(W),COMPLETE:"complete",PV_CODE:"2001",EXP_CODE:z,CLK_CODE:q,OTHER_CODE:Y,CLK:"CLK",EXP:"EXP",OTHER:"OTHER",SPM_CNT:"spm-cnt",SPM_URL:"spm-url",SPM_PRE:"spm-pre",MW_CHANGE_PV:"".concat(F,"_pv"),MW_CHANGE_HJLJ:"".concat(F,"_hjlj"),HTTP:"".concat("http",":"),HTTPS:"https:",APPEND_META_INFO:H,SET_META_INFO:K,SDK_APPEND_META_INFO:"".concat($,".").concat(H),SDK_SET_META_INFO:"".concat($,".").concat(K),PVID:"pvid",WEB_PC_PV_SUFFIX:"v.gif",WEB_WAP_PV_SUFFIX:"m.gif",NATIVE_TRANSP_READY:"".concat($,"NativeTranspReady")},X=["send","enter","sendPV","record","combineRecord","recordUdata","requestVTConfig","requestRemoteConfig","setPageSPM","setMetaInfo","appendMetaInfo","updatePageProperties","updateNextPageProperties","updatePageUtparam","updateNextPageUtparam","pageAppear","pageDisappear","skipPage","updateSessionProperties","getPageSpmUrl","getPageSpmPre","setPageName","getElementSPM","recordAppLink","onPageShow","onPageHide","reportUserInfo"],J={EXP:z,IMPEXP:"2202",CLK:q,OTHER:Y,SHOW:"1023",H_OR_U:"1010"};t(t({},{ekvs:"e",active_user:"active_user"}),{},{sessions:"sn"});var Z={sdk_type:"sdt",device_model:"dm",language:"lang",device_type:"dt",os_version:"ov",appkey:"ak",sdk_version:"sv",resolution:"rl",pixel_ratio:"pr",_id:"id",id_type:"it",id_tracking:"itr"};t(t({},Z),{},{imprint:"imp",debugId:"dk"});t(t({},Z),{},{access:"ac",access_subtype:"acs",device_manufacturer:"dmf",device_name:"dn",platform_version:"pv",font_size_setting:"fss",device_manuid:"did",platform_sdk_version:"psv",device_brand:"db",imprint:"imp",miniappDebugId:"dk"});var ee={APLUS:$,APPKEY:"appKey",APLUS_PV_DOMAIN:"aplus-rhost-v",APLUS_EKV_DOMAIN:"aplus-rhost-g",SESSION_INTERVAL:3e4,PAGE_SCROLL_DURATION:4e3,SESSION_PAUSE_TIME:"session_pause_time",IMPRINT:"imprint",CURRENT_SESSION:"current_session",MAX_EVENTID_LENGTH:128,MAX_PROPERTY_KEY_LENGTH:256,MAX_PROPERTY_KEYS_COUNT:100,FAILED_REQUESTS:"failed_requests",REQUESTS:"requests",SHARES:"shares",EKVS:"ekvs",EVENT_MAX_COUNT:1e4,MEMORY_MAX_COUNT:1,MAX_QUEUE_COUNT:1,EVENT_SEND_DEFAULT_INTERVAL:3e3,PAGE_START:"$$_page_start",PAGE_END:"$$_page_end",APP_START:"$$_app_start",APP_END:"$$_app_end",PULL_DOWN_REFRESH:"$$_pull_down_refresh",REACH_BOTTOM:"$$_reach_bottom",SHARE:"$$_share",ADD_TO_FAVORITE:"$$_addtofavorite",REF_SHARE_ID:"$$_ref_share_id",REF_SHARE_URL:"$$_ref_share_url",USER_PROFILE:"$$_user_profile",SHARE_CACHE_INTERVAL:18e5,GLOBAL_PROPERTY:"globalproperty",JSBRIDGE_ONLY:"aplus-jsbridge-only",JSBRIDGE_AGENT:"Umeng4Aplus",APLUS_SKIP_APV_RULES:"aplus-skip-apv-rules",APLUS_IMPRINT_VERSION:"APLUS_IMPRINT_VERSION",APLUS_REMOTE_CONFIG:"APLUS_REMOTE_CONFIG",WEB_EVENT_SUFFIX:"/web_logs",PAGE_LEAVE:"$$_page_leave",PAGE_STAY:"$$_page_stay",APLUS_AUTOTRACK_ENABLED:"aplus-autotrack-enabled",APLUS_AUTOTRACK_ENABLED_REMOTE:"apus-autotrack-enabled-remote",APLUS_AUTOTRACK_CONFIG:"aplus-autotrack-config",APLUS_AUTOTRACK_CONFIG_REMOTE:"aplus-autotrack-config-remote",APLUS_DISABLE_AUTOEVENT:"aplus-disable-autoevent",APLUS_DISABLE_AUTOEVENT_REMOTE:"aplus-disable-autoevent",APLUS_DISABLE_AUTOPV:"aplus-disable-apv",APLUS_DISABLE_AUTOPV_REMOTE:"aplus-disable-apv-remote",APLUS_EVENT_LIMITRATES:"aplus-event-limitrates",APLUS_DEVICE_ENABLE:"aplus-device-enable",PERFORMANCE_WARING:"$$_perf_warning",START_ID:"START_ID",AUTO_GET_OPENID:"autoGetOpenid",TRACKDOMAIN:"trackDomain",APLUS_MINI_REQUEST_TIMEOUT:"aplus-request-timeout",APLUS_LATEAST_UTM:"APLUS_LATEAST_UTM",APLUS_FORWARD_APPKEY:"aplus-forward-appkey",APLUS_FORWARD_DOMAIN:"aplus-forward-domain",APLUS_FORWARD_EVENT_FILTER:"aplus-forward-event-filter",CNA_SYNC_READY:"cnaSyncReady",PAGE_CONFIG:"pageConfig",APLUS_VT_CONFIG_URL:"aplus-vt-cfg-url",APLUS_EXPOSURE_EVENT_CAN_REPEAT:"aplus-exposure-event-can-repeat",APLUS_MINI_REQUESTS_LIMIT:"aplus-mini-requests-limit",DEBUG:"DEBUG",APLUS_UTM_EXPIRE_DAYS:"aplus-utm-expire-days",APLUS_PAGEVIEW_DURATION_CAN_TRACK:"aplus-pageview-duration-can-track",APLUS_PRESET_EVENTS_DISABLED:"aplus-preset-events-disabled",APLUS_GLOBALPROPERTY_SYNC_ENABLE:"aplus-globalproperty-sync-enable",APLUS_NEXT_PAGE_TRANSP:"aplus-nextpage-properties",APLUS_LOCALSTORE_PAGE_TRANSP:"aplus-native-page-properties",APLUS_CALLBACK:"qtCallback",START_TIME:"start_time",DEFAULT_REQUEST_TIMEOUT:3e3,APLUS_SDK_DISABLE:"aplus-sdk-disable"},te={record:"".concat($,".record"),sendPV:"".concat($,".sendPV"),setMetaInfo:"".concat($,".setMetaInfo"),appendMetaInfo:"".concat($,".appendMetaInfo")},ne=Object.freeze({OK:200,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,BAD_REQUEST:400,NOT_FOUND:404,SERVER_ERROR:500}),ae=Object.freeze({GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",WebSocket:"WS",WebSocketOnly:"WS-ONLY"}),oe=Object.freeze({codelessCollectorPageStatus:"codelessCollectorPageStatus",currentDeviceEnable:"currentDeviceEnable",codelessClickEventStatus:"codelessClickEventStatus",codelessStatus:"codelessStatus",codelessIgnoreComponent:"codelessIgnoreComponent"}),re=f.indexOf;function ie(){}ie.prototype.create=function(e){for(var t in e)void 0===this[t]&&(this[t]=e[t]);return this};ie.prototype.calledList=[];ie.prototype.setCalledList=function(e){-1===re(this.calledList,e)&&this.calledList.push(e)};ie.prototype.resetCalledList=function(){this.calledList=[]};ie.prototype.wrap=function(e,t){var n=this,a=((this.context||{}).Compose||{}).maxTimeout||1e4;return function(o){var r,i=e.length,s=0,c=0;n.calledList&&n.calledList.length>0&&n.resetCalledList();return function u(l,f){if(s!==i){if(-1===re(n.calledList,s)){n.setCalledList&&n.setCalledList(s);if(!(e&&e[s]&&m(e[s][0])))return;try{o=e[s][0].call(n,o,(function(){s++;c=1;u()}))}catch(e){console.log(e)}}var p="number"==typeof o;if("pause"===o||p){c=0;var d=p?o:a,g=e[s]?e[s][1]:"";r=setTimeout((function(){if(0===c){P().w("jump the middleware about "+g+", because waiting timeout maxTimeout = "+d);o=null;s++;u()}}),d)}else if("done"===o)u(s=i,o);else{s++;u()}}else{o="done";n.resetCalledList();m(t)&&f!==o&&t.call(n,o);clearTimeout(r)}}()}};function se(){return{init:function(e){this.opts=e;e&&"object"===a(e.middleware)&&e.middleware.length>0?this.middleware=e.middleware:this.middleware=[];this.plugins_name=[]},pubsubInfo:function(e,t){try{var n=e.pubsub;n&&n.publish("plugins_change_"+e.pubsubType,t)}catch(e){console.log(e)}},isConstructor:function(e){var t=!0;try{new e}catch(e){t=!1}return t},run:function(e){e||(e=0);var t=this,n=this.middleware,o=this.opts||{},r=o.plugins;if(r&&"object"===a(r)&&r.length>0){var i=r[e];this.plugins_name.push(i.name);n.push([function(e,n){t.pubsubInfo(this,i);var a;i.path&&t.isConstructor(i.path)?a=i.path:i.path.default&&t.isConstructor(i.path.default)&&(a=i.path.default);if(a){var r=new a({context:this.context,config:p(i.config||{},o.config)});if(!r.options){r.init||(r.init=function(e){this.options=e});r.init({context:this.context,config:p(i.config||{},o.config)})}return r.run(e,(function(e){setTimeout((function(){n(i,e)}),1)}))}},i.name]);if(r[++e])return this.run(e)}return n}}}var ce,ue,le=function(){};le.prototype.run=function(e,t,n){var a=new se;a.init({middleware:[],config:t.config,plugins:e.plugins});var o=a.run(),r=m(e.context)?new e.context:e.context;r.userdata=t.userdata;var i={context:r,pubsub:x(R()+"_pubsub"),pubsubType:t&&t.pubsubType},s=new ie;s.create(i);s.wrap(o,(function(){i.context.status="complete";if(t){t.middlewareMessageKey&&j([t.middlewareMessageKey,i.context]);t.messageFnQueue&&u(t.messageFnQueue,(function(t){t(getGlobalValue(R()),e)}))}m(n)&&n(i.context)}))()};var fe,pe,de,ge,he,_e={pushIntoGoldlogQueue:function(e,t){var n=M(N()),a=M(R()),o=e.split("."),r=a[o[1]],i=r?r[o[2]]:null;a&&2===o.length&&r?r.apply(a,t):3===o.length&&i?i.apply(r,t):n.push({action:e,arguments:t})}},me=!1,ve={},ye="touchstart",be="touchend",Ae="touchmove",Se="tapping",Ee="touchcancel",Te="aplus_tap".concat((pe=1e5,(fe=1)+Math.floor(Math.random()*(pe-fe+1))));function we(e,t,n){var o=document.createEvent("HTMLEvents");o.initEvent(t,!0,!0);if("object"===a(n))for(var r in n)o[r]=n[r];e.dispatchEvent(o)}function Pe(e){var t=document.documentElement;if(0===Object.keys(ve).length){t.addEventListener(Ae,Oe,!1);t.addEventListener(be,Ce,!1);t.addEventListener(Ee,Ce,!1)}for(var n=0;n<e.changedTouches.length;n++){var a=e.changedTouches[n],o={};for(var r in a)o[r]=a[r];var i={startTouch:o,startTime:Date.now(),status:Se,element:e.srcElement||e.target};ve[a.identifier]=i}}function Oe(e){for(var t=0;t<e.changedTouches.length;t++){var n=e.changedTouches[t],a=ve[n.identifier];if(!a)return;var o=n.clientX-a.startTouch.clientX,r=n.clientY-a.startTouch.clientY,i=Math.sqrt(Math.pow(o,2)+Math.pow(r,2));(a.status===Se||"pressing"===a.status)&&i>10&&(a.status="panning")}}function Ce(e){for(var t=0;t<e.changedTouches.length;t++){var n=e.changedTouches[t],a=n.identifier,o=ve[a];if(o){if(o.status===Se&&e.type===be){o.timestamp=Date.now();we(o.element,Te,{touch:n,touchEvent:e})}delete ve[a]}}var r=document.documentElement;if(0===Object.keys(ve).length){r.removeEventListener(Ae,Oe,!1);r.removeEventListener(be,Ce,!1);r.removeEventListener(Ee,Ce,!1)}}function Ie(e,t){!function(){if(!me){document.documentElement.addEventListener(ye,Pe,!1);me=!0}}();if(e&&e.addEventListener&&t){!function(e){if(!e.__fixTouchEvent){e.addEventListener(ye,(function(){}),!1);e.__fixTouchEvent=!0}}(e);e.addEventListener(Te,t._aplus_tap_callback=function(e){t(e,e.target)},!1)}}function ke(){var e=[];try{var t=location.hostname;if("localhost"===t)return[t];for(var n=t.split("."),a=2;a<=n.length;){e.push(n.slice(n.length-a).join("."));a++}}catch(e){}return e}function Re(e,t){return e&&e.getAttribute&&e.getAttribute(t)||""}function Ne(e,t,n){if(e&&e.setAttribute)try{e.setAttribute(t,n)}catch(e){}}function Me(){ge||(ge=document.getElementById("beacon-aplus")||document.getElementById("tb-beacon-aplus"));return ge}function xe(e){var t=Re(Me(),"cspx");e&&t&&(e.nonce=t)}function Le(e,t){var n=((M(R())._$||{}).meta_info||{}).aplus_ctap||{};n&&"function"==typeof n.on?n.un(e,t):function(e,t){e&&e.removeEventListener&&t&&t._aplus_tap_callback&&e.removeEventListener(Te,t._aplus_tap_callback,!1)}(e,t)}function De(e){try{document.documentElement.doScroll("left")}catch(t){setTimeout((function(){De(e)}),1);return}e()}function Ue(e){var t,n=0,a=function(){0===n&&e();n++};"complete"===document.readyState&&a();if(document.addEventListener){t=function(){document.removeEventListener("DOMContentLoaded",t,!1);a()};document.addEventListener("DOMContentLoaded",t,!1);window.addEventListener("load",a,!1)}else if(document.attachEvent){t=function(){if("complete"===document.readyState){document.detachEvent("onreadystatechange",t);a()}};document.attachEvent("onreadystatechange",t);window.attachEvent("onload",a);var o=!1;try{o=null===window.frameElement}catch(e){}document.documentElement.doScroll&&o&&De(a)}}function je(){var e,t,n=window,a=arguments;if(2===a.length){"DOMReady"===a[0]&&Ue(a[1]);"onload"===a[0]&&Be(a[1])}else if(3===a.length){var o=a[0],r=a[1],i=a[2];if("tap"===r||"tapSpm"===r)!function(e,t,n){var a=(M(R())._$||{}).meta_info||{},o=a.aplus_ctap||{},r=a["aplus-touch"];if(o&&"function"==typeof o.on)o.on(e,t);else{var i="ontouchend"in document.createElement("div");!i||"tap"!==r&&"tapSpm"!==n&&"tap"!==n?je(e,i?"touchstart":"mousedown",t):Ie(e,t)}}(o,i,r);else{["pushState","replaceState"].indexOf(r)>-1&&(history[r]=(e=r,t=history[e],function(){var n;try{(n=new Event(e)).arguments=arguments}catch(t){(n=document.createEvent("Event")).initEvent(e,!0,!0)}window.dispatchEvent(n);return t.apply(this,arguments)}));var s=document.attachEvent?"attachEvent":"addEventListener",c=!!document.attachEvent;o[s]((c?"on":"")+r,(function(e){var t=(e=e||n.event).target||e.srcElement;"function"==typeof i&&i(e,t)}),!!function(e){if("boolean"==typeof ue)return ue;if(!/touch|mouse|scroll|wheel/i.test(e))return!1;ue=!1;try{var t=Object.defineProperty({},"passive",{get:function(){ue=!0}});window.addEventListener("test",null,t)}catch(e){}return ue}(r)&&{passive:!0})}}}function Be(e){"complete"===document.readyState?e():je(window,"load",e)}function Ve(e){try{return localStorage.getItem(e)}catch(e){return""}}function Fe(e,t){return e&&e[t]?e[t].toLowerCase():""}function Ge(e,t){var n=e;do{n=n[t]}while(n&&1!==n.nodeType);return n}function He(e){return Ge(e,"previousSibling")}function Ke(e){return e&&e.id&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e.id)}function We(e){if(!e.parentNode)return-1;for(var t=0,n=Fe(e,"tagName"),a=e.parentNode.children,o=0;o<a.length;){if(n&&Fe(a[o],"tagName")===n){if(e===a[o])return t;t++}o++}return-1}function qe(e){var t=e.parentNode&&9===e.parentNode.nodeType?-1:We(e);return e.getAttribute&&e.getAttribute("id")&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e.getAttribute("id"))?"#".concat(e.getAttribute("id")):Fe(e,"tagName")+(~t?":nth-of-type(".concat(t+1,")"):"")}function ze(e,t){if("aplus-autotrack-off"===t){for(var n=e,a=!1;n;){if(n.hasAttribute&&n.hasAttribute(t)){a="true"===n.getAttribute(t);break}n=n.parentNode}return a}return e.hasAttribute?e.hasAttribute(t):!(!e.attributes[t]||!e.attributes[t].specified)}function Ye(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function $e(e){if(!document)return"";var t=document.cookie.match(new RegExp("(?:^|;)\\s*".concat(e,"=([^;]+)")));return t?t[1]:""}function Qe(e){var t=new Date,n="";if("session"===e.expires);else if(e.expires&&("number"==typeof e.expires||e.expires.toUTCString)){"number"==typeof e.expires?t.setTime(t.getTime()+24*e.expires*60*60*1e3):t=e.expires;n="expires=".concat(t.toUTCString())}else{t.setTime(t.getTime()+63072e7);n="expires=".concat(t.toUTCString())}return n}function Xe(e,t,n){if(document){n||(n={});t+=";".concat(Qe(n));t+="; path=".concat(n.path?n.path:"/");t+="; domain=".concat(n.domain);document.cookie="".concat(e,"=").concat(t);var a=0;try{var o=navigator.userAgent.match(/Chrome\/\d+/);o&&o[0]&&(a=o[0].split("/")[1])&&(a=parseInt(a,10))}catch(e){}if(n.SameSite&&a>=80){t+="; SameSite=".concat(n.SameSite);t+="; Secure";document.cookie="".concat(e,"=").concat(t)}return $e(e)}}var Je=["tracknick","thw","cna"];function Ze(e,t){var n,a="";if(!e||!t)return a;try{var o=new RegExp("".concat(e,"=([^&|#|?|/]+)"));if("spm"===e||"scm"===e){var r=new RegExp("\\?.*".concat(e,"=([\\w\\.\\-\\*/]+)")),i=t.match(o),s=t.match(r),c=i&&2===i.length?i[1]:"",u=s&&2===s.length?s[1]:"";a=c>u?c:u;a=decodeURIComponent(a)}else a=(n=t.match(o))&&2===n.length?n[1]:"";return a}catch(e){P().w("get param from url failed",e);return a}}function et(e){de=de||document.getElementsByTagName("head")[0];return he&&!e?he:de?he=de.getElementsByTagName("meta"):[]}function nt(e,t){var n,a,o,r=et(),i=r.length;for(n=0;n<i;n++)Re(a=r[n],"name")===e&&(o=Re(a,t||"content"));return o||""}function at(e,t){var n="aplus&sidx=aplusSidex&ckx=aplusCkx",a=e||n;try{if(t){var o=y(t),r=[ee.APLUS,"cna",Q.SPM_CNT,Q.SPM_URL,Q.SPM_PRE,"logtype","pre","uidaplus","asid","sidx","trid","gokey"];f.each(r,(function(e){if(Object.prototype.hasOwnProperty.call(o,e)){P().w("Can not inject keywords: ".concat(e));delete o[e]}}));delete o[""];var i="";if(e){var s=e.match(/aplus&/).index,c=s>0?y(e.substring(0,s)):{};delete c[""];i="".concat(A(h.assign(c,o)),"&").concat(e.substring(s,e.length))}else i="".concat(A(o),"&").concat(n);return i}return a}catch(e){return a}}function ot(){var e=at(Re(Me(),"exparams"),function(){var e=M(R());return((e&&e._$?e._$:{}).meta_info||{})["aplus-exparams"]||""}())||"";return e&&e.replace(/&amp;/g,"&").replace(/\buser(i|I)d=/,"uidaplus=")}var rt="history";function it(e){var t="";e&&(t=-1!==e.indexOf("?")?e.split("?")[0]:e);return t}var st={tryToGet:Re,tryToSet:Ne,tryToRemove:function(e,t){if(e&&e.removeAttribute)try{e.removeAttribute(t)}catch(n){Ne(e,t,"")}}},ct={getSDKScriptNode:Me,setNonce:xe,addScript:function(e,t,n){var a="script",o=document.createElement(a);o.type="text/javascript";o.async=!0;var r=Me();r&&r.hasAttribute("crossorigin")&&(o.crossOrigin="anonymous");var i=Q.HTTPS===location.protocol&&t||e;0===i.indexOf("//")&&(i=Q.HTTPS+i);o.src=i;n&&(o.id=n);xe(o);var s=document.getElementsByTagName(a)[0];de=de||document.getElementsByTagName("head")[0];s?s.parentNode.insertBefore(o,s):de&&de.appendChild(o)},loadScript:function(e,t){try{var n=document.createElement("script");de=de||document.getElementsByTagName("head")[0];n.async=!0;var a=function(e){n.onreadystatechange=null;n.onload=null;n.onerror=null;n=null;t(e)};if("onload"in n)n.onload=a;else{var o=function(){/loaded|complete/.test(n.readyState)&&a()};n.onreadystatechange=o;o()}n.onerror=function(e){a(e)};n.src=e;xe(n);var r="qt-setting";n.id=r;n.type="text/javascript";n.charset="utf-8";var i=document.getElementsByTagName("script");i&&i.length>0&&f.each(i,(function(e){e&&e.id===r&&de.removeChild(e)}));de.appendChild(n)}catch(e){}},isTouchEnabled:function(){return"ontouchend"in document.createElement("div")},getAttributeFromEachDom:function(e,t){for(var n="";"BODY"!==e.tagName&&!(n=Re(e,t));)e=e.parentNode;return n},siblings:function(e,t){return"nextSibling"===t?e.nextSibling:"previousSibling"===t?e.previousSibling:null},sibling:Ge,previousElementSibling:function(e){var t=e;if("previousElementSibling"in document.documentElement)return He(t);for(;t.previousSibling;)if(1===(t=t.previousSibling).nodeType)return t;return null},getSameTypeSiblings:function(e){for(var t=e,n=t.parentNode,a=Fe(t,"tagName"),o=[],r=0;r<n.children.length;){var i=n.children[r];1===i.nodeType&&a&&Fe(i,"tagName")===a&&o.push(n.children[r]);r++}return o},getNext:function(e){return Ge(e,"nextSibling")},getPrev:He,indexOf:function(e,t){var n=e.indexOf;if(n)return n.call(e,t);for(var a=0;a<e.length;a++)if(t===e[a])return a;return-1},getClosestLi:function(e){return function(e,t){for(;e&&e!==document&&1===e.nodeType;e=e.parentNode)if("li"===Fe(e,"tagName"))return e;return null}(e)},getElementPath:function(e){var t=[];if(!e)return"";for(;e.parentNode;){if(Ke(e)){t.unshift("".concat(Fe(e,"tagName"),"#").concat(e.id));break}if(e===document.body){t.unshift("body");break}if(e.tagName&&e.tagName.toLowerCase){t.unshift(Fe(e,"tagName"));e=e.parentNode}}return t.join(" > ")},getXPath:function(e){var t,n,a,o,r,i,s=document.getElementsByTagName("*");for(t=[];e&&1===e.nodeType;e=e.parentNode)if(e.id){i=e.id;o=0;for(n=0;n<s.length;n++)if((r=s[n]).id&&r.id===i){o++;break}t.unshift("".concat(e.tagName.toLowerCase(),'[@id="').concat(i,'"]'));if(1===o){t.unshift("/");return t.join("/")}}else{for(n=1,a=e.previousSibling;a;a=a.previousSibling)a.tagName===e.tagName&&n++;t.unshift("".concat(e.tagName.toLowerCase(),"[").concat(n,"]"))}return t.length?"/".concat(t.join("/")):null},getDomIndex:We,selector:qe,getDomSelector:function e(t,n){if(!t||!t.parentNode||!t.parentNode.children)return null;n=n&&n.join?n:[];if("body"!==Fe(t,"tagName")&&1===t.nodeType){n.unshift(qe(t));return t.getAttribute&&t.getAttribute("id")&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(t.getAttribute("id"))?n.join(" > "):e(t.parentNode,n)}n.unshift("body");return n.join(" > ")},hasAttributes:function(e,t){if("string"==typeof t)return ze(e,t);if(f.isArray(t)){for(var n=!1,a=0;a<t.length;a++)if(ze(e,t[a])){n=!0;break}return n}},hasAttribute:ze,getElementContent:function(e,t){var n="",a=M(R());e.textContent?n=Ye(e.textContent):e.innerText?n=Ye(e.innerText):"input"===t||"INPUT"===t?a.getMetaInfo(ee.SDK_AUTOTRACK_CONFIG).collect_input&&(n=encodeURIComponent(e.value)||""):"button"!==e.type&&"submit"!==e.type||(n=e.value||"");n&&(n=n.replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255));return n},nodelistToArray:function(e){var t,n;try{return t=[].slice.call(e)}catch(o){t=[];n=(e||[]).length;for(var a=0;a<n;a++)t.push(e[a]);return t}},addStyle:function(e,t){var n="".concat(e,"_style"),a=document.getElementById(n);if(!a){(a=document.createElement("link")).id=n;a.href=t;a.rel="stylesheet";a.type="text/css";document.getElementsByTagName("head").item(0).appendChild(a)}},getRefer:function(){return document.referrer||""},getDomName:Fe,setWinVariableKeyValue:function(e,t){window[e]=t}},ut={getCookie:$e,trySetCookie:Xe,setCookie:function(e,t,n){try{if(!document)return"";n||(n={});if(n.domain)Xe(e,t,n);else for(var a=ke(),o=0;o<a.length;){n.domain=a[o];Xe(e,t,n)?o=a.length:o++}}catch(e){}},getData:function(){var e={};f.each(Je,(function(t){e[t]=$e(t)}));if(location){var t=location.hostname;e.cnaui=/\btanx\.com$/.test(t)?$e("cnaui"):""}return e},getHng:function(){return encodeURIComponent($e("hng")||"")},getCna:function(e){return $e(e)||$e("_".concat(e))},setCna:function(e,t,n){for(var a=ke(),o=0;o<a.length;){n.domain=a[o];if(Xe(e,t,n))o=a.length;else{if(o===a.length-1){var r="".concat(t,";").concat(Qe(n));r+="; path=/";document.cookie="_".concat(e,"=").concat(r)}o++}}},getCookieFP:function(){var e,t=$e(Q._browerFP);t&&(e=t.split("_")[0]);return e},getAttrArgsFromCookie:function(e){var t={};f.each(e||[],(function(e){var n=e.commitKey||e,a=e.cookieName||e;t[n]=$e(a)||""}));return t}},lt={on:je,un:function(e,t,n){"tap"!==t?document.attachEvent?e.detachEvent(t,n):e.removeEventListener(t,n):Le(e,n)},onload:Be,domReady:Ue,addHandler:function(e,t,n){if(e.addEventListener){var a=M(R()).getMetaInfo(ee.APLUS_AUTOTRACK_CONFIG)||{};e.addEventListener(t,n,!!a.element_capture_enable||!1)}else e.attachEvent?e.attachEvent("on".concat(t),n):e["on".concat(t)]=n},removeHandler:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on".concat(t),n):e["on".concat(t)]=null},clickEvent:function(){return"ontouchstart"in document.documentElement==1?"touchstart":"click"}},ft={set:function(e,t){try{localStorage.setItem(e,t);return!0}catch(e){return!1}},get:Ve,test:function(){var e="grey_test_key";try{localStorage.setItem(e,1);localStorage.removeItem(e);return!0}catch(e){return!1}},remove:function(e){try{localStorage.removeItem(e);return!0}catch(e){return!1}},getLocalStorageFP:function(){var e,t=Ve(Q._browerFP);t&&(e=t.split("_")[0]);return e}},pt={getQueryFromUrl:function(){function e(e){for(var t=decodeURIComponent(e),n=t.indexOf("?")+1,a=t.substring(n),o=Object.create(null),r=a.split("&"),i=0;i<r.length;i++)o[r[i].split("=")[0]]=decodeURIComponent(r[i].split("=")[1]);return o}try{var t=location&&location.hash,n=location&&location.search;if(t&&-1!==t.indexOf("?"))return e(t);if(n&&-1!==n.indexOf("?"))return e(n)}catch(e){P().w("get query failed, current url =",location.href)}},getAParamFromUrl:Ze,addParamsIntoUrl:function(e,t){var n,a,o,r=t||location.href,i="&",s=[];f.each(e,(function(e,t){new RegExp("".concat(e,"=")).test(r)||s.push("".concat(e,"=").concat(t))}));if(0===s.length)return r;if(-1!==r.indexOf("#")){o=r.split("#");r=o.shift();a=o.join("#")}var c=r.split("?"),u=c.length-1;o=(o=c[0].split("//"))[o.length-1].split("/");if(u>0){n=c.pop();r=c.join("?")}n&&u>1&&-1===n.indexOf("&")&&-1!==n.indexOf("%")&&(i="%26");return r="".concat(r,"?").concat(s.join("&")).concat(n?i+n:"").concat(a?"#".concat(a):"")},getSPMFromUrl:function(e){return Ze("spm",e)},tryToEncode:function(e){var t=e||"";if(e)try{t=encodeURIComponent(decodeURIComponent(e))}catch(e){}return t},tryToDecode:function(e,t){var n=t||"";if(e)try{n=decodeURIComponent(e)}catch(e){}return n},getWebUrlParams:function(){for(var e=/[?&]([^=#]+)=([^&#]*)/g,t=window.location.href,n={},a=e.exec(t);a;){n[a[1]]=a[2];a=e.exec(t)}return n}},dt={getMetaTags:et,getMetaCnt:nt,mergeExparams:at,getExParams:ot,getExparamsInfos:function(e,t){for(var n={},a=e||["uidaplus","pc_i","pu_i"],o=ot()||"",r=S(o=o.replace(/&aplus&/,"&"))||[],i=function(e){return f.indexOf(a,e)>-1},s=0;s<r.length;s++){var c=r[s],u=c[0]||"",l=c[1]||"";u&&l&&("EXPARAMS"===t||i(u))&&(n[u]=l)}return n}},gt={watchHistoryChange:function(e){var t=M(R()),n=location.pathname+location.search;if(history.pushState&&window.addEventListener){_e.pushIntoGoldlogQueue("".concat(R(),".on"),[window,"pushState",function(e){a(e)}]);_e.pushIntoGoldlogQueue("".concat(R(),".on"),[window,"popstate",function(){a()}]);(nt("aplus-track-replacestate")||t.getMetaInfo("aplus-track-replacestate"))&&_e.pushIntoGoldlogQueue("".concat(R(),".on"),[window,"replaceState",function(e){a(e)}])}function a(a){var o="";if(a){o=a&&a.arguments&&a.arguments.length>2&&a.arguments[2];var r=/^http|https/.test(o)?o:"".concat(location.protocol,"//").concat(location.host).concat(o);location.href!==r&&setTimeout((function(){e&&"function"==typeof e&&e(o,rt)}),0)}else(o=location.pathname+location.search)!==n&&setTimeout((function(){e&&"function"==typeof e&&e(o,rt)}),0);if(t.getMetaInfo(ee.APLUS_EXPOSURE_EVENT_CAN_REPEAT)){var i="".concat(R(),"_pubsub");t[i].publish("APLUS_AE_PAGE_CHANGE")}n=o}},watchHashChange:function(e){var t=it(location.hash);_e.pushIntoGoldlogQueue("".concat(R(),".on"),[window,"hashchange",function(){var n=it(location.hash);if(t!==n){t=n;e&&"function"==typeof e&&e(t,"hash")}}])},retrenchHash:it};function ht(e,t){try{a=window,o={apiName:e.apiName,queueName:e.queueName},C=a._sdk_context||I.create(a,o);var n=M(R());j([Q.SDK_READY,"running"]);n&&(n.initParams=function(t){var n=x("_$")||{};n.meta_info=p(e.metaInfo,t);L("_$",n);!function(e){if("boolean"==typeof ce)return ce;if("boolean"==typeof e)ce=e;else if(localStorage&&location){var t=location.href.match(/debugMode=(true|false)/);t&&t.length>0&&localStorage.setItem("debugMode",t[1]);ce="true"===localStorage.getItem("debugMode")}else ce=!1;P().setDebug(ce,!1)}(t.DEBUG);if(t&&t.disableSDK){ft.set(ee.APLUS_SDK_DISABLE,!0);P().w("QuickTracking SDK is disabled!!!")}});!function(e,t){(new le).run({plugins:e.plugins,context:e.context},{config:{},userdata:{},pubsubType:"aplusinit",messageFnQueue:[],middlewareMessageKey:"mw_change_aplusinit"},(function(e){var n=["aplusInitContext",e];j(n);B(n);m(t)&&t(e)}))}({plugins:e.plugins,context:function(){var t={PAGE_LOAD_TIME:new Date};u(e.plugins,(function(e){t[e.name]=e.config||{};"aplus_log_inject"===e.name&&e.config&&e.config.plugins&&u(e.config.plugins.pv,(function(e){t[e.name]=e.config}))}));return p(t,{sdk_config:e})}},(function(e){if(m(t)){t(e);var n=["".concat(R(),"Ready"),"complete"];j(n);B(n)}}))}catch(e){}var a,o}function _t(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){if(this instanceof e){var n=[null];n.push.apply(n,arguments);return new(Function.bind.apply(t,n))}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};Object.defineProperty(n,"__esModule",{value:!0});Object.keys(e).forEach((function(t){var a=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,a.get?a:{enumerable:!0,get:function(){return e[t]}})}));return n}var mt="2.2.5",vt=0,yt={},bt={getStartId:function(){return T.getRandomStr(10)+Date.now()+T.getRandomStr(9)},getUUID:function(){return T.getRandomStr(10)+Date.now()+T.getRandomStr(9)},fixDomain:function(e){if(-1!==e.indexOf("https://")||-1!==e.indexOf("http://"))return e;e=(/^\/\//.test(e)?"":"//")+e;return/(\d+\.){3,}\d+/.test(e)?Q.HTTP+e:Q.HTTPS+e},getAppKey:function(){var e=M(R());return e.getMetaInfo("appkey")||e.getMetaInfo("appId")||e.getMetaInfo("appKey")},getTrackDomain:function(){var e=M(R());return e.getMetaInfo(ee.APLUS_PV_DOMAIN)||e.getMetaInfo(ee.TRACKDOMAIN)},checkDomain:function(e,t){var n=new RegExp(/^((http|https|''):\/\/)?([a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+(:[0-9]{1,5})*)(\/.*)?$/),a=((e||"").match(n)||[])[0];if(!e||!a){P().tip_w(P().repeat("!"));P().tip_w("trackDomain error, please check ".concat(t," setting, current value is: ").concat(e)||"undefined");P().tip_w("we accept these three patterns:");P().tip_w("eg1: https://test-qtracking-xxx.com:port/a/b/c, port is optional");P().tip_w("eg2: http://test-qtracking-xxx.com:port/a/b/c, port is optional");P().tip_w("eg3: test-qtracking-xxx.com:port/a/b/c, port is optional");P().tip_w(P().repeat("!"));return!1}return!0},checkOpenid:function(e){if(!e){P().tip_w(P().repeat("!"));P().tip_w("QT need an unique id as QT's deviceid!!");P().tip_w("setting examples: aplus_queue.push({action: '".concat(R(),".setMetaInfo', arguments: ['_anony_id', xxxxxx]});"));P().tip_w("referrence document: https://t.tb.cn/1dTHjTTQF0UjOTNHiCkaCS");P().tip_w(P().repeat("!"));return!1}return!0},checkEvent:function(e,t){if(!e||"string"!=typeof e){P().w("event logkey is invalid, id =",e||"'' event properties = ",_.stringfy(t.cusp));return!1}var n=["id","du"],o={};n.forEach((function(e){o[e]=1}));if(o[e]){P().e("eventId has conflict with reservewords: ".concat(n.join(",")));return!1}if(e.length>ee.MAX_EVENTID_LENGTH){P().e("The maximum length of event id shall not exceed ".concat(ee.MAX_EVENTID_LENGTH));return!1}if(t&&("object"!==a(t)||f.isArray(t))&&"string"!=typeof t){P().e("please check trackEvent properties. properties should be string or object(not include Array)");return!1}if("object"===a(t)){var r=0;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(i.length>ee.MAX_PROPERTY_KEY_LENGTH){P().e("The maximum length of property key shall not exceed ".concat(ee.MAX_PROPERTY_KEY_LENGTH));return!1}if(r>=ee.MAX_PROPERTY_KEYS_COUNT){P().e("The maximum count of properties shall not exceed ".concat(ee.MAX_PROPERTY_KEYS_COUNT));return!1}if(o[i]){P().e("property key has conflict with reserveWords: ".concat(n.join(",")));return!1}r+=1}}return!0},rank:function(){vt++;Object.prototype.hasOwnProperty.call(yt,vt)?vt++:yt[vt]=vt;return vt},clear:function(){vt=0;yt={}},zeroFill:function(e,t,n){var a="".concat(Math.abs(e)),o=t-a.length,r=e>=0,i=Math.pow(10,Math.max(0,o)).toString().substring(1)+a;return r?(n?"+":"")+i:"-".concat(i)},date2YYMMDD:function(e){try{var t=new Date;return[t.getFullYear(),this.zeroFill(t.getMonth()+1,2,0),this.zeroFill(t.getDate(),2,0)].join(e||"")}catch(e){return""}},date2YYMMDDHHMMSS:function(e){try{var t=new Date;return[t.getFullYear(),this.zeroFill(t.getMonth()+1,2,0),this.zeroFill(t.getDate(),2,0),this.zeroFill(t.getHours(),2,0),this.zeroFill(t.getMinutes(),2,0),this.zeroFill(t.getSeconds(),2,0)].join(e||"")}catch(e){return""}},mapEventSampleRates:function(e){var t=[];u(e,(function(e){e.eventIds&&e.eventIds.length>0&&u(e.eventIds,(function(n){t.push({eventId:n,samplingRate:e.samplingRate})}))}));return t},hash:function(e,t){var n,a=t||1315423911;for(n=e.length-1;n>=0;n--)a^=(a<<5)+e.charCodeAt(n)+(a>>2);for(var o=(2147483647&a).toString(16);o.length<8;)o+="0";return o},isDebug:function(){var e=!1,t=M(R());try{e=/debugMode=true/.test(location.href)||t.getMetaInfo("DEBUG")}catch(e){}return e},localAutoEventDisabled:function(){return!!M(R()).getMetaInfo(ee.APLUS_DISABLE_AUTOEVENT)},localAutoPVDisabled:function(){var e=M(R()),t=e.getMetaInfo(ee.APLUS_DISABLE_AUTOPV);return"string"==typeof t&&""===t?!(!e._$.meta_info[ee.APLUS_DISABLE_AUTOPV]&&"MAN"!==e._$.meta_info["aplus-waiting"]):!(!e.getMetaInfo(ee.APLUS_DISABLE_AUTOPV)&&"MAN"!==e.getMetaInfo("aplus-waiting"))},getAutoTrackStatus:function(){return!!M(R()).getMetaInfo(ee.APLUS_AUTOTRACK_ENABLED)},semicolonStr2Obj:function(e,t,n){t=t||{};var a,o,r=e.split(";"),i=r.length;for(o=0;o<i;o++){a=r[o].split("=");var s=T.trim(a.slice(1).join("="));t[T.trim(a[0])||""]=n?s:pt.tryToDecode(s)}return t},getEtagUrl:function(e){var t=M(R()),n=e;try{var a=t.getMetaInfo(ee.APLUS_PV_DOMAIN);a=this.fixDomain(a);n="".concat(a,"/eg.js")}catch(e){}return n},getImprintFromStorage:function(e){if(ft.get&&ft.test()){var t="",n=ft.get(e);if(n){var a=n.split("||")||[];t=a.length>1&&a[1]}return decodeURIComponent(t)}return""},setImprintToStorage:function(e,t){t&&ft.set&&ft.test()&&ft.set(e,"".concat(this.date2YYMMDDHHMMSS(),"||").concat(encodeURIComponent(t)))},setRemoteConfigToStorage:function(e,t){if(t&&ft.set&&ft.test()){var n=h.cloneDeep(t);"object"===a(n)&&(n=JSON.stringify(n));ft.set(e,"".concat(this.date2YYMMDDHHMMSS(),"||").concat(encodeURIComponent(n)))}},getRemoteConfigFromStorage:function(e){if(ft.get&&ft.test()){var t="",n=ft.get(e);if(n){var a=n.split("||")||[];t=a.length>1&&a[1]}return _.parse(decodeURIComponent(t))}return""},setCnaToStorage:function(e,t,n){n&&ft.set&&ft.test()&&ft.set(e,"".concat(t,"_").concat(encodeURIComponent(n)))},getCnaFromStorage:function(e,t){if(ft.get&&ft.test()){var n="",a=ft.get(e);if(a){var o=a.split("_")||[];n=t?o.length>1&&t===o[0]?o[1]:"":o.length>1?o[1]:""}return decodeURIComponent(n)}return""},deleteInfo:function(e,t){u(t,(function(t){delete e[t]}));return e},resetFn:function(){var e=arguments.length>0&&arguments[0]?arguments[0]:{},t=arguments.length>1&&arguments[1]?arguments[1]:"",n=arguments.length>2&&arguments[2]?arguments[2]:function(){},a=e[t];e[t]=function(){var e=a&&a.apply(this,arguments);return e?n.call(this,e):n.apply(this,arguments)}},rewriteFn:function(e,t,n){var a=e[t];e[t]=function(e){n.call(this,e);a&&a.call(this,e)}},getHashKey:function(e,t){var n=[t.logkey,t.cssSelector];t.positionSelector&&n.push(t.positionSelector);e.id&&n.push(e.id);e.index>=0&&n.push(e.index);e.dataset&&e.dataset.privateNodeId&&delete e.dataset.privateNodeId;e.dataset&&n.push(JSON.stringify(e.dataset));return n=n.join("_")},getTimeZone:function(){var e=-(new Date).getTimezoneOffset()/60;return Math.abs(parseInt(e,10))},convertNativeMapStringToJSON:function(e){var t=e.replace(/(\w+)=([^,]+)/g,'"$1":"$2"').replace(/[{}]/g,""),n="{".concat(t,"}");return JSON.parse(n)}},At={rank:bt.rank,clear:bt.clear},St={localAutoEventDisabled:bt.localAutoEventDisabled,localAutoPVDisabled:bt.localAutoPVDisabled,getAutoTrackStatus:bt.getAutoTrackStatus},Et={set:bt.setRemoteConfigToStorage,get:bt.getRemoteConfigFromStorage},Tt={set:bt.setImprintToStorage,get:bt.getImprintFromStorage},wt={set:bt.setCnaToStorage,get:bt.getCnaFromStorage},Pt={resetFn:bt.resetFn,rewriteFn:bt.rewriteFn};bt.LocalCfgUtils=St;bt.RemoteCfgUtils=Et;bt.CNAUtils=wt;bt.ImprintUtils=Tt;bt.AccessType={MOBILE_NETWORK_2G:"2g",MOBILE_NETWORK_3G:"3g",MOBILE_NETWORK_4G:"4g",MOBILE_NETWORK_NONE:"none"};bt.FunctionUtils=Pt;bt.RankUtils=At;var Ot,Ct,It,kt=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"run",value:function(){try{var e=M(R()),t=bt.getStartId();e[ee.START_ID]=t;e[ee.START_TIME]=Date.now()}catch(e){}}}])}(),Rt=_t(Object.freeze({__proto__:null,default:kt})),Nt=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"run",value:function(){var e=document,t=M(R());if(!t._aplus_cplugin_track_deb){t._aplus_cplugin_track_deb={status:"init"};var n=window,a=function(e){t._aplus_cplugin_track_deb.status="start";var n={aplus_track_debug_id:e},a=M(N());a.push({action:"".concat(R(),".appendMetaInfo"),arguments:["aplus-exdata",n]});a.push({action:"".concat(R(),".appendMetaInfo"),arguments:["aplus-cpvdata",n]});t._aplus_cplugin_track_deb.status="complete"};lt.on(n,"message",(function e(){var t=e&&e.data;if(t&&"qt_verify_msg"===t.message){window.localStorage.setItem("aplus_track_debug_id",t.data);a(t.data);e.source&&e.source.postMessage({message:"qt_msg_sdk"},e.origin)}}));var o=function(){try{var t=n.localStorage,a="aplus_track_debug_id",o=new RegExp("[?|&]".concat(a,"=(\\w*)")),r=location.href.match(o);if(r&&r.length>0)t.setItem(a,r[1]);else{var i=(e.referrer||"").match(o);if(i&&i.length>0)t.setItem(a,i[1]);else{var s=(n.name||"").match(o);s&&s.length>0&&t.setItem(a,s[1])}}var c=t.getItem(a)||"";if(!(c&&c.length>50))return!1;var u,l=c.split("_");if(l&&l.length>0){u=l[l.length-1].replace(/log/,"");var f=new Date,p=f.getTime(),d=new Date;d.getTime();f.setFullYear(parseInt(u.substring(0,4),10));f.setMonth(parseInt(u.substring(4,2)-1,10));f.setDate(parseInt(u.substring(6,2),10));f.setHours(parseInt(u.substring(8,2),10));f.setMinutes(parseInt(u.substring(10,2),10));f.setSeconds(parseInt(u.substring(12,2),10));f.setMilliseconds(0);p=f.getTime();return d.getTime()-p<=36e5&&(c||r[1])}}catch(e){return!1}}();o&&a(o)}}}])}(),Mt=_t(Object.freeze({__proto__:null,default:Nt})),xt=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"run",value:function(e,t){var n=setInterval((function(){if(document.getElementsByTagName("body").length){clearInterval(n);n=null;t()}}),50);setTimeout((function(){n&&clearInterval(n)}),1e3);return 1e3}}])}(),Lt=_t(Object.freeze({__proto__:null,default:xt})),Dt=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"run",value:function(){M(R())._aplus_client=function(){var e=navigator.userAgent,t={},n=e.match(/iphone|ipad|android|macintosh/i),a=e.match(/Darwin/i);t=n?function(e,t){var n=e.substring(e.indexOf("(")+1,e.indexOf(")")),a={device_model:t},o=t.toLowerCase();switch(o){case"ipad":case"iphone":case"ipod":case"macintosh":"macintosh"===o?/Mac OS X/.test(n)?a.os="Mac OS X":a.os="Mac OS":a.os="IOS";a.os_version=n.match(/[0-9_.]+/)[0];break;case"android":a.os="Android";a.os_version=n.match(/[0-9.]+/)[0]}a.os_version=a.os_version.replace(/_/g,".");return a}(e,n[0]):a?{os:"Darwin",os_version:e.split(" ")[2].match(/[0-9.]+/)[0],device_model:"Darwin"}:function(e){for(var t=[["Windows NT 5.1","winXP"],["Windows NT 6.1","win7"],["Windows NT 6.0","winVista"],["Windows NT 6.2","win8"],["Windows NT 6.3","win8.1"],["Windows NT 10.0","win10"],["Ubuntu","ubuntu"],["Linux","linux"],["Windows NT 5.2","win2003"],["Windows NT 5.0","win2000"],["Windows 10(WOW64)","win10"],["Windows","winOther"],["rhino","rhino"]],n=0,a=t.length;n<a;++n){var o=t[n][0];if(-1!==e.indexOf(o)){var r=o.split(" ")[0];return{device_model:r,os:r,os_version:t[n][1]}}}var i="other";return{device_model:i,os:i,os_version:i}}(e);var o=screen||{};t.screenWidth=o.width;t.screenHeight=o.height;if(navigator){t.userAgent=navigator.userAgent||"-";t.language=navigator.language||navigator.userLanguage||"-"}return t}()}}])}(),Ut=_t(Object.freeze({__proto__:null,default:Dt})),jt={};function Bt(){if(document){var e=dt.getMetaTags();!function(e){var t,n,a,o=e.length,r={};for(t=0;t<o;t++){n=e[t];if("microscope-data"===st.tryToGet(n,"name")){a=st.tryToGet(n,"content");bt.semicolonStr2Obj(a,r);jt.is_head_has_meta_microscope_data=!0}}}(e);f.each(e,(function(e){var t=st.tryToGet(e,"name");(/^aplus/.test(t)||/^qt/.test(t))&&(jt[t]=dt.getMetaCnt(t))}));var t,n,a=["aplus-rate-ahot"],o=a.length;for(t=0;t<o;t++)jt[n=a[t]]=parseFloat(jt[n])}Ct=jt||{};return jt}function Vt(){return Ct||Bt()}function Ft(e,t){Ct||(Ct={});if("object"===a(Ot)&&Ot[e]){!function(e){P().w("please do not repeat setPriorityMetaInfo ".concat(e))}(e);return!0}Ct[e]="aplus-exinfo"===e?"object"===a(t)?t:y(t):t;if(e===ee.APLUS_SDK_DISABLE)if(t){P().w("QuickTracking SDK disabled!!!");ft.set(e,t)}else{P().w("QuickTracking SDK enabled!!!");ft.remove(e)}try{e!==Q._DEV_ID&&e!==Q._USER_ID||ft.set(e,t||"")}catch(e){}return!0}function Gt(e){Ct||(Ct={});try{if(e===Q._DEV_ID)return Ct[e]||ft.get(Q._DEV_ID)||ft.get(Q._CNA)||ut.getCna(Q._CNA);if(e===Q._USER_ID)return Ct[e]||ft.get(Q._USER_ID)}catch(e){}return Ct[e]||""}function Ht(){var e=document,t="//g.alicdn.com";if(e){var n=e.getElementById("beacon-aplus")||e.getElementById("tb-beacon-aplus"),a=["//assets.alicdn.com/g"];if(n)for(var o=0;o<a.length;o++)if(new RegExp(a[o]).test(n.src)){t=a[o];break}}return t}function Kt(){It||(It=Ht());return"//assets.alicdn.com/g"===It||"//laz-g-cdn.alicdn.com"===It||"int"===Gt("aplus-env")}var Wt=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"run",value:function(){!function(e){var t=M(R()),n=x("_$")||{},a=ct.getRefer();n.send_pv_count=0;n.spm={data:{},page_referrer:a};n.page_referrer=a;t.globalConfig=e.globalConfig;n.meta_info=h.assign(Vt(),n.meta_info)||{};for(var o in e.metaInfo)if(o===ee.APLUS_PV_DOMAIN||o===ee.APLUS_EKV_DOMAIN){n.meta_info[ee.APLUS_PV_DOMAIN]=n.meta_info[ee.TRACKDOMAIN];n.meta_info[ee.APLUS_EKV_DOMAIN]=n.meta_info[ee.TRACKDOMAIN]}else o!==ee.APPKEY&&(n.meta_info[o]=e.metaInfo[o]);for(var r in n.meta_info)Object.prototype.hasOwnProperty.call(n.meta_info,r)&&Ft(r,n.meta_info[r]);t._$=n;t.isInternational=Kt;t.getCdnPath=Ht}(this.options.context.sdk_config)}}])}(),zt=_t(Object.freeze({__proto__:null,default:Wt}));function Yt(e){if("function"==typeof e)try{e()}catch(e){t={msg:e.message||e},n="exception",M(N()).push({action:"".concat(R(),"._aplus_cplugin_track_deb.monitor"),arguments:[{key:"APLUS_PLUGIN_DEBUG",title:"aplus_core",msg:["_error_:methodName=".concat(n,",params=").concat(JSON.stringify(t))],type:"updateMsg",description:n||"aplus_core"}]})}var t,n}var $t="data-aplus-ae",Qt="data-aplus-clk",Xt="data-spm-anchor-id",Jt="data-aplus-vt-pos",Zt=1e3;function en(){return{method:ae.POST,pkgSize:10}}function tn(e){var t=M(R());return t&&t.getMetaInfo?t.getMetaInfo(e):dt.getMetaCnt(e)}var nn=function(e){var t=e;try{var n=tn("aplus-auto-exp-visible");n&&(t=parseFloat(n));t<=0&&(t=e);return t}catch(n){return t=e}},an=nn(.3),on=nn("aplus-auto-exp-visible"),rn=nn("aplus-auto-exp-window")||on,sn=function(e){var t=e;try{var n=tn("aplus-auto-exp-duration"),a=parseInt(n,10);"NaN"!=="".concat(a)&&(t=a);return t}catch(e){return t}}(300);function cn(e,t){var n,o=[],r=[];try{n=t||tn(e);var i=[];if(n&&"string"==typeof n)try{i=JSON.parse(n)}catch(e){i=JSON.parse(n.replace(/'/g,'"'))}else"object"===a(n)&&n.constructor===Array&&(i=n);if(i&&i.constructor===Array)for(var s=0;s<i.length;s++){var c=i[s]||{},u=c.logkey||"",l=c.tag?c.tag:"",p=c.filter,d=c.cssSelector;if(!u||!(d||l&&p))throw new Error("meta ".concat(e," config error, ").concat(JSON.stringify(c)));p="string"==typeof p?p.split("="):[];var g=l;p.length>=2?g+="[".concat(p.shift(),'="').concat(decodeURIComponent(p.join("")),'"]'):1===p.length&&p[0]&&(g+="[".concat(decodeURIComponent(p[0]),"]"));d&&(g+=d);c.elementSelector=g;if(f.indexOf(r,g)>-1)throw new Error("meta ".concat(e," config error, tag_filter_cssSelector ").concat(g," repeated"));r.push(g);o.push(c)}return o}catch(e){P().w(e);return o}}function un(e){return cn("aplus-auto-exp",e)||[]}function ln(){var e=tn("aplus-auto-exp-userfn");if(e){var t=window[e]||e;if("function"==typeof t)return t}return null}function fn(){var e=!1;try{e="throttle"===tn("aplus-auto-exp-watchdom")}catch(e){}return e}function pn(e){return cn("aplus-auto-clk",e)||[]}var dn=document,gn=window;function hn(e,t){var n=[];if((t||dn).querySelectorAll)n=ct.nodelistToArray(document.querySelectorAll(e.elementSelector)||[]);else for(var a=document.getElementsByTagName(e.tag),o=e.filter.split("="),r=o.length>0?o[0].trim():"",i=o.length>1?o[1].trim():"",s=0;s<a.length;s++){var c=a[s],u=c.getAttribute(r);!c.hasAttribute(r)||i&&i!==u||n.push(c)}return n}var _n=/aplusDebug=true/.test(location.href)||/debugMode=true/.test(location.href);function mn(e,t,n){var a=n;a||(a={});try{var o=e.props||[];if(o&&l(o)&&o.length>0)for(var r=0;r<o.length;r++)if(t&&t.getAttribute){var i=o[r],s=t.getAttribute(i);null!=s&&""!==s&&(a[i.toLowerCase().replace(/^data-/,"")]=s)}}catch(e){P().w(e&&e.message)}return a}function vn(e,t,n){var a=n;a||(a={});try{var o=(e.filter||"").split("=");if(l(o)&&o[1])a[o[0]]=o[1];else if(o[0]&&t&&t.getAttribute){var r=t.getAttribute(o[0])||"";null!=r&&""!==r&&(a[o[0]]=r)}}catch(e){P().w(e&&e.message)}return a}var yn="data-tracker-params";function bn(e){var t={};try{var n=vn({filter:yn},e);n&&n[yn]&&(t=JSON.parse(n[yn]))}catch(e){}return t}function An(e,t,n){n||(n={});var a,o,r;a=e&&e.spmB?e.spmB:document.body.dataset&&document.body.dataset.pagename;o=e&&e.spmC?e.spmC:t.parentNode&&t.parentNode.dataset&&t.parentNode.dataset.spmc;r=e&&e.spmD?e.spmD:t.dataset&&t.dataset.spmd;t.dataset&&t.dataset.aplusVtPos&&(r+="_".concat(t.dataset.aplusVtPos));a&&(n.spmB=a);o&&(n.spmC=o);r&&(n.spmD=r);return n}function Sn(e){return!!/^POST|GET$/i.test(e)}function En(e){return!!(/^\d+$/.test(e)&&parseInt(e,10)>0)}function Tn(e){var t=en()||{};try{var n=e||{};Sn(n.method)&&(t.method=n.method);En(n.pkgSize)&&(t.pkgSize=parseInt(n.pkgSize,10))}catch(e){P().w(e&&e.message)}return t}var wn=function(e){var t=e.split("&"),n={};t.length>0&&u(t,(function(e){var t=e.split("=");2===t.length&&(n[t[0]]=pt.tryToEncode(t[1]))}));return n};function Pn(e,t,n,o){var r={userdata:{},spm:"",scm:""};try{var i=e(t,n,o);if(i)if("string"==typeof i)r.userdata=wn(i);else if("object"===a(i)&&"object"===a(i.userdata)){g(i.userdata,(function(e,t){r.userdata[e]=t}));r.spm=i.spm;r.scm=i.scm}}catch(e){P().w(e)}return r}function On(e,t){var n=M(R()),a={};"aplus_webvt"!==e.source&&(a=function(e){var t=e.getAttribute("data-spm-anchor-id");if(t){var n=t.split(".");return{a:n[0],b:n[1],c:n[2],d:n[3],e:n[4]}}}(t.ele)||(window.g_SPM?window.g_SPM.getParam(t.ele):{}));var o="",r="x".concat(t.index);if(a.a&&a.b&&a.c&&a.d){var i=/^i/.test(a.d)?r:a.d;o="".concat(a.a,"_").concat(a.b,"_").concat(a.c,"_").concat(i);a.e&&(o+="_".concat(a.e))}else{o=r;n.pvid&&(o+=n.pvid)}if(!t.ignore_attr){o+="".concat(e.logkey,"_");o+="".concat(e.elementSelector,"_");o+=function(e,t){var n="";if(e&&t){var a=[e.getAttribute(t.filter)],o=t.props||[];if(o)for(var r=0;r<o.length;r++)a.push(e.getAttribute(o[r]));n=a.join("_")}return n}(t.ele,e)}return"".concat(r,"_").concat(bt.hash(o))}var Cn=function(e,t,n,o){n||(n="ADD");if(e&&"object"===a(t)){var r=x(o)||{},i=r._acHashMap||{},s=i[e]||[],c=function(){for(var e=0,n=s.length;e<n;){if((s[e]||{}).hash_value===t.hash_value)return e;e++}return-1}();if("ADD"===n&&-1===c){s.push(t);!function(e,t,n){var a=t.hash_value,o=x(n)||{};o.hash_value||(o.hash_value={});o.hash_value[e]||(o.hash_value[e]=gn.Map?new gn.Map:{});if(gn.Map){var r=o.hash_value[e].get(a);r?++r:r=1;o.hash_value[e].set(a,r)}else o.hash_value[e][a]?++o.hash_value[e][a]:o.hash_value[e][a]=1;L(n,o)}(e,t,o)}else"CLEAR"===n&&c>-1?s.splice(c,1):"UPDATE"===n&&(s=function(e,t){for(var n,a=0,o=e.length;a<o;){if((e[a]||{}).hash_value===t.hash_value){e[a]=t;n=!0;return e}a++}n||e.push(t);return e}(s,t));i[e]=s;r._acHashMap=i;L(o,r)}};function In(e,t,n){Cn(e,t,n,"_aplus_auto_exp")}function kn(e,t,n){Cn(e,t,n,"_aplus_ac")}var Rn=function(){return(new Date).getTime()};function Nn(e,t,n){var a,o,r,i,s=0;n||(n={});var c=function(){s=!1===n.leading?0:Rn();a=null;i=e.apply(o,r);if(!a){o=null;r=null}},u=function(){var u=Rn();s||!1!==n.leading||(s=u);var l=t-(u-s);o=this;r=arguments;if(l<=0||l>t){if(a){clearTimeout(a);a=null}s=u;i=e.apply(o,r);if(!a){o=null;r=null}}else a||!1===n.trailing||(a=setTimeout(c,l));return i};u.cancel=function(){clearTimeout(a);s=0;a=null;o=null;r=null};return u}function Mn(e){var t=x(e.aplusKey)||{},n=(t.hash_value||{})[e.logkey]||(gn.Map?new gn.Map:{});if((n&&n.get?n.get(e.hash_value):n[e.hash_value])>1)return!0;for(var a=(t._acHashMap||{})[e.logkey]||[],o=a.length,r=0;r<o;r++)if(a[r].hash_value===e.hash_value)return!0;return!1}function xn(e,t){try{var n=e?e.element:{},a=e.hash_value||"";n&&n.setAttribute&&n.setAttribute(t,a)}catch(e){}}var Ln=window,Dn=["iframe","html","body","head"],Un=Qt,jn=function(e){var t=[],n=e?st.tryToGet(e,Un):"";if(n){var a=(x("_aplus_ac")||{})._acHashMap||{};h.eachMap(a,(function(e,a){f.each(a,(function(e){e.hash_value===n&&t.push(e.clkConfig)}))}))}return{clkConfigs:t,el:e}},Bn=function(e){var t=(e=e||Ln.event).target||e.srcElement,n=M(R()),o=M(N()),r=function(e){var t=jn(e);if(t&&t.clkConfigs&&t.clkConfigs.length>0)return t;for(;(e=e.parentNode)&&-1===f.indexOf(Dn,e.tagName?ct.getDomName(e,"tagName"):"html");)if((t=jn(e))&&t.clkConfigs&&t.clkConfigs.length>0)return t}(t)||{},i=r.clkConfigs;r&&i&&r.el&&f.each(i,(function(i){var s=i;t=r.el;!n.spm_ab||n.spm_ab.join(".");Ln.g_SPM&&"function"==typeof Ln.g_SPM.spm&&Ln.g_SPM.spm(t);var c={is_auto:1},u={},l=mn(s,t,u);l=vn(s,t,u);l=An(s,t,u);l=h.assign(l,bn(t));s.customArgs&&(l=h.assign(l,s.customArgs));var f=function(){var e=tn("aplus-auto-clk-userfn");if(e){var t=window[e]||e;if("function"==typeof t)return t}return null}();if(f){var p=Pn(f,t,s.elementSelector,e);if("object"===a(p)){"object"===a(p.userdata)&&(l=h.assign(l,p.userdata));p.spm&&p.spm;p.scm&&p.scm}else if(!1===p)return}if((c=h.assign(c,l)).pagename){c.page_name=c.pagename;delete c.pagename}var d=s.method||ae.POST;o.push({action:"".concat(R(),".record"),arguments:[s.logkey,Q.CLK,c,d]})}))};function Vn(){ct.isTouchEnabled()?lt.on(document,"tap",Bn):lt.on(document,"mousedown",Bn)}var Fn=window,Gn=document,Hn=O.extend({eachElements:function(e,t){for(var n=t.logkey||"",a=M(R()),o=0;o<e.length;o++){var r=e[o];t._pos_id&&!r.getAttribute("data-aplus-pos-id")&&r.setAttribute("data-aplus-pos-id",t._pos_id);var i=r.getAttribute(Qt);if(!(i&&i.indexOf("_")>0)){if(isNaN(parseInt(i,10))){i=a._aplus_ac.elementSelectorSizeMap[t.elementSelector]++;r.setAttribute(Qt,i)}if(t.spmB&&t.spmC&&t.spmD){r.setAttribute(Xt,[t.spmB,t.spmC,"".concat(t.spmD,"_").concat(o+1)].join("."));r.setAttribute(Jt,"".concat(o+1))}var s=On(t,{ignore_attr:!1,index:i,ele:r});if(!Mn({logkey:n,hash_value:s,aplusKey:"_aplus_ac"})){var c={clkConfig:t,hash_value:s,element:r,status:0,elementSelector:t.elementSelector};kn(n,c,"ADD");xn(c,Qt)}}}},handler_dom_change:function(){for(var e=M(R()),t=this.autoClkConfig||[],n=0;n<t.length;n++){var a=t[n];e._aplus_ac.elementSelectorSizeMap[a.elementSelector]||(e._aplus_ac.elementSelectorSizeMap[a.elementSelector]=1);var o=hn(a,Gn);this.eachElements(o,a)}},throttle_handler_dom_change:Nn((function(){this.handler_dom_change()}),200),init_observer:function(e,t){var n=M(R()),a=new e((function(){Yt((function(){++(n._aplus_ac||{}).observer_times;t()}))}));a.observe(Gn.body,{attributes:!0,childList:!0,characterData:!0,subtree:!0});_n&&P().w("aplus_ac init MutationObserver success!");this._observer=a},init_watch_dom:function(){var e=this,t=M(R())._aplus_ac||{};e._loop_observer=setTimeout((function(){if("blur"!==t.current_win_status){_n&&P().w("watch_dom in ac LOOP_TIME is ".concat(Zt,"ms total: ").concat(++t.watch_times));e.throttle_handler_dom_change();e.init_watch_dom()}else t.watch_dom_running=!1}),Zt)},onFocusHandler:function(){var e=M(R())._aplus_ac||{};e.current_win_status="focus";e.watch_dom_running||this.init_watch_dom()},onBlurHandler:function(){(M(R())._aplus_ac||{}).current_win_status="blur"},onVisibilityChange:function(){"visible"===Gn.visibilityState?this.onFocusHandler():"hidden"===Gn.visibilityState&&this.onBlurHandler()},addAllListener:function(){var e=this,t=M(R())._aplus_ac||{};t.watch_times=0;t.watch_dom_running=!0;e.init_watch_dom();if(Fn.WindVane&&Gn.addEventListener){lt.on(Gn,"WV.Event.APP.Active",e.onFocusHandler,!1);lt.on(Gn,"WV.Event.APP.Background",e.onBlurHandler,!1)}if("hidden"in Gn)lt.on(Fn,"visibilitychange",e.onVisibilityChange);else{lt.on(Fn,"blur",e.onBlurHandler);lt.on(Fn,"focus",e.onFocusHandler)}},removeAllListener:function(){var e=this;if(Fn.WindVane&&Gn.removeEventListener){lt.un(Gn,"WV.Event.APP.Active",e.onFocusHandler,!1);lt.un(Gn,"WV.Event.APP.Background",e.onBlurHandler,!1)}if("hidden"in Gn)lt.un(Fn,"visibilitychange",e.onVisibilityChange);else{lt.un(Fn,"blur",e.onBlurHandler);lt.un(Fn,"focus",e.onFocusHandler)}},init:function(){var e=this,t=M(R())._aplus_ac||{};e.throttle_handler_dom_change();var n=Fn.MutationObserver||Fn.WebKitMutationObserver||Fn.MozMutationObserver;if(n){t.observer_times=0;e.init_observer(n,(function(){e.throttle_handler_dom_change()}))}else e.addAllListener()},clearDom:function(e,t){var n=this.autoClkConfig||[];if(t&&"appendMetaInfo"!==t.from)for(var a=0;a<n.length;a++)try{for(var o=n[a].elementSelector,r=Gn.querySelectorAll(o),i=0;i<r.length;i++)r[i].setAttribute(Qt,"")}catch(e){}this.autoClkConfig=e&&e.autoClkConfig},clear:function(e){if(!e||"appendMetaInfo"!==e.from){var t=M(R()),n=t._aplus_ac||{};n._acHashMap&&(n._acHashMap={});n.hash_value&&(n.hash_value={});t._aplus_ac=n;if(this._loop_observer){clearTimeout(this._loop_observer);this._loop_observer=null}this._observer?this._observer.disconnect():this.removeAllListener()}},reset:function(e,t){this.clearDom(e,t);this.init()}});function Kn(e){var t,n=M(R()),a=!1;setTimeout((function(){a||P().w("sdk_ac_init failed! please check whether aplusJs is loaded correctly!")}),5e3);M(N()).push({action:Q.SUBSCRIBE,arguments:[Q.SDK_READY,function(e){"complete"===e&&function(){if(!a){Yt((function(){var e;if((t=pn())&&t.length>0){(e=Hn.create({autoClkConfig:t})).init();Vn()}n[Q.SDK_PUB].subscribe("setMetaInfo",(function(n,a,o){if("aplus-auto-clk"===n){var r=pn(a);if(JSON.stringify(r)===JSON.stringify(t))return;t=r;o||(o={from:"setMetaInfo"});e&&e.clear(o);e&&e.clearDom({autoClkConfig:t},o);if(a)if(e)e.reset({autoClkConfig:t},o);else{(e=Hn.create({autoClkConfig:t})).init();Vn()}}}))}));a=!0}}()}]});"function"==typeof e&&e()}var Wn=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"run",value:function(){!function(){var e=M(R());if(e._aplus_ac);else{e._aplus_ac={status:"init",elementSelectorSizeMap:{}};Kn((function(){e._aplus_ac.status="complete"}))}}()}}])}(),qn=_t(Object.freeze({__proto__:null,default:Wn})),zn=document,Yn=function(e,t){return t.x>=e.pLeftTop[0]&&t.x<=e.pRightBottom[0]&&t.y>=e.pLeftTop[1]&&t.y<=e.pRightBottom[1]},$n=function(e,t){var n=0,a=Yn(e,t),o=Yn(e,{x:t.x+t.width,y:t.y}),r=Yn(e,{x:t.x,y:t.y+t.height}),i=Yn(e,{x:t.x+t.width,y:t.y+t.height});return(n=function(){var e=0;a&&i&&(e=t.size/t.size);return e}())>0||(n=function(){var n=0,s=0;if(a&&o&&!r&&!i){n=t.width;s=e.pLeftBottom[1]-t.y}else if(!a&&o&&!r&&i){n=e.pLeftTop[0]-t.x;s=t.y}else if(!a&&!o&&r&&i){n=t.width;s=t.height-Math.abs(e.pLeftTop[1]-t.y)}else if(a&&!o&&r&&!i){n=e.pRightTop[0]-t.x;s=t.height}return t.size>0?Math.abs(n*s)/t.size:0}())>0?n:n=function(){var n=0,s=0;if(!a||o||r||i)if(a||!o||r||i)if(a||o||!r||i){if(!a&&!o&&!r&&i){n=e.pLeftTop[0]-t.x;s=e.pLeftTop[1]-t.y}}else{n=e.pRightTop[0]-t.x;s=e.pRightTop[1]-t.y}else{n=e.pLeftBottom[0]-t.x;s=e.pLeftBottom[1]-t.y}else{n=e.pRightBottom[0]-t.x;s=e.pRightBottom[1]-t.y}return t.size>0?Math.abs(n*s)/t.size:0}()};function Qn(e,t,n){var a=0;if(e)for(var o=0;o<e.length;o++)if((a=$n(e[o],t))<n)return!1;return a}var Xn=function(e){return"number"==typeof e&&!isNaN(e)};function Jn(e){var t={};if(e){"function"==typeof e.getBoundingClientRect&&(t=e.getBoundingClientRect()||{});Xn(t.x)||Xn(t.left)&&(t.x=t.left);Xn(t.y)||Xn(t.top)&&(t.y=t.top);Xn(t.width)||(t.width=e.offsetWidth);Xn(t.height)||(t.height=e.offsetHeight)}return t}function Zn(e){var t=[];if(e&&"function"==typeof document.querySelector){var n=document.querySelector(e);if(n){var a=Jn(n)||{};Xn(a.x)&&Xn(a.y)&&Xn(a.width)&&Xn(a.height)&&t.push({pLeftTop:[a.x,a.y],pRightTop:[a.x+a.width,a.y],pLeftBottom:[a.x,a.y+a.height],pRightBottom:[a.x+a.width,a.y+a.height]})}}var o=zn.documentElement,r=zn.body,i=o.clientWidth||r.offsetWidth||0,s=o.clientHeight||r.offsetHeight||0;t.push({pLeftTop:[0,0],pRightTop:[i,0],pLeftBottom:[0,s],pRightBottom:[i,s]});return t}function ea(e,t,n){var a;try{if(e&&e.getAttribute){var o=e.getAttribute(n)||"";a=t?o===t:!!o}}catch(e){}return a}function ta(e,t,n){var a=0;if(e)for(var o=0;o<e.length;o++)if((a=t/e[o].size)>=n)return a;return a}var na,aa=an,oa=rn,ra=function(e){for(var t;e&&"HTML"!==e.tagName&&"none"!==(t=e.style.display);)e=e.parentNode;return"none"===t};function ia(e,t){var n=0;na=Zn();var a=(x("_aplus_auto_exp")||{})._acHashMap||{};for(var o in a)if(Object.prototype.hasOwnProperty.call(a,o))for(var r=a[o]||[],i=0;i<r.length;i++){var s=r[i]||{};if(0===s.status&&s.expConfig&&!ra(s.element)){var c=Jn(s.element);if(c.width&&c.height){s.x=c.x;s.y=c.y;s.eventType=t;s.width=c.width;s.height=c.height;s.size=c.width*c.height;var u=void 0;s.expConfig.positionSelector&&(u=Zn(s.expConfig.positionSelector));var l=Qn(u||na,s,aa),f=l>=aa,p=l;u&&(p=Qn(na,s,aa));var d=s.width*s.height*p,g=ta(na,d,oa),h=ea(s.element,s.hash_value,"_aplus_auto_exp");if((f||g>=oa)&&!h){s.exposureTime=e;s.status=1;var _=ln();_&&(s.userParams=Pn(_,s.element,s.elementSelector,s.expConfig));if(!sn){s.viewabilityRate=f?l:g;s.viewability=f?"intersection":"fillwindow";s.status=2}In(o,s,"UPDATE");++n}}}}return n}function sa(e,t){var n=0;na||(na=Zn());var a=(x("_aplus_auto_exp")||{})._acHashMap||{};for(var o in a)if(Object.prototype.hasOwnProperty.call(a,o))for(var r=a[o]||[],i=0;i<r.length;i++){var s=r[i]||{};if(1===s.status&&s.exposureTime===e&&s.expConfig){s.eventType=t;s.expConfig.positionSelector&&(na=Zn(s.expConfig.positionSelector));var c=Qn(na,s,aa),u=ea(s.element,s.hash_value,"_aplus_auto_exp");if(c&&!u){s.viewabilityRate=c;s.status=2;In(o,s,"UPDATE");++n}else{s.status=0;s.exposureTime="";In(o,s,"UPDATE")}}}return n}var ca=function(e){var t="APLUS_AE_EXPOSURE_CHANGE",n=e&&e.type?e.type:"init",a=(new Date).getTime(),o=M(R()),r="".concat(R(),"_pubsub"),i=ia(a,n);i>0&&(sn?setTimeout((function(){(i=sa(a,n))>0&&o[r].publish(t,{size:i,eventType:n})}),sn):o[r].publish(t,{size:i,eventType:n}))},ua=Nn((function(e){ca(e)}),100),la={},fa=function(e,t){if(e&&e.forEach&&Object.keys&&document.querySelector){e.forEach((function(e){e.positionSelector&&document.querySelector(e.positionSelector)&&(la[e.positionSelector]=!0)}));Object.keys(la).forEach((function(e){lt[t]&&lt[t](document.querySelector(e),"scroll",(function(e){ua(e)}))}))}},pa=Object.freeze({__proto__:null,clear:function(e){lt.un(window,"touchmove",ua);lt.un(window,"scroll",ua);lt.un(window,"resize",ca);fa(e,"un")},watch_exposure_change:function(e){M(R())["".concat(R(),"_pubsub")].subscribe("APLUS_AE_DOM_CHANGE",ca);lt.on(window,"touchmove",ua);lt.on(window,"scroll",ua);lt.on(window,"resize",ca);fa(e,"on")}}),da=an,ga=rn,ha=window.IntersectionObserver,_a={};function ma(e,t){var n="APLUS_AE_EXPOSURE_CHANGE",a=e&&e.type?e.type:"IObserver",o=(new Date).getTime(),r=M(R()),i="".concat(R(),"_pubsub"),s=0;s=t?ia(o,e):function(e,t,n){var a=Zn(),o=0,r=(x("_aplus_auto_exp")||{})._acHashMap||{};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i))for(var s=r[i]||[],c=0;c<s.length;c++){var u=s[c]||{};u.eventType="IObserver";var l=!!n||u.element===t.target;if(0===u.status&&u.expConfig&&l){var f=t.boundingClientRect||{};f.width||f.height||(f=t.target.getBoundingClientRect()||{});if(f.width&&f.height){(u=h.assign(u,f)).x=f.x||f.left;u.y=f.y||f.top;u.width=f.width;u.height=f.height;u.size=f.width*f.height;var p=ea(u.element,u.hash_value,"_aplus_auto_exp"),d=ta(a,u.width*u.height*t.intersectionRatio,ga);if(!p){var g=t.intersectionRatio>=da;if(g||d>=ga){u.exposureTime=e;u.status=1;var _=ln();_&&(u.userParams=Pn(_,u.element,u.elementSelector));u.viewabilityRate=g?t.intersectionRatio:d;u.viewability=g?"intersection":"fillwindow";sn||(u.status=2);In(i,u,"UPDATE");++o}else d&&In(i,h.assign(s[c],{lastEventType:u.eventType}),"UPDATE")}}}}return o}(o,e);s>0&&(sn?setTimeout((function(){(s=sa(o,a))>0&&r[i].publish(n,{size:s,eventType:a})}),sn):r[i].publish(n,{size:s,eventType:a}))}function va(e){var t={root:null,rootMargin:"0px",threshold:da};return new ha((function(e){f.each(e,(function(e){e.intersectionRatio>0&&ma(e)}))}),h.assign(t,e))}function ya(e){if(ha){_a.io_base||(_a.io_base=va());var t=(x("_aplus_auto_exp")||{})._acHashMap||{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n))for(var a=t[n]||[],o=0;o<a.length;o++){var r=a[o]||{};if(!r.inObserver){var i="io_v_".concat(encodeURIComponent(r.positionSelector)),s=void 0;if(r.positionSelector&&!_a[i]){s=va({root:document.querySelector(r.positionSelector),expConfig:e});_a[i]=s}s?s.observe(r.element):_a.io_base.observe(r.element);r.inObserver=!0}}}return!0}var ba=Object.freeze({__proto__:null,clear:function(e,t){if(t&&"appendMetaInfo"!==t.from)for(var n in _a)_a[n].disconnect()},watch_exposure_change:function(e){M(R())["".concat(R(),"_pubsub")].subscribe("APLUS_AE_DOM_CHANGE",(function(){ya(e)}));ya(e)}});function Aa(e,t,n){var a="0";if(n){if("spmc"===e){var o=n.split(".");a=o[2]?o[2]:o[3];/^(\i|\d)[0-9]+$/.test(a)&&(a="0");n=[o[0],o[1],a].join(".")}}else{n="";var r=window.g_SPM||{};if("function"==typeof r.getParam){var i=r.getParam(t);if("spmc"===e){a=t.getAttribute("data-spm")||"0";n=[i.a,i.b,a].join(".")}else n=[i.a,i.b,i.c,i.d].join(".")}}return n}var Sa,Ea,Ta=function(e){var t=M(R()),n="".concat(R(),"_pubsub"),a=(x("_aplus_auto_exp")||{})._acHashMap||{},o=[];h.eachMap(a,(function(a,r){for(var i=function(e){for(var t=[],n=function(){var n=e[a]||{},o={};h.eachMap(n,(function(e,t){"element"!==e&&(o[e]=t)}));var r=h.cloneDeep(o);r.element=n.element;t.push(r)},a=0,o=e.length;a<o;a++)n();return t}(r)||[],s=0,c=i.length;s<c;s++){var u=i[s]||{},l=r[s]||{};if(3===u.status)try{xn(l,$t);t[n].publish("APLUS_ELEMENT_EXPOSURE",{logkey:a,v_origin:l,options:e});o.push(l)}catch(e){P().w(e&&e.message)}}for(;o.length>0;)In(a,o.pop(),"CLEAR")}))},wa=[],Pa=function(e){if(e.size>0){Sa||function(){var e=M(N());Sa=setInterval((function(){if(wa.length>0)e.push(wa.pop());else{clearInterval(Sa);Sa=null}}),200)}();!function(e,t,n){var a=e.logkeyContainer||[],o=e.request_cfg||{},r=M(N());Yt((function(){h.eachMap(a,(function(e,a){if(a&&a.length>0){for(var i=0;i<a.length;){var s={_eventType:t.eventType,_method:o.method,is_auto:1},c=a[i];for(var u in c)s[u]=c[u];if(s.pagename){s.page_name=s.pagename;delete s.pagename}var l=o.method||ae.POST;r.push({action:"".concat(R(),".record"),arguments:[e,Q.EXP,s,l]});i+=1}n(t)}}))}))}(function(){var e={},t=en(),n=M(R()),o=x("_aplus_auto_exp")||{},r=o._acHashMap||{};h.eachMap(r,(function(r,i){for(var s=i||[],c=0,u=s.length;c<u;c++){var l=s[c]||{};if(2===l.status){l.status=3;In(r,l,"UPDATE");o.exp_times++;var f=l.expConfig||{},p=(n.spm_ab&&n.spm_ab.join("."),void Aa(f.eltype,l.element));try{p=Number(l.viewabilityRate).toFixed(2)}catch(e){p=l.viewabilityRate}var d={_w:l.width,_h:l.height,_x:l.x,_y:l.y,_rate:p,_viewability:l.viewability};if("object"===a(l.userParams)){"object"===a(l.userParams.userdata)&&(d=h.assign(d,l.userParams.userdata));l.userParams.spm&&Aa(f.eltype,"",l.userParams.spm);l.userParams.scm&&l.userParams.scm}(Sn(f.method)||En(f.pkgSize))&&(t=Tn(f));var g,_=mn(f,l.element,d);_=vn(f,l.element,d);_=h.assign(_,bn(l.element));var m=An(f,l.element,d);_=h.assign(_,m);f.customArgs&&(_=h.assign(_,f.customArgs));g=_;e[r]||(e[r]=[]);e[r].push(g)}}}));return{logkeyContainer:e,request_cfg:t}}()||{},e,Ta)}};function Oa(){M(R())["".concat(R(),"_pubsub")].subscribe("APLUS_AE_EXPOSURE_CHANGE",Pa);!function(){if(!Ea){Ea=!0;var e=M(R()),t=M(N());e.on(window,"beforeunload",(function(){clearInterval(Sa);for(var e=0;e<wa.length;e++)t.push(wa[e])}))}}()}var Ca,Ia,ka=window,Ra=document,Na=O.extend({eachElements:function(e,t){for(var n=M(R()),a=t.logkey||"",o=0;o<e.length;o++){var r=e[o],i=r.getAttribute($t);if(!(i&&i.indexOf("_")>0)){if(isNaN(parseInt(i,10))){i=n._aplus_auto_exp.elementSelectorSizeMap[t.elementSelector]++;r.setAttribute($t,i)}if(t.spmB&&t.spmC&&t.spmD){r.setAttribute(Xt,[t.spmB,t.spmC,"".concat(t.spmD,"_").concat(o+1)].join("."));r.setAttribute(Jt,"".concat(o+1))}var s=On(t,{ignore_attr:!1,index:i,ele:r}),c=ea(r,s,$t),u=Mn({logkey:a,hash_value:s,aplusKey:"_aplus_auto_exp"});c||u||In(a,{expConfig:t,hash_value:s,element:r,status:0,elementSelector:t.elementSelector},"ADD")}}},handler_dom_change:function(e,t){try{var n=this;setTimeout((function(){for(var e=M(R()),a="".concat(R(),"_pubsub"),o=n.autoExpConfig||[],r=0;r<o.length;r++){var i=o[r],s=hn(i,Ra);e._aplus_auto_exp.elementSelectorSizeMap[i.elementSelector]||(e._aplus_auto_exp.elementSelectorSizeMap[i.elementSelector]=1);n.eachElements(s,i)}e[a].publish("APLUS_AE_DOM_CHANGE",t||{})}),200)}catch(e){P().w(e&&e.message)}},throttle_handler_dom_change:Nn((function(e,t){this.handler_dom_change(e,t)}),200),init_watch_dom:function(){var e=this,t=M(R())._aplus_auto_exp||{};e._loop_observer=setTimeout((function(){if("blur"!==t.current_win_status){P().w("watch_dom in ae LOOP_TIME is ".concat(Zt,"ms total: ").concat(++t.watch_times));e.handler_dom_change(null,{type:"polling"});e.init_watch_dom()}else t.watch_dom_running=!1}),Zt)},onFocusHandler:function(){var e=M(R())._aplus_auto_exp||{};e.current_win_status="focus";e.watch_dom_running||this.init_watch_dom()},onBlurHandler:function(){(M(R())._aplus_auto_exp||{}).current_win_status="blur"},onVisibilityChange:function(){"visible"===Ra.visibilityState?this.onFocusHandler():"hidden"===Ra.visibilityState&&this.onBlurHandler()},addAllListener:function(){var e=this,t=M(R())._aplus_auto_exp||{};t.watch_times=0;t.watch_dom_running=!0;e.init_watch_dom();if(ka.WindVane&&Ra.addEventListener){lt.on(Ra,"WV.Event.APP.Active",e.onFocusHandler);lt.on(Ra,"WV.Event.APP.Background",e.onBlurHandler)}if("hidden"in Ra)lt.on(ka,"visibilitychange",e.onVisibilityChange);else{lt.on(ka,"blur",e.onBlurHandler);lt.on(ka,"focus",e.onFocusHandler)}},removeAllListener:function(){var e=this;if(ka.WindVane&&Ra.removeEventListener){lt.un(Ra,"WV.Event.APP.Active",e.onFocusHandler,!1);lt.un(Ra,"WV.Event.APP.Background",e.onBlurHandler,!1)}if("hidden"in Ra)lt.un(ka,"visibilitychange",e.onVisibilityChange);else{lt.un(ka,"blur",e.onBlurHandler);lt.un(ka,"focus",e.onFocusHandler)}},init_observer:function(e,t){var n=["IFRAME","BODY","OBJECT","SCRIPT","NOSCRIPT","LINK","STYLE","#comment"],a=["class","style"],o=function(e){return"characterData"===e.type||"attributes"===e.type&&a.indexOf(e.attributeName)>-1?[e.target]:"childList"!==e.type?[]:void 0},r=function(e,a){if(e&&e.length>0)for(var o=M(R()),r=function(){var r=e[i]||{},s=r.nodeName,c=o._aplus_auto_exp.tags||{};c[s]||(c[s]=0);c[s]++;o._aplus_auto_exp.tags=c;-1===n.indexOf(s)&&Yt((function(){++(o._aplus_auto_exp||{}).observer_times;var e=a.attributeName;t(r,{type:a.type+(e?"_".concat(e):"")})}))},i=0;i<e.length;i++)r()};this._observer||(this._observer=new e((function(e){if(e&&e.length>0)for(var t=0;t<e.length;t++){var n=e[t]||{},a=ct.nodelistToArray(n.addedNodes||[]);a=ct.nodelistToArray(o(n));r(a,n)}})));this._observer.observe(Ra.body,{attributes:!0,childList:!0,characterData:!0,subtree:!0});_n&&P().w("aplus_auto_exp init MutationObserver success!")},init:function(e){var t=this,n=M(R())._aplus_auto_exp||{};e&&"reset"!==e.type&&!n.hash_value&&(n.hash_value={});t.handler_dom_change(null,{type:"aplus_init"});var a=ka.MutationObserver||ka.WebKitMutationObserver||ka.MozMutationObserver;if(a){n.observer_times=0;t.init_observer(a,(function(e,n){var a=e&&e.parentElement?e.parentElement:e;t.throttle_handler_dom_change(a,n)}))}else t.addAllListener()},clear:function(e){if(!e||"appendMetaInfo"!==e.from){var t=M(R()),n=t._aplus_auto_exp||{};n._acHashMap&&(n._acHashMap={});n.hash_value&&(n.hash_value={});t._aplus_auto_exp=n;if(this._loop_observer){clearTimeout(this._loop_observer);this._loop_observer=null}if(this._observer){this._observer.takeRecords();this._observer.disconnect()}else this.removeAllListener()}},clearDom:function(e,t){var n=this.autoExpConfig||[];if(t&&"appendMetaInfo"!==t.from)for(var a=0;a<n.length;a++)try{for(var o=n[a].elementSelector,r=Ra.querySelectorAll(o),i=0;i<r.length;i++)r[i].setAttribute($t,"")}catch(e){}this.autoExpConfig=e&&e.autoExpConfig?e.autoExpConfig:[]},reset:function(e,t){this.clearDom(e,t);this.init({type:"reset"})}});function Ma(e,t){Oa();Ca.watch_exposure_change(e);var n={isThrottleWatch:fn(),autoExpConfig:e};Ia?Ia.reset(n,t):(Ia=Na.create(n)).init({type:"init"})}function xa(e,t){M(R())["".concat(R(),"_pubsub")].unsubscribe("APLUS_AE_EXPOSURE_CHANGE",Pa);Ca.clear(e,t);Ia&&Ia.clear(t)}function La(e){var t,n=M(R()),a="".concat(R(),"_pubsub"),o=!1,r=!1;setTimeout((function(){o||P().w("aplus_auto_exp_init failed! please check whether aplusJs is loaded correctly!")}),5e3);M(N()).push({action:Q.SUBSCRIBE,arguments:[Q.SDK_READY,function(e){"complete"===e&&function(e){if(!r){r=e;if(!o){Yt((function(){(t=un()||[])&&t.length>0&&Ma(t);n[a].subscribe("setMetaInfo",(function(e,n,a){if("aplus-auto-exp"===e){var o=un(n);if(JSON.stringify(o)===JSON.stringify(t))return;a||(a={from:"setMetaInfo"});xa(t=o,a);n&&t&&t.length>0&&Ma(t,a)}}))}));o=!0}}}(Q.SDK_READY)}]});"function"==typeof e&&e()}function Da(){var e=M(R()),t=M(N());if(!e._aplus_auto_exp){e._aplus_auto_exp={tags:{},status:"init",exp_times:0,elementSelectorSizeMap:{}};Ca=window.IntersectionObserver?ba:pa;La((function(){e._aplus_auto_exp.status="complete"}));t.push({action:Q.SUBSCRIBE,arguments:[Q.SDK_READY,function(t){if("complete"===t)try{e.getMetaInfo(ee.APLUS_EXPOSURE_EVENT_CAN_REPEAT)&&V("APLUS_AE_PAGE_CHANGE",(function(){var e=un()||[];xa(e,{from:"routeChange"});Ma(e,{from:"routerChange"})}))}catch(e){}}]})}}var Ua=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"run",value:function(){Da()}}])}(),ja=_t(Object.freeze({__proto__:null,default:Ua})),Ba=O.extend({subscribeLogs:function(e,t){_e.pushIntoGoldlogQueue(Q.SUBSCRIBE,[e,function(e){e.status===Q.COMPLETE&&t(e)}])},getLogicSymbol:function(){return"ALI"===this.format?"&":"||"},handlerMiddleware:function(){},watchLOG:function(){var e=this;e.subscribeLogs(Q.MW_CHANGE_PV,(function(t){e.handlerMiddleware(t,"pv")}));e.subscribeLogs(Q.MW_CHANGE_HJLJ,(function(t){e.handlerMiddleware(t,R())}))},run:function(){this.watchLOG()}});function Va(e,t){if("string"!=typeof e||!e){P().w("event logkey is invalid, id =",e||"'' event properties = ",_.stringfy(t.cusp));return null}var n=Object.create(null),o=Date.now();n.id=e;t&&t.ts||(n.ts=o);t&&t.uuid||(n.uuid=bt.getUUID());if("object"===a(t))for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function Fa(e,t){var n=M(R()).getMetaInfo("pageConfig")||{},o=e;n.hashMode&&(o=t);try{if(n&&"object"===a(n))for(var r in n){if(r===o)break;if(n[r]&&n[r].regRule&&n[r].regRule.test(o)){o=r;break}}}catch(e){P().w("parse pageConfig err =",e)}return n[o]||{}}function Ga(e,t){try{var n=t||{},a=M(R()),o=Fa(e,gt.retrenchHash(location.hash)).pageName,r=a.getMetaInfo&&(a.getMetaInfo("qt-pagename")||a.getMetaInfo("aplus-pagename"))||"",i=a.getMetaInfo&&(a.getMetaInfo("qt-dynamicpage")||a.getMetaInfo("aplus-dynamicpage")),s=location.href;i&&m(i)&&T.isString(i())&&(s=i());var c=location.href.split("?")[0],u=c;if(s.split("?").length>1){var l=s.split("?")[1],f=l.indexOf("/"),p=l.indexOf("#/"),d=-1;p>-1&&f>-1?p<f?d=p:p>f&&(d=f):f>-1?d=f+1:p>-1&&(d=p);if(d>-1){var g=l.substring(d),h=g.indexOf("?");h>-1&&(g=g.substring(0,h));u=T.isEndWith(c,"/")&&T.isStartWith(g,"/")?c+g.substring(1):T.isEndWith(c,"/")||T.isStartWith(g,"/")?c+g:"".concat(c,"/").concat(g)}}return n.spmB||n.page_name||document&&document.body&&document.body.dataset&&document.body.dataset.pagename||r||o||u||""}catch(e){P().w("get pagename failed e =",e)}}function Ha(e,t){var n,a=t||{},o=Fa(e,gt.retrenchHash(location.hash)),r=h.assign({},o),i=(r=h.assign(r,a)).extData;m(i)?n=i():i&&(n=Object.keys(i).reduce((function(e,t){e[t]=m(i[t])?i[t]():i[t];return e}),{}));return n||{}}function Ka(e,t){var n=t||{},a=Fa(e,gt.retrenchHash(location.hash));return n.page_title||a.pageTitle||document.title||""}function Wa(e){if(!e)return{};try{var t=document.createElement("a");t.href=e;var n=Fa(t.pathname,gt.retrenchHash(t.hash)).pageName,a=t.origin+t.pathname+(t.hash||"");return{page_name:n||a||"",host:t.origin}}catch(e){return""}}var qa={sessions:"sn",ekvs:"e",active_user:"active_user"},za={uuid:"ud",unionid:"und",openid:"od",anonymousid:"nd",alipay_id:"ad",device_id:"dd",userid:"puid"},Ya={sdk_type:"sdt",device_model:"dm",language:"lang",device_type:"dt",os_version:"ov",appkey:"ak",sdk_version:"sv",resolution:"rl",testToken:"ttn",pixel_ratio:"pr",_id:"id",id_type:"it",id_tracking:"itr",imprint:"imp",debugId:"dk",access:"ac",access_subtype:"acs",device_manufacturer:"dmf",device_name:"dn",platform_version:"pv",font_size_setting:"fss",device_manuid:"did",platform_sdk_version:"psv",device_brand:"db"};function $a(e,t){var n={};for(var a in e)t[a]?n[t[a]]=e[a]:n[a]=e[a];return n}function Qa(e,t){var n=$a(e,t);e&&e.id_tracking&&(n[t.id_tracking||"id_tracking"]=$a(e.id_tracking,za));return n}function Xa(e,t){var n={};if(e)for(var a in e)e[a]&&(n[t[a]]=e[a]);return n}var Ja=["$sid"];function Za(e,t){var n=M(R()),o=n.deviceInfo||{};n.appendMetaInfo(ee.GLOBAL_PROPERTY,function(){var e={},t=pt.getQueryFromUrl()||{};try{h.eachMap(t,(function(t,n){0===t.indexOf("utm_")&&(e[t]="".concat(n))}));var n=M(R()),a=n.getMetaInfo&&n.getMetaInfo(ee.APLUS_UTM_EXPIRE_DAYS);(!a||"number"!=typeof a||a<=0)&&(a="session");var o=ut.getCookie(ee.APLUS_LATEAST_UTM),r=w.query2obj(decodeURIComponent(o));h.isEmptyObject(e)?e=r||{}:o&&_.stringfy(e)===_.stringfy(r)||ut.setCookie(ee.APLUS_LATEAST_UTM,w.obj2queryStr(e),{expires:a});if(t.$sid){e[ee.REF_SHARE_ID]=t.$sid;t.$sid;var i=c(t,Ja);location?location.hash?location.href.indexOf(location.search)<location.href.indexOf(location.hash)?e[ee.REF_SHARE_URL]="".concat(location.origin).concat(location.pathname).concat(w.obj2queryStr(i),"/").concat(gt.retrenchHash(location.hash)):e[ee.REF_SHARE_URL]="".concat(location.origin).concat(location.pathname).concat(gt.retrenchHash(location.hash),"?").concat(w.obj2queryStr(i)):e[ee.REF_SHARE_URL]="".concat(location.origin).concat(location.pathname,"?").concat(w.obj2queryStr(i)):P().w("current webview not support location api, UA = ",navigator.userAgent)}}catch(e){P().w("handle queryStr failed",e)}return e}());if(!e||!t||h.isEmptyObject(e)||h.isEmptyObject(t))return{};var r={},i=h.cloneDeep(function(e){var t={};t.sdk_type=e.sdk_type;t.appkey=e.appkey;t.sdk_version=e.sdk_version;t.device_type=e.device_type;t.os=e.os;t.os_version=e.os_version;t.platform=e.platform;t.pixel_ratio=e.pixel_ratio;t.resolution=e.resolution;t.language=e.language;t.app_version=e.app_version;t.jsver=e.jsver;t.pre=e.pre;t.url=e.url;t.debugId=e.track_debug_id;t.id_tracking={};t.timezone=bt.getTimeZone();return t}(e)),s=n.getMetaInfo(Q._ANONY_ID)||e.cna||ut.getCna()||ft.get("cna");s&&(i.id_tracking.anony_id=s);i.id_tracking._abfpc=o._abfpc||ft.getLocalStorageFP()||ut.getCookieFP();var u=n.getMetaInfo("_dev_id")||e.cna;u&&(i.id_tracking.dev_id=u);var l=n.getMetaInfo("openid");l&&(i.id_tracking.openid=l);var f=null;f=e.event_code===Q.PV_CODE?function(e,t){var n=M(R()).getMetaInfo(ee.GLOBAL_PROPERTY),a={};a.r=e.arg1;a.gp=n;a.is_auto=e.is_auto?1:0;a.track_type=e.track_type||"0";if(t._vt){a._vt=t._vt;delete t.track_type;delete t._vt}var o=t,r=h.cloneDeep(h.deleteKeys(h.cloneDeep(o),["_anony_id","_dev_id","_session_id","_user_id","_user_nick","_src_pos_id","cna","_abfpc","aplus_track_debug_id"]));if(r.duration){a.duration=r.duration;delete r.duration}r=h.assign(r,Ha(location.pathname,r));if(e.url){a.page_name=Ga(location.pathname,r);a.page_title=Ka(location.pathname,r);a.url=e.url;a["spm-cnt"]=encodeURIComponent(a.page_name)}var i=pt.getAParamFromUrl("scene",location.href);i&&(a.scene=i);if(e.pre){a.ref_url="-"!==e.pre?e.pre:"";var s=Wa(a.ref_url);a.ref_page_name=s.page_name||"";a.ref_host=s.host||""}a.rank=bt.RankUtils.rank();var c={};if(r.transp){c.transp=h.cloneDeep(r.transp);delete r.transp}c.cusp=r;return Va(ee.PAGE_START,h.assign(a,c))}(e,t):function(e,t){var n=M(R());try{var o={},r=n.getMetaInfo(ee.GLOBAL_PROPERTY);o.gp=r;var i,s=t.gokey;if((i="string"==typeof s?bt.arr2obj(bt.param2arr(s)):"object"===a(s)?h.cloneDeep(s):{}).targetAppKey){o.targetAppKey=i.targetAppKey;delete i.targetAppKey}if(i._vt){o.track_type="2";o._vt=i._vt;o.is_auto=1;delete i.track_type;delete i._vt}else if(i.is_auto||-1!==[ee.PAGE_LEAVE,ee.PAGE_STAY].indexOf(t.logkey)){o.is_auto=1;o.track_type="1";delete i.is_auto}else{o.is_auto=0;o.track_type="0"}if(o.is_auto){delete i["aplus-ae"];delete i["aplus-clk"];delete i.auto_element;e.event_code&&(o.event_type_id=e.event_code)}if(i.ap){o.ap=i.ap;delete i.ap}if(e.url){o.page_name=Ga(location.pathname,i);o.page_title=Ka(location.pathname,i);o.url=e.url||"-";if(o.page_name&&i.spmC){o["spm-cnt"]=[encodeURIComponent(o.page_name),encodeURIComponent(i.spmC),encodeURIComponent(i.spmD)].filter((function(e){return!!e})).join(".");delete i.spmC;delete i.spmD;delete i.spmB}}if(e.pre){o.ref_url="-"!==e.pre?e.pre:"";var c=Wa(o.ref_url);o.ref_page_name=c.page_name||"";o.ref_host=c.host||""}var u=h.cloneDeep(i);for(var l in u)"string"==typeof l&&T.isStartWith(l,"_")&&(o[l]=u[l]);o.rank=bt.RankUtils.rank();if(t.logkey===ee.PAGE_LEAVE){o.amount=o.rank;o.duration=Date.now()-n[ee.START_TIME]}else if(t.logkey===ee.PAGE_STAY){o.duration=i.duration;delete i.duration}var f=pt.getAParamFromUrl("scene",location.href);f&&(o.scene=f);var p={cusp:i};return Va(t.logkey,h.assign(o,p))}catch(e){P().w("JSON parse failed",e);return{}}}(e,t);if(f){r={analytics:{ekvs:{sessionid:[h.cloneDeep(f)]}}};var p=n.getMetaInfo(Q._USER_ID);p&&r.analytics&&(r.analytics.active_user={puid:p});r.header=h.assign(i,{ts:Date.now(),traceId:T.getRandomStr(10)+Date.now()+T.getRandomStr(9)});try{var d=n.start_id||"";if(d)r.header.start_id=d;else{d=bt.getStartId();n.start_id=d;r.header.start_id=d}}catch(e){}var g=function(e){return{h:Qa(e.header,Ya),a:Xa(e.analytics,qa)}}(r);P().i("event data: ",g);return g}}var eo,to="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",no=function(e){for(var t={},n=0,a=e.length;n<a;n++)t[e.charAt(n)]=n;return t}(to),ao=String.fromCharCode,oo=function(e){var t;if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?ao(192|t>>>6)+ao(128|63&t):ao(224|t>>>12&15)+ao(128|t>>>6&63)+ao(128|63&t);t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return ao(240|t>>>18&7)+ao(128|t>>>12&63)+ao(128|t>>>6&63)+ao(128|63&t)},ro=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,io=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[to.charAt(n>>>18),to.charAt(n>>>12&63),t>=2?"=":to.charAt(n>>>6&63),t>=1?"=":to.charAt(63&n)].join("")},so=function(e){return t=function(e){return e.replace(ro,oo)}(e),t.replace(/[\s\S]{1,3}/g,io);var t},co=new RegExp(["[-][-]","[-][-]{2}","[-][-]{3}"].join("|"),"g"),uo=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return ao(55296+(t>>>10))+ao(56320+(1023&t));case 3:return ao((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return ao((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},lo=function(e){var t=e.length,n=t%4,a=(t>0?no[e.charAt(0)]<<18:0)|(t>1?no[e.charAt(1)]<<12:0)|(t>2?no[e.charAt(2)]<<6:0)|(t>3?no[e.charAt(3)]:0),o=[ao(a>>>16),ao(a>>>8&255),ao(255&a)];o.length-=[0,0,2,1][n];return o.join("")},fo=function(e){return t=function(e){return e.replace(/[\s\S]{1,4}/g,lo)}(e),t.replace(co,uo);var t},po={encode:function(e,t){return t?so(String(e)).replace(/[+\/]/g,(function(e){return"+"===e?"-":"_"})).replace(/\=/g,""):so(String(e))},decode:function(e){return fo(String(e).replace(/[-_]/g,(function(e){return"-"===e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""))}},go=Ba.extend({encodeData:function(e,t,n){var a=M(R()),o=h.cloneDeep(e);if(t){var r=a.getMetaInfo(ee.APLUS_FORWARD_APPKEY);r&&(o.h.ak=r)}o=po.encode(_.stringfy(o));n===ae.POST&&navigator&&navigator.sendBeacon||(o="d=".concat(encodeURIComponent(o)));return o},handlerMiddleware:function(e){var t=M(R());if(!t.getMetaInfo(ee.JSBRIDGE_ONLY)){var n=location&&(location.href.match(/debugMode=(true|false)/)||location.href.match(/debugMode=(true|false)/))||[],a=t.getMetaInfo("DEBUG")||n[1];P().setDebug(!!a);var o=function(e){var t=M(R()),n=e.event_timestamp.getTime().toString(),a=e.client||{},o=a.language||"-",r=e.gokey||{},i=JSON.stringify(r),s=JSON.stringify({customSdkId:e.sdk_info.customSdkId||"",platform_type:e.sdk_info.platformType||""}),c=e.appKey||e.appId||"-",u=JSON.stringify({appId:a.appId||t.getMetaInfo("miniAppId")||""}),l=JSON.stringify(e.sessionArgs||{}),f=JSON.stringify(e.globalArgs||{}),p=e.arg1||e.logkey||"-";0===p.indexOf("/$$_")&&(p=p.substring(1,p.length));e.event_code===Q.PV_CODE&&e.trackerEventCode&&(p=e.trackerEventCode);var d={};d.platform=e.sdk_info.platformType||"";d.sdk_type=d.platform?"".concat(d.platform,"mp"):"";d.appkey=c;d.sdk_version=e.sdk_info.lver;d.device_type=a.device_model||"";d.os=a.os||"";d.os_version=a.os_version||"";d.jsver=e.sdk_info.jsver;d.pixel_ratio=window.devicePixelRatio||"";var g=Math.round(a.screenWidth*(window.devicePixelRatio||1)),h=Math.round(a.screenHeight*(window.devicePixelRatio||1));d.resolution=g>h?"".concat(g,"*").concat(h):"".concat(h,"*").concat(g);d.language=o;d.app_version=t.getMetaInfo("appVersion")||"devtools";d.arg1=p;d.event_args=i;d.event_code=e.event_code||"";d.sessionArgs=l;d.global_args=f;d.app_ext_info=u;d.time=n;d.cna=e.cna||"";d.url=e.url||"";d.pre=e.pre||"";d.method=e.method||ae.GET;d.log_id=e.cache||"";d.sdk_info=s;d.is_auto=e.is_auto;d.track_type=e.track_type;var _=t.getMetaInfo("aplus-exdata");_&&_.aplus_track_debug_id&&(d.track_debug_id=_.aplus_track_debug_id);return d}(e.what_to_send.logdata),r=Za(o,e.userdata),i=e.where_to_send.method;if(e.where_to_send.subDomainUrl){var s=t.getMetaInfo(ee.APLUS_FORWARD_EVENT_FILTER)||[],c=this.encodeData(r,!0,i);try{r.a.e.sessionid[0].id===ee.PAGE_START&&-1===f.indexof(s,r.a.e.sessionid[0].page_name)&&t.send(e.where_to_send.subDomainUrl,c,i);r.a.e.sessionid[0].id!==ee.PAGE_START&&-1===f.indexof(s,r.a.e.sessionid[0].id)&&t.send(e.where_to_send.subDomainUrl,c,i)}catch(e){}}if(r){P().i("event before send to: ",e.where_to_send.url);t.send(e.where_to_send.url,this.encodeData(r,!1,i),i)}}}}),ho=_t(Object.freeze({__proto__:null,default:go})),_o=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"run",value:function(){ho.default.create({WS:null,CTX:window,CTX_TYPE:"WEB"}).run(this.options)}}])}(),mo=_t(Object.freeze({__proto__:null,default:_o})),vo=function(e){for(var t=e.length,n=new Array(t-1),a=1;a<t;a++)n[a-1]=e[a];return n},yo=O.extend({callable:function(e){if(!m(e))throw new TypeError(e+" is not a function");return e},create:function(e){var t=new this;for(var n in e)t[n]=e[n];t.handlers=[];t.pubs={};return t},setHandlers:function(e){this.handlers=e},subscribe:function(e,t){this.callable(t);var n=this,a=(n.pubs||{})[e]||[];if(a)for(var o=0;o<a.length;o++){var r=a[o]();t.apply(n,r)}var i=n.handlers||[];e in i||(i[e]=[]);i[e].push(t);n.setHandlers(i);return n},unsubscribe:function(e,t){this.callable(t);try{var n=this.handlers[e];if(!n)return this;if("object"===a(n)&&n.length>0){for(var o=0;o<n.length;o++)t.toString()===n[o].toString()&&n.splice(o,1);this.handlers[e]=n}else delete this.handlers[e]}catch(e){}return this},publish:function(e){var t=vo(arguments),n=this.handlers||[],a=n[e]?n[e].length:0;if(a>0)for(var o=0;o<a;o++){var r=n[e][o];m(r)&&r.apply(this,t)}return this},cachePubs:function(e){var t=this.pubs||{},n=vo(arguments);t[e]||(t[e]=[]);t[e].push((function(){return n}))}}),bo=yo.extend({subscribeOnce:function(e,t){this.callable(t);var n,a=this;this.subscribe.call(this,e,n=function(){a.unsubscribe.call(a,e,n);var o=Array.prototype.slice.call(arguments);t.apply(a,o)});return this}}),Ao=_t(Object.freeze({__proto__:null,default:bo})),So=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"run",value:function(){var e=M(R()),t="".concat(R(),"_pubsub");if(!e[t]){var n=Ao.default.create();e[t]=n}}}])}(),Eo=_t(Object.freeze({__proto__:null,default:So})),To=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"getLogConfig",value:function(){var e={},t=this.options.config.plugins,n=function(n){e[n]={plugins:t[n],context:{}};u(t[n],(function(t){e[n].context[t.name]=t.config||{}}))};for(var a in t)n(a);return e}},{key:"run",value:function(){this.options.context.logConfig=this.getLogConfig();this.options.context.logConfig.pageLoadTime=this.options.context.PAGE_LOAD_TIME}}])}(),wo=_t(Object.freeze({__proto__:null,default:To})),Po={parseSemicolonContent:function(e,t,n){t=t||{};var a,o,r=e.split(";"),i=r.length;for(a=0;a<i;a++){o=r[a].split("=");var s=T.trim(o.slice(1).join("="));t[T.trim(o[0])||""]=n?s:this.tryToDecodeURIComponent(s)}return t},getLsCna:function(e,t){if(ft.get&&ft.test()){var n="",a=ft.get(e);if(a){var o=a.split("_")||[];n=t?o.length>1&&t===o[0]?o[1]:"":o.length>1?o[1]:""}return decodeURIComponent(n)}return""},setLsCna:function(e,t,n){n&&ft.set&&ft.test()&&ft.set(e,"".concat(t,"_").concat(encodeURIComponent(n)))},getLsImpv:function(e,t){if(ft.get&&ft.test()){var n="",a=ft.get(e);if(a){var o=a.split("||")||[];n=t?o.length>1&&t===o[0]?o[1]:"":o.length>1?o[1]:""}return decodeURIComponent(n)}return""},setLsImpv:function(e,t,n){n&&ft.set&&ft.test()&&ft.set(e,"".concat(t,"||").concat(encodeURIComponent(n)))},setLsRemoteCfg:function(e,t,n){if(n&&ft.set&&ft.test()){var o=h.cloneDeep(n);"object"===a(o)&&(o=JSON.stringify(o));ft.set(e,"".concat(t,"||").concat(encodeURIComponent(o)))}},getLsRemoteCfg:function(e,t){if(ft.get&&ft.test()){var n="",a=ft.get(e);if(a){var o=a.split("||")||[];n=t?o.length>1&&t===o[0]?o[1]:"":o.length>1?o[1]:""}return _.parse(decodeURIComponent(n))}return""}},Oo=["$sid"],Co="httpRequest",Io="request",ko=function(){},Ro=Object.freeze({WECHAT:"wx",DINGTALK:"dd",ALIPAY:"my",TAOBAO:"taobao",TIKTOK:"tt",BAIDU:"bd",JD:"jd",XHS:"xhs",UNKNOW:"UNKNOW"});function No(){try{return{ctx:dd,platType:Ro.DINGTALK,sdkType:"ddmp",logDomain:"/ddm_logs"}}catch(e){try{return{ctx:my,platType:my&&my.tb?Ro.TAOBAO:Ro.ALIPAY,sdkType:my&&my.tb?"taobaomp":"mymp",logDomain:"/alipaym_logs"}}catch(e){try{return{ctx:tt,platType:Ro.TIKTOK,sdkType:"ttmp",logDomain:"/bytedancem_logs"}}catch(e){try{return{ctx:swan,platType:Ro.BAIDU,sdkType:"bdmp",logDomain:"/baidum_logs"}}catch(e){try{return{ctx:xhs,platType:"xhs",sdkType:"xhsmp",logDomain:"/wxm_logs"}}catch(e){try{return{ctx:wx,platType:"wx",sdkType:"wxmp",logDomain:"/wxm_logs"}}catch(e){try{return{ctx:jd,platType:Ro.JD,sdkType:"jdmp",logDomain:"/wxm_logs"}}catch(e){return{ctx:{},platType:Ro.UNKNOW,sdkType:"UNKNOW"}}}}}}}}}function Mo(){return No().platType}function xo(){return No().ctx}function Lo(){if("boolean"==typeof eo)return eo;var e=!1;try{var t=navigator?navigator.userAgent||navigator.swuserAgent:"";e=!!/AliApp/i.test(t);/AliApp\((AP|DingTalk|AMAP|UC|QUARK)/i.test(t)&&(e=!1);/AliApp\(KB/i.test(t)&&(e=!!/Mist/.test(t));/AlipayIDE Taobao/.test(t)&&(e=!0);if(e){var n=Mo().ctx;m(n.canIUse)&&(e=!!n.canIUse("callUserTrack"))}}catch(e){}eo=e;return e}var Do={getPlatformType:Mo,getPlatformSdkType:function(){return No().sdkType},getPlatformContext:xo,getLogDomain:function(){return No().logDomain},getCurrentPage:function(){var e=getCurrentPages();return e[e.length-1]||{}},getReferrerPage:function(){var e=getCurrentPages();return e[e.length-2]||{}},resetIsTB:function(e){eo=e},initIsTB:Lo,isTB:function(){return"boolean"==typeof eo?!!eo:Lo()},getWxTitle:function(e){if(!e)return"";var t=Mo(),n="";try{if(t===Ro.WECHAT&&__wxConfig){var a=__wxConfig,o=__wxConfig.page||{},r=o[e]||o[e+".html"],i={},s={};a.global&&a.global.window&&a.global.window.navigationBarTitleText&&(i.title=a.global.window.navigationBarTitleText);r&&r.window&&r.window.navigationBarTitleText&&(s.title=r.window.navigationBarTitleText);if(!s.title&&__wxAppCode__){var c=__wxAppCode__[e+".json"];c&&c.navigationBarTitleText&&(s.title=c.navigationBarTitleText)}var u=k().ctx;u[R()].globalTitleMap&&h.eachMap(u[R()].globalTitleMap,(function(t,a){t===e&&(n=a)}));0===n.length&&(n=s.title||i.title||"")}return n}catch(e){P().w("current platform can not track page title");return n}},setStorageSync:function(e,t){try{var n=Mo(),a=xo();n===Ro.ALIPAY||n===Ro.TAOBAO?a.setStorageSync({key:e,data:t}):a.setStorageSync(e,t)}catch(e){}},getStorageSync:function(e){try{var t=Mo(),n=xo();return t===Ro.ALIPAY||t===Ro.TAOBAO?n.getStorageSync({key:e}).data:n.getStorageSync(e)}catch(e){}},removeStorageSync:function(e){try{var t=Mo(),n=xo();t===Ro.ALIPAY||t===Ro.TAOBAO?n.removeStorageSync({key:e}):t===Ro.XHS?n.removeStorage({key:e}):n.removeStorageSync(e)}catch(e){P().e("removeStorageSync failed, errormsg = ",e)}},request:function(e,t,n,o){var r=M(R()),i=xo();m(o)||(o=ko);m(n)||(n=ko);var s=t.requestMethodName||Io,c=i[s];m(c)||s===Io||(c=i[s=Io]);m(c)||s===Co||(c=i[s=Co]);var u,l,f=t&&t.dataType?t.dataType:"base64",p=r.getMetaInfo(ee.APLUS_MINI_REQUEST_TIMEOUT),d=t&&t.timeout?t.timeout:p,g=t.method||ae.GET;e=bt.fixDomain(e);if(m(c)){var h={url:e,method:g,dataType:f,timeout:d,success:function(e){if(!u){u=!0;n(e)}},fail:function(e){if(!u){u=!0;o({failure:!0,data:e})}}};if(g===ae.POST&&"object"===a(t.data)){h.url=h.url.split("?")[0];if(Co===s){h.headers={"Content-Type":"application/json"};h.dataType="json";h.data=JSON.stringify(t.data)}else h.data=t.data}c(h)}else if(!u){u=!0;o({failure:!0,data:l})}setTimeout((function(){if(!u){u=!0;l='aplus log request"'+e+' timeout", time spend'+d+"ms";console&&console.warn(l);o({failure:!0,data:l})}}),d)},requestPromise:function(e,n){var a=xo(),o=Mo();if([Ro.WECHAT,Ro.TIKTOK,Ro.XHS].includes(o))return new Promise((function(r,i){var s=a[Io];s&&m(s)?s(t(t({url:e},n),{},{success:r,fail:i})):P.w("current platform not support request method, platform = ",o)}));P.w("current platform not support Promise, platform = ",o)},getUtmParamsObj:function(e,t){var n={};try{if(!e)return n;h.eachMap(e,(function(a,o){if(0===a.indexOf("utm_"))n[a]="".concat(o);else if("scene"===a&&T.isString(o)){var r=decodeURIComponent(o)||"",i=T.query2obj(r);h.eachMap(i,(function(e,t){0===e.indexOf("utm_")&&(n[e]="".concat(t))}))}else if("$sid"===a){n[ee.REF_SHARE_ID]=o;e.$sid;var s=c(e,Oo),u=w.obj2queryStr(s);n[ee.REF_SHARE_URL]="".concat(t,"?").concat(u)}}))}catch(e){P().e("handle query error:",e)}return n},PLATFORM_TYPE:Ro},Uo=function(){var e=null,t="",n=null,o=!1;function r(){var e=Do.getPlatformContext();this.load=function(a){if(n){e.removeStorage({key:t});m(a)&&a()}else{t="aplus_cache_".concat(bt.getAppKey());e.getStorage({key:t,success:function(r){n=r&&r.data&&_.parse(r.data)||{};o=!0;e.removeStorage({key:t});m(a)&&a()},fail:function(r){P().w("".concat(t,": ").concat(r.errMsg));n={};o=!0;e.removeStorage({key:t});m(a)&&a()}})}};this.save=function(){n&&e.setStorage({key:t,data:_.stringfy(n)})};this.set=function(e,t){n&&(n[e]=t)};this.get=function(e){return(n||{})[e]};this.remove=function(e){n&&n[e]&&delete n[e]};this.getAll=function(){return n};this.clear=function(){n=null};this.has=function(e){return!!this.get(e)};this.isLoaded=function(){return o};this.getSync=function(e){try{var t=Do.getStorageSync(e);return e===ee.APLUS_IMPRINT_VERSION?t:"string"==typeof t?_.parse(t):t}catch(e){}};this.setSync=function(e,t){try{"object"===a(t)?Do.setStorageSync(e,JSON.stringify(t)):Do.setStorageSync(e,t)}catch(e){}}}return function(){e||(e=new r);return e}}();function jo(e){var t;t=function(){try{return window}catch(e){}}()?bt.RemoteCfgUtils.get(ee.APLUS_REMOTE_CONFIG):Uo().getSync(ee.APLUS_REMOTE_CONFIG);return!!h.isEmptyObject(t)||t&&t[e]}function Bo(){return M(R()).getMetaInfo(ee.APLUS_DISABLE_AUTOEVENT_REMOTE)||jo(oe.codelessClickEventStatus)}function Vo(){return jo(oe.currentDeviceEnable)}function Fo(){var e=M(R()).getMetaInfo(ee.APLUS_DISABLE_AUTOPV_REMOTE)||jo(oe.codelessCollectorPageStatus);return"number"==typeof e?e:0}function Go(){return M(R()).getMetaInfo(ee.APLUS_AUTOTRACK_ENABLED_REMOTE)||jo(oe.codelessStatus)}var Ho={getAutoEventStatus:Bo,enableCfg:function(e){var t,n,a=M(N());if(e&&!h.isEmptyObject(e)){n=e.codelessClickEventStatus,M(N()).push({action:te.setMetaInfo,arguments:[ee.APLUS_DISABLE_AUTOEVENT_REMOTE,n]});!function(e){M(N()).push({action:te.setMetaInfo,arguments:[ee.APLUS_DISABLE_AUTOPV_REMOTE,e]})}(e.codelessCollectorPageStatus);!function(e){M(N()).push({action:te.setMetaInfo,arguments:[ee.APLUS_AUTOTRACK_ENABLED_REMOTE,e]})}(e.codelessStatus);t=e.currentDeviceEnable,M(N()).push({action:te.setMetaInfo,arguments:[ee.APLUS_DEVICE_ENABLE,t]});e.eventSamplingRate&&e.eventSamplingRate.length>0&&a.push({action:te.setMetaInfo,arguments:[ee.APLUS_EVENT_LIMITRATES,bt.mapEventSampleRates(e.eventSamplingRate)]});e.codelessIgnoreComponent&&e.codelessIgnoreComponent.length>0&&a.push({action:te.setMetaInfo,arguments:[ee.APLUS_AUTOTRACK_CONFIG_REMOTE,e.codelessIgnoreComponent]})}},getAutoTrackStatus:Go,getAutoPageStatus:Fo,getDeviceStatus:Vo},Ko=function(){return i((function e(t){o(this,e);this.options=t;this.ABFPC="_abfpc";this.VERSION="2.0";this.IMPRINT_VERSION="imprintVersion"}),[{key:"tryGetStoreValue",value:function(e){return{lsValue:ft.get(e),cookieValue:ut.getCookie(e)}}},{key:"syncRcfg",value:function(e,t){var n=bt.getTrackDomain(),a=bt.fixDomain(n),o=ct.loadScript,r=bt.getAppKey();"string"==typeof n&&n&&o("".concat(a,"/rcfg.js?_abfpc=").concat(e,"&ak=").concat(r),t)}},{key:"setImprintVersion",value:function(e){this.impv=e;if(e&&Po.getLsImpv(ee.APLUS_IMPRINT_VERSION)!==e){Po.setLsImpv(ee.APLUS_IMPRINT_VERSION,bt.date2YYMMDDHHMMSS(),e);var t=bt.getTrackDomain(),n=bt.fixDomain(t)+e;this.syncRemoteCfgData(n)}else{var a=Po.getLsRemoteCfg(ee.APLUS_REMOTE_CONFIG);Ho.enableCfg(a)}}},{key:"syncRemoteCfgData",value:function(e){(0,ct.loadScript)(e,(function(e){var t,n;if(e&&"error"===e.type)P().w("quicktracking load remote config failed",e);else{try{n="object"===a(t=x("imprint"))?t:JSON.parse(t);Po.setLsRemoteCfg(ee.APLUS_REMOTE_CONFIG,bt.date2YYMMDDHHMMSS(),n)}catch(e){n=null}Ho.enableCfg(n)}}))}},{key:"run",value:function(){var e=this,t=e.tryGetStoreValue(e.ABFPC),n=t.lsValue||t.cookieValue;n&&(n=n.replace("_".concat(e.VERSION),""));e.syncRcfg(n,(function(t){if(t&&"error"===t.type)P().w("remote configuration request failed, err msg:",t);else{var n=x(e.IMPRINT_VERSION);e.setImprintVersion(n)}}))}}])}(),Wo=_t(Object.freeze({__proto__:null,default:Ko})),qo=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"getMetaInfo",value:function(){return(x("_$")||{}).meta_info}},{key:"getAplusWaiting",value:function(){return(this.getMetaInfo()||{})["aplus-waiting"]}},{key:"run",value:function(e,t){var n=this.options.config||{},a=this.getAplusWaiting();if(a&&n.is_auto){a="".concat(this.getAplusWaiting());this.options.context.when_to_sendpv={aplusWaiting:a};switch(a){case Q._USER_ID:case Q._ANONY_ID:case"MAN":return"done";case"1":this.options.context.when_to_sendpv.isWait=!0;setTimeout((function(){t()}),6e3);return 6e3;default:var o=1*a;if("NaN"!=="".concat(o)){this.options.context.when_to_sendpv.isWait=!0;setTimeout((function(){t()}),o);return o}}}}}])}(),zo=_t(Object.freeze({__proto__:null,default:qo})),Yo=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"getMetaInfo",value:function(){return(x("_$")||{}).meta_info}},{key:"getMetaValue",value:function(e){return(this.getMetaInfo()||{})[e]}},{key:"getRhost",value:function(){var e=this.getMetaValue(ee.APLUS_PV_DOMAIN)||this.getMetaValue(ee.TRACKDOMAIN);return bt.checkDomain(e)?e:""}},{key:"getHjljHostUrl",value:function(e){return(e=bt.fixDomain(e))+"/web_logs"}},{key:"getPvHostUrl",value:function(e){e=bt.fixDomain(e);var t=/\/$/.test(e)?"":"/",n="v.gif";E()&&(n="m.gif");return e+t+n}},{key:"getSubDomain",value:function(){var e=this.getMetaValue(ee.APLUS_FORWARD_DOMAIN);return e&&!bt.checkDomain(e,ee.APLUS_FORWARD_DOMAIN)?"":e}},{key:"getChannel",value:function(e){var t,n=this.getMetaValue("aplus-channel"),a=[ae.WebSocket,ae.WebSocketOnly,ae.GET,ae.POST];a.indexOf(e)>-1&&(t=e);!t&&a.indexOf(n)>-1&&(t=n);return t}},{key:"run",value:function(){if(!this.options.context.is_single){var e=this.options.config.recordType,t=this.getRhost(e);if(!t){P().w("current request domain invalid, please check your aplus-rhost-v value inside metainfo!");return"done"}var n,a,o=this.getSubDomain();n="PV"===e?this.getPvHostUrl(t):this.getHjljHostUrl(t);o&&(a="PV"===e?this.getPvHostUrl(o):this.getHjljHostUrl(o));var r=this.options.config||{},i=this.getChannel(r.method)||ae.POST;i!==ae.POST||navigator&&navigator.sendBeacon||(i=ae.GET);this.options.context.where_to_send.method=r.method;this.options.context.where_to_send.url=n;a&&(this.options.context.where_to_send.subDomainUrl=a)}}}])}(),$o=_t(Object.freeze({__proto__:null,default:Yo})),Qo=Object.freeze({PC:"PC",WAP:"WAP"});function Xo(){return E()?Qo.WAP:Qo.PC}var Jo=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"getCommonParams",value:function(){var e=M(R()),t=e.getMetaInfo("aplus-globaldata")||{},n=this.options.context||{},a=n.etag||{},o=n.userdata||{},r=x("_$")||{},i=this.options.config||{},s=Xo(),c={_dev_id:e.getMetaInfo("_dev_id"),_anony_id:e.getMetaInfo(Q._ANONY_ID),_user_id:e.getMetaInfo(Q._USER_ID),_user_nick:e.getMetaInfo("_user_nick")||ut.getCookie("tracknick"),_session_id:e.getMetaInfo("_session_id")},u=i.pageUrl||(location?location.href:"-"),l=i.title||document&&document.title,f=e.getMetaInfo("appKey")||e.getMetaInfo("appId");f||P().w("please set appKey in sdk metaInfo before sendPV!");return h.assign({appId:f,cna:t.cna||"",_abfpc:t._abfpc||"",etag:a,pre:r.page_referrer||"-",sdk_info:{jsver:e.globalConfig.script_name,lver:e.globalConfig.lver,customSdkId:e.getMetaInfo("customSdkId")||"",platformType:s.toLowerCase()},trackerEventCode:i.trackerEventCode,title:l,url:u,client:e._aplus_client||{},timeZone:bt.getTimeZone(),gokey:c,gmkey:o.gmkey||"",method:this.options.context.where_to_send.method},c)}},{key:"getPvParams",value:function(){var e,t=this.getCommonParams(),n=M(R());this.options.config.is_auto||(t.sdk_info.mansndlog=1);return h.assign(t,{event_code:Q.PV_CODE,logtype:"1",logkey:(e=E()?"m":"v","/".concat(e,".gif")),event_timestamp:n._$.send_pv_count>0?new Date:n.logConfig.pageLoadTime,is_auto:this.options.config.is_auto,track_type:this.options.config.track_type})}},{key:"getHjljParams",value:function(){var e=(this.options.context||{}).userdata||{},t={event_code:J[e.gmkey]||Q.OTHER_CODE,logtype:"2",logkey:e.logkey,event_timestamp:new Date};return h.assign(this.getCommonParams(),t)}},{key:"run",value:function(){var e={};e="PV"===this.options.config.recordType?this.getPvParams():this.getHjljParams();this.options.context.what_to_send.logdata=e}}])}(),Zo=_t(Object.freeze({__proto__:null,default:Jo})),er=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"getUserdata",value:function(){var e=M(R()),t=this.options.config||{},n={};t&&!t.is_auto&&t.gokey&&("string"==typeof t.gokey?n=y(t.gokey):"object"===a(t.gokey)&&(n=t.gokey));var o=function(e){f.isArray(e)?e.forEach((function(e){n=h.assign(n,e)})):n=h.assign(n,e)};o(e.getMetaInfo("aplus-globaldata"));o(e.getMetaInfo("aplus-cpvdata"));o((this.options.context||{}).userdata||{});var r=e.getMetaInfo(ee.APLUS_NEXT_PAGE_TRANSP);if(!h.isEmptyObject(r)){n.transp=h.cloneDeep(r);e.setMetaInfo(ee.APLUS_NEXT_PAGE_TRANSP,null)}return n}},{key:"processLodashDollar",value:function(){var e=this.options.config||{},t=x("_$")||{};e&&e.referrer&&(t.page_referrer=e.referrer);L("_$",t)}},{key:"updatePre",value:function(e){var t=x("_$")||{};t.page_referrer&&(e.pre=t.page_referrer);return e}},{key:"run",value:function(){var e=this.options.context.what_to_send.logdata,t=h.assign(this.getUserdata(),e.userdata||{});this.processLodashDollar();e.gokey=h.assign(e.gokey,t);e=this.updatePre(e);this.options.context.what_to_send.logdata=e;this.options.context.userdata=e.gokey}}])}(),tr=_t(Object.freeze({__proto__:null,default:er})),nr=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"getToNativeData",value:function(){var e=this.options.context||{},t=h.cloneDeep(e.userdata)||{},n=(e.what_to_send||{}).logdata||{},a=n.sdk_info||{},o=this.options.context.etag||{},r={},i={},s={};i.cna=o.cna;i.lver=a.lver;i.jsver=a.jsver;i.id=ee.PAGE_START;i.ts=Date.now();i.r=n.arg1||n.logkey||"-";i.is_h5="1";Object.prototype.hasOwnProperty.call(t,"autosend")||n.is_auto||"1"===n.track_type?i.is_auto=1:i.is_auto=0;if(t._vt){i.track_type=t.track_type;i._vt=t._vt;delete t._vt;delete t.track_type}else i.track_type="".concat(i.is_auto);if((s=h.cloneDeep(bt.deleteInfo(t,["_anony_id","_dev_id","_session_id","_src_pos_id","_user_id","_user_nick","_abfpc","cna"]))).duration){i.duration=s.duration;delete s.duration}if(s.page_start){i.page_start=s.page_start;delete s.page_start}if(n.url){i.page_name=Ga(location.pathname,s);i.page_title=Ka(location.pathname,s);i.url=n.url||"-";i["spm-cnt"]=encodeURIComponent(i.page_name)}if(n.pre){i.ref_url="-"!==n.pre?n.pre:"";var c=Wa(i.ref_url);i.ref_page_name=c.page_name||"";i.ref_host=c.host||""}s.ts&&delete s.ts;for(var u in s){var l=s[u];"boolean"==typeof l&&(s[u]=1&l)}h.isEmptyObject(s.transp)||(r.transp=s.transp);r.sdkArgs=h.cloneDeep(i);if(s.transp){r.transp=h.cloneDeep(s.transp);delete s.transp}r.cusp=h.assign(s,Ha(location.pathname,s));return r}},{key:"run",value:function(){var e=(this.options.context||{}).what_to_send||{};e.pvdataToUmNative=this.getToNativeData();this.options.context.what_to_send=e}}])}(),ar=_t(Object.freeze({__proto__:null,default:nr})),or="mini",rr="web";function ir(e,t){var n,a=M(R());t===or?n=Uo().getSync(ee.APLUS_REMOTE_CONFIG):t===rr&&(n=Po.getLsRemoteCfg(ee.APLUS_REMOTE_CONFIG));if(n){var o=a.getMetaInfo(ee.APLUS_EVENT_LIMITRATES)||bt.mapEventSampleRates(n.eventSamplingRate);if(o&&o.length>0){var r=f.find(o,(function(t){return t.eventId===e}));if(r&&Math.ceil(1e3*Math.random())>1e3*r.samplingRate)return!0}}return!1}function sr(e){var t=M(R()).getMetaInfo(ee.APLUS_PRESET_EVENTS_DISABLED);if(t&&f.isArray(t)&&e&&e.indexOf("$$_")>-1&&-1!==t.indexOf(e))return!0}function cr(e,t){return!lr()&&function(e,t,n){if(!Vo())try{var a=Do.getPlatformContext();return h.isEmptyObject(a)?void 0:t===ee.APP_START||t===ee.APP_END}catch(e){}var o=Go(),r=Bo(),i=bt.LocalCfgUtils.getAutoTrackStatus();if(("string"==typeof e?v(S(e)):e||{}).auto_element){if(2===r||2===o)return;if("number"==typeof o)return o;if("boolean"==typeof o&&!o)return;if(!i)return}return!sr(t)&&(!ir(t,n)||void 0)}(e,t,rr)}function ur(e,t){return!lr()&&function(e,t,n){var a=Vo(),o=Fo(),r=bt.LocalCfgUtils.localAutoPVDisabled();return!(!a||sr(ee.PAGE_START)||ir(t,n)||e&&(o?2===o:r))}(e,t,rr)}function lr(){try{return!!ft.get(ee.APLUS_SDK_DISABLE)}catch(e){P().e("check sdk disable condition failed, errmsg = ",e)}}var fr=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"run",value:function(){var e=x("_$")||{},t=this.options.context.can_to_sendpv||{},n=this.options.config||{},a=this.options.context.userdata,o=Ga(location.pathname,a);if(!ur(n.is_auto,o))return"done";t.flag="YES";this.options.context.can_to_sendpv=t;L("_$",e)}}])}(),pr=_t(Object.freeze({__proto__:null,default:fr})),dr=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"run",value:function(){var e=M(R())._$||{},t=this.options.context||{};L("pv_context",t);var n=e.send_pv_count,a={cna:t.etag?t.etag.cna:"",count:n};j(["sendPV","complete",a]);B(["sendPV","complete",a])}}])}(),gr=_t(Object.freeze({__proto__:null,default:dr})),hr=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"getUserData",value:function(){var e=M(R()),t=this.options.context||{},n=t.userdata||{},a=t.what_to_send.logdata.gokey;a=h.assign(a,e.getMetaInfo("aplus-globaldata"));a=h.assign(a,y(n.gokey));var o=e.getMetaInfo("aplus-exdata");f.isArray(o)?o.forEach((function(e){a=h.assign(a,e)})):a=h.assign(a,e.getMetaInfo("aplus-exdata"));return a}},{key:"run",value:function(){this.options.context.what_to_send.logdata.gokey=this.getUserData()}}])}(),_r=_t(Object.freeze({__proto__:null,default:hr})),mr=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"getToNativeData",value:function(){var e=this.options.context||{},t=e.userdata||{},n=e.etag||{},o=(e.what_to_send||{}).logdata||{},r=o.sdk_info||{},i={},s={},c={};s.cna=n.cna;s.lver=r.lver;s.jsver=r.jsver;s.id=t.logkey||"-";s.ts=Date.now();s.is_h5="1";if(t.gokey)switch(a(t.gokey)){case"string":s.is_auto=!!t.gokey.match("is_auto");break;case"object":s.is_auto=t.gokey.is_auto;break;default:s.is_auto=0}else s.is_auto=0;s.is_auto&&(s.event_type_id=o.event_code);s.track_type=s.is_auto||"".concat(0);c="string"==typeof t.gokey?v(S(t.gokey||"")):h.cloneDeep(bt.deleteInfo(t.gokey,["_anony_id","_dev_id","_session_id","_src_pos_id","_user_id","_user_nick"]));if(o.url){s.page_name=Ga(location.pathname,c);s.page_title=Ka(location.pathname,c);s.url=o.url||"-";if(s.page_name&&c.spmC){s["spm-cnt"]=[encodeURIComponent(s.page_name),encodeURIComponent(c.spmC),encodeURIComponent(c.spmD)].filter((function(e){return!!e})).join(".");delete c.spmC;delete c.spmB;delete c.spmD}}if(o.pre){s.ref_url="-"!==o.pre?o.pre:"";var u=Wa(s.ref_url);s.ref_page_name=u.page_name||"";s.ref_host=u.host||""}c.ts&&delete c.ts;for(var l in c){var f=c[l];"boolean"==typeof f&&(c[l]=1&f)}var p=h.cloneDeep(c);for(var d in p)if("string"==typeof d&&T.isStartWith(d,"_")){s[d]=p[d];delete c[d]}i.sdkArgs=h.cloneDeep(s);var g=h.cloneDeep(c);i.cusp=g;if(g.ap){i.ap=g.ap;delete g.ap}return i}},{key:"run",value:function(){var e=(this.options.context||{}).what_to_send||{};e.hjljdataToUmNative=this.getToNativeData();this.options.context.what_to_send=e}}])}(),vr=_t(Object.freeze({__proto__:null,default:mr})),yr={};function br(e){var t;try{for(var n;e&&(n=e.tagName)&&!(t=e&&e.getAttribute?e.getAttribute("data-aplus-pos-id"):"");){if("BODY"===n||"HTML"===n){t="PAGE";break}e=e.parentNode}}catch(e){}return{_pos_id:t,alinkEl:e,isPage:!1}}function Ar(e,t){var n=M(R()),a=e.getElementsByTagName("a"),o=function(e){var t=M(R()).getMetaInfo("aplus-auto-clk")||[],n={};if("PAGE"===e)return t[0]||{};f.each(t,(function(t){if(t._pos_id===e){n=t;return"break"}}));return n}(t)||{},r=yr.page||{},i=o.spmB||r.spmB;if(i){var s=1;f.each(a,(function(e){var a=br(e)._pos_id;if(t===a){var o="PAGE"===t?[i,s++].join("."):[i,t,s++].join(".");n._current_spm=o;try{if(e&&e.setAttribute&&!e.getAttribute("aplus-anchor-id")){e.setAttribute("aplus-anchor-id",o);e.href&&"#"!==e.href&&e.setAttribute("href",function(e,t){e&&/&?\b_src_pos_id=[^&#]*/.test(e)&&(e=e.replace(/&?\b_src_pos_id=[^&#]*/g,"").replace(/&{2,}/g,"&").replace(/\?&/,"?").replace(/\?$/,""));if(!t)return e;var n,a,o,r="&";if(-1!==e.indexOf("#")){o=e.split("#");e=o.shift();a=o.join("#")}var i=e.split("?"),s=i.length-1,c=(o=(o=i[0].split("//"))[o.length-1].split("/")).length>1?o.pop():"";if(s>0){n=i.pop();e=i.join("?")}n&&s>1&&-1===n.indexOf("&")&&-1!==n.indexOf("%")&&(r="%26");e="".concat(e,"?_src_pos_id=").concat("").concat(t).concat(n?r+n:"").concat(a?"#".concat(a):"");var u=T.isContain(c,".")?c.split(".").pop().toLowerCase():"";if(u){if(Object.prototype.hasOwnProperty.call({png:1,jpg:1,jpeg:1,gif:1,bmp:1,swf:1},u))return 0;!n&&s<=1&&(a||Object.prototype.hasOwnProperty.call({htm:1,html:1,php:1,aspx:1,shtml:1,xhtml:1},u)||(e+="&file=".concat(c)))}return e}(e.href,o))}}catch(e){P().w(e)}}}))}}function Sr(e,t){var n,a=function(e){for(var t,n;e&&(t=e.tagName);){if("A"===t){n=!0;break}if("BODY"===t||"HTML"===t)break;e=e.parentNode}return n?e:""}(t);if(a&&!(n=a.getAttribute("aplus-anchor-id"))){var o=br(a);n=o._pos_id;Ar(o.alinkEl,n)}return n}function Er(e){var t=document;_e.pushIntoGoldlogQueue(Q.SUBSCRIBE,[Q.CURRENT_PAGE_CONFIG,function(e){yr=e||{}}]);M(R()).doTrace=Sr;if(e&&e.isTouchEnabled)lt.on(t,"tapSpm",Sr);else{lt.on(t,"mousedown",Sr);lt.on(t,"keydown",Sr)}}var Tr=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"run",value:function(){Er({isTouchEnabled:ct.isTouchEnabled()})}}])}(),wr=_t(Object.freeze({__proto__:null,default:Tr}));function Pr(e,t){!function(e,t,n,a){var o=window||{},r=new Image,i="_img_".concat(Math.random());o[i]=r;var s=function(){if(o[i])try{delete o[i]}catch(e){o[i]=void 0}};r.onload=function(){s();n&&n()};r.onerror=function(){s();a&&a()};setTimeout((function(){if(window[i]){window[i].src="";s()}}),t||5e3);r.src=e;r=null}(e,t,(function(){}),(function(){P().w("imgRequest send failed, src = ".concat(e))}))}var Or={SHARE_PATH_ERROR:"path",SHARE_CAMPAIGN_ERROR:"campaign 4*1024",SHARE_TITLE_ERROR:"title 4*1024",USER_EMAIL_ERROR:" user_email",USER_MOBILE_ERROR:" user_mobile",TRACK_DOMAIN_ERROR:"",XHR_ERROR:"xhr, "},Cr=Object.freeze({UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4});function Ir(e,t,n,o,r){var i=(r.method||ae.GET).toUpperCase(),s=r.timeout||ee.DEFAULT_REQUEST_TIMEOUT,c=bt.fixDomain(e),l=void 0===r.credentials||r.credentials,f=n,p=o,d=null,g=r.cors?"XMLHttpRequest"in window&&"withCredentials"in XMLHttpRequest.prototype?new XMLHttpRequest:"XDomainRequest"in window?new XDomainRequest:null:new XMLHttpRequest;if(g){var _=function(e){f(e);if(d){clearTimeout(d);d=null}},m=function(e){p(e);if(d){clearTimeout(d);d=null}};d=setTimeout((function(){!function(){try{g&&"object"===a(g)&&g.abort&&g.abort()}catch(e){}if(d){clearTimeout(d);g.onreadystatechange=null;p&&p();g.onload=null;g.onerror=null}}()}),s);if("undefined"!=typeof XDomainRequest&&g instanceof XDomainRequest){g.onload=function(){_(v(g.responseText));g.onreadystatechange=null;g.onload=null;g.onerror=null};g.onerror=function(){m(v(g.responseText));g.onreadystatechange=null;g.onerror=null;g.onload=null}}g.onreadystatechange=function(){try{if(g.readyState===Cr.DONE){g.status>=ne.OK&&g.status<ne.MULTIPLE_CHOICES||g.status===ne.NOT_MODIFIED?_(v(g.responseText)):m(v(g.responseText));g.onreadystatechange=null;g.onload=null}}catch(e){g.onreadystatechange=null;g.onload=null}};g.open(i,c,!0);try{l&&(g.withCredentials=!0);h.isObject(r.header)&&u(r.header,(function(e,t){g.setRequestHeader&&g.setRequestHeader(e,t)}));if(t){r.cors||g.setRequestHeader&&g.setRequestHeader("X-Requested-With","XMLHttpRequest");"application/json"===r.contentType?g.setRequestHeader&&g.setRequestHeader("Content-type","application/json; charset=UTF-8"):g.setRequestHeader&&g.setRequestHeader("Content-type","application/x-www-form-urlencoded")}}catch(e){P().w("http request failed, error = ".concat(e))}t?g.send(JSON.stringify(t)):g.send()}else P().w("".concat(Or.XHR_ERROR,"").concat(navigator.userAgent));function v(e){if(!e)return"";try{return JSON.parse(e)}catch(e){}}}function kr(e,n,a,o,r){window.fetch?function(e,n,a,o,r){var i=bt.fixDomain(e),s=!0,c=r&&r.timeout?r.timeout:ee.DEFAULT_REQUEST_TIMEOUT;setTimeout((function(){if(s){s=!1;o({timeout:c})}}),c);window.fetch(i,t({method:r.method||ae.GET,headers:{"Content-Type":r.header||"application/json"},body:n?JSON.stringify(n):void 0},r)).then((function(e){return/application\/json/.test(e.headers.get("content-type"))?e.json():e.text()})).then((function(e){if(s){a(e);s=!1}})).catch((function(e){s&&o(e)}))}(e,n,a,o,r):Ir(e,n,a,o,r)}var Rr=function(e,t,n,a){try{var o=t.url;if(e&&e.code===ne.OK){var r,i=e.data.shareId;r=a?{path:o.indexOf("?")>-1?"".concat(o,"&$sid=").concat(i):"".concat(o,"?$sid=").concat(i),$soriPath:o,title:t.title,$sid:i,$scampaign:t.meta&&t.meta.campaignId}:{$sid:i};if(!n||!m(n))return r;n(r)}else{P().e(new Error(e.message));if(!n||!m(n))return{};n()}}catch(e){P().e(new Error(e.message));if(!n||!m(n))return{};n(new Error(e.message))}},Nr=document,Mr=[],xr=[],Lr=[],Dr=[],Ur=O.extend({beforeSendPV:function(e){Mr.push(e)},afterSendPV:function(e){xr.push(e)},send:function(e,t,n){var a,o=M(R());if(0===e.indexOf("//")){var r=Q.HTTPS;/(\d+\.){3,}\d+/.test(e)&&(r="http:");e=r+e}a=n===ae.POST&&navigator&&navigator.sendBeacon?function(e,t){navigator.sendBeacon(e,t);return e}(e,t):Pr("".concat(e,"?").concat(t),function(){var e=5e3;try{var t=M(R()).getMetaInfo("aplus-mmstat-timeout");if(t){var n=parseInt(t,10);n>=1e3&&n<=1e4&&(e=n)}}catch(e){}return e}());o.req=a;return a},sendPV:function(e,t){var n=e||{},a=M(R());if(f.some(Mr,(function(e){return!1===e(a,n)})))return!1;var o=a.getMetaInfo(ee.APLUS_SKIP_APV_RULES)||[];if(!f.itemMatch(o,location.href)||!n.is_auto){var r=new le;n.recordType="PV";n.method=n.method!==ae.GET?ae.POST:ae.GET;var i=a.logConfig.pv;r.run({plugins:i.plugins,context:h.cloneDeep(i.context)},{config:n,userdata:t,pubsubType:"pv",messageFnQueue:xr,middlewareMessageKey:"mw_change_pv"});return!0}},getParam:function(e){var t=window.WindVane||{};return t&&"function"==typeof t.getParam?t.getParam(e):""},beforeRecord:function(e){Lr.push(e)},afterRecord:function(e){Dr.push(e)},record:function(e,t,n,a,o){var r=M(R());if(f.some(Lr,(function(e){return!1===e(r)})))return!1;var i=new le,s=r.logConfig.hjlj;cr(n,e)&&i.run({plugins:s.plugins,context:h.cloneDeep(s.context)},{config:{recordType:"COMMON_HJLJ",method:a||ae.POST},userdata:{logkey:e,gmkey:t,gokey:n||{}},pubsubType:"hjlj",messageFnQueue:Dr,middlewareMessageKey:"mw_change_hjlj"},(function(){m(o)&&o()}));return!0},recordUdata:function(e,t,n,a,o){var r=M(R()),i=new le,s=r.logConfig.hjlj;i.run({plugins:s.plugins,context:h.cloneDeep(s.context)},{config:{recordType:"DATACLICK_HJLJ",method:a||ae.POST},userdata:{logkey:e,gmkey:t,gokey:n||{}},pubsubType:"hjlj",messageFnQueue:Dr,middlewareMessageKey:"mw_change_hjlj"},(function(){m(o)&&o()}));return!0},setMetaInfo:function(e,t,n){var o,r,i="OVERWRITE",s=i;if("object"===a(e)){o=e.metaName;r=e.metaValue;s=e.mode||i}else{o=e;r=t}if(s!==i)return this.appendMetaInfo(o,r);if(Ft(o,r)){var c=x("_$")||{};c.meta_info=Vt();L("_$",c);var u=["setMetaInfo",o,r,n];j(u);B(u)}},appendMetaInfo:function(e,t){var n,o,r=M(R());if(e&&t){var i,s=function(n){n.constructor===Array?function(n){try{var a="string"==typeof t?JSON.parse(t):t;c(e,n.concat(a))}catch(e){}}(n):function(n){try{var a="string"==typeof t?JSON.parse(t):t;c(e,h.assign(n,a))}catch(e){}}(n)},c=function(e,t){r.setMetaInfo(e,t,{from:"appendMetaInfo"})},u=r.getMetaInfo(e);if("aplus-exinfo"===e){n=u,o=y(t),c(e,h.assign(n,o));i=!0}if(u)if("object"===a(u)){s(u);i=!0}else try{var l=JSON.parse(u);if("object"===a(l)){s(l);i=!0}}catch(e){}i||c(e,t)}},updatePageProperties:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&!h.isEmptyObject(t)){var a=this.getMetaInfo(ee.PAGE_CONFIG)||{},o=location.pathname,r=gt.retrenchHash(location.hash),i=n?r:o,s=!1;if(h.isEmptyObject(a))a[i]={pageName:e,extData:t};else{for(var c in a){var u=a[c];if(c===i||u.regRule&&u.regRule.test(i)||u.pageName===e){s=!0;u.extData?u.extData=p(u.extData,t):u.extData=t;break}}s||(a[i]={pageName:e,extData:t})}this.appendMetaInfo(ee.PAGE_CONFIG,a)}else P().w("invoke updatePageProperties failed, current properties = ".concat(t))},updateNextPageProperties:function(e){if(h.isEmptyObject(e))P().w("invoke updateNextPageProperties failed, current properties = ".concat(e));else{var t=this.getMetaInfo(ee.APLUS_NEXT_PAGE_TRANSP),n={};for(var a in e)"function"==typeof e[a]&&e[a]?n[a]=e[a]():n[a]=e[a];n=h.assign(n,t);this.setMetaInfo(ee.APLUS_NEXT_PAGE_TRANSP,e);try{localStorage.setItem(ee.APLUS_LOCALSTORE_PAGE_TRANSP,JSON.stringify(e))}catch(e){}}},getPageProperties:function(e){if(e){var t={},n=this.getMetaInfo(ee.PAGE_CONFIG)||{};if(!h.isEmptyObject(n))for(var a in n){var o=n[a];if(o.pageName===e){t.cusp=Object.create(null);if(o.extData)for(var r in o.extData)m(o.extData[r])?t.cusp[r]=o.extData[r]():t.cusp[r]=o.extData[r];break}}var i=null,s=this.getMetaInfo(ee.APLUS_NEXT_PAGE_TRANSP),c=JSON.parse(localStorage.getItem(ee.APLUS_LOCALSTORE_PAGE_TRANSP));i=s||c;h.isEmptyObject(i)||(t.transp=i);return t}P().w("invoke getPageProperties method failed, page_name should not be empty, but ".concat(e))},onPageShow:function(){},onPageHide:function(){try{localStorage.getItem(ee.APLUS_LOCALSTORE_PAGE_TRANSP)&&localStorage.removeItem(ee.APLUS_LOCALSTORE_PAGE_TRANSP)}catch(e){}},getPageProperty:function(e,t,n){if(e)if(t&&"string"==typeof t){if(n){var a=this.getPageProperties(e),o=a.cusp,r=a.transp;switch(n){case"cusp":if(!h.isEmptyObject(o))return o[t];break;case"transp":if(!h.isEmptyObject(r))return r[t];break;default:P().w("invoke getPageProperty failed, invalid propType = ".concat(n))}}}else P().w("invoke getPageProperty failed, invalid propKey = ".concat(t));else P().w("invoke getPageProperty failed, page_name should not be empty")},getMetaInfo:function(e){return Gt(e)},on:lt.on,cloneDeep:h.cloneDeep,setCookie:ut.setCookie,getCookie:ut.getCookie,updateSessionProperties:function(e){var t=M(R());"object"===a(e)&&t.setMetaInfo("_session_args",e)},setPageName:function(e){if(e&&"string"==typeof e){var t=Nr.querySelector("body");try{t.setAttribute("data-pagename",e)}catch(e){P().w("setPageName failed: err=".concat(e))}}else P().w("setPageName failed: pagename=".concat(e))},getPageName:function(){return Ga(location.pathname)},getElementSPM:function(e){if(e&&e.dataset)return e.getAttribute("data-spm-anchor-id")},recordAppLink:function(e,t,n){if(!e.targetAppKey){P().w("send $$_app_link failed: targetAppKey is null");return!1}e.is_auto=1;return M(R()).record("$$_app_link",Q.OTHER,e,t,n)},reportUserInfo:function(e,t){var n={};e&&("string"==typeof e?n._user_email=e:P().w(Or.USER_EMAIL_ERROR));t&&("string"==typeof t?n._user_mobile=t:P().w(Or.USER_MOBILE_ERROR));Object.keys(n).length&&this.record("$$_user_profile",Q.OTHER,n)},requestShareParams:function(e,t){var n=e.url||location.href,a=function(){var e=M(R()),t=e.getMetaInfo(ee.TRACKDOMAIN)||e.getMetaInfo(ee.APLUS_PV_DOMAIN);if(bt.checkDomain(t))return"".concat(bt.fixDomain(t),"/share/getShareId")}(),o=function(e,t,n,a){var o=e.path,r=e.campaign,i=e.title,s=e.shareId;o||P().w(Or.SHARE_PATH_ERROR);if(r&&T.isString(r)&&r.length>=4096)P().e(Or.SHARE_CAMPAIGN_ERROR);else{if(!(i&&T.isString(i)&&i.length>=4096)){var c=M(R()),u=c.getMetaInfo(ee.APPKEY),l="mini"===a?c.getMetaInfo(Q._ANONY_ID):c.getMetaInfo(Q._DEV_ID),f=c.getMetaInfo(Q._USER_ID),p={meta:{campaignId:r||""},shareId:s,shareTitle:i,url:n,ts:Date.now(),umid:l,puid:f,sharePlatform:t,appkey:u};P().i("before requestShareParams: \n ".concat(JSON.stringify(p)," \n"));return p}P().e(Or.SHARE_TITLE_ERROR)}}(e,Xo(),n,rr)||{};if(!a){m(t)&&t(new Error(Or.TRACK_DOMAIN_ERROR));P().e(new Error(Or.TRACK_DOMAIN_ERROR));return Promise.reject(new Error(Or.TRACK_DOMAIN_ERROR))}if(!m(t))return function(e,t){return new Promise((function(n,a){kr(e,t,n,a,{timeout:ee.DEFAULT_REQUEST_TIMEOUT,method:ae.POST,credentials:!!window.fetch&&"same-origin",header:window.fetch?null:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:-1}})})).then((function(e){return Rr(e,t)})).catch((function(e){P().e(new Error(e.msg))}))}(a,o);!function(e,t,n){kr(e,t,(function(e){Rr(e,t,n)}),(function(e){var t=new Error(e.msg);P().e(t);n&&n(t)}),{timeout:ee.DEFAULT_REQUEST_TIMEOUT,method:ae.POST,credentials:!!window.fetch&&"same-origin",contentType:"application/json",cors:!0,header:window.fetch?null:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:-1}})}(a,o,t)},getRefShareParams:function(){var e=M(R()).getMetaInfo(ee.GLOBAL_PROPERTY)||{};return{$$_ref_share_url:e[ee.REF_SHARE_URL]||"",$$_ref_share_id:e[ee.REF_SHARE_ID]||""}},disableSDK:function(){try{ft.set(ee.APLUS_SDK_DISABLE,!0);P().w("QuickTracking SDK disabled!!!")}catch(e){P().e("disable sdk failed, errormsg: ",e)}},enableSDK:function(){try{ft.remove(ee.APLUS_SDK_DISABLE);P().w("QuickTracking SDK enabled!!!")}catch(e){P().e("enable sdk failed, errormsg: ",e)}}}),jr={run:Ur},Br=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"run",value:function(){!function(e){var t=M(R());if(!t._aplus_api){t._aplus_api={status:"complete"};var n=jr.run.create({logConfig:e});for(var a in n)t[a]=n[a]}}(this.options.context.logConfig)}}])}(),Vr=_t(Object.freeze({__proto__:null,default:Br})),Fr="0123456789abcdef";function Gr(e){for(var t="",n=7;n>=0;n--)t+=Fr.charAt(e>>4*n&15);return t}function Hr(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function Kr(e,t){return e<<t|e>>>32-t}function Wr(e,t,n,a){return e<20?t&n|~t&a:e<40?t^n^a:e<60?t&n|t&a|n&a:t^n^a}function qr(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}var zr=function(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")};function Yr(e){for(var t=function(e){for(var t,n=1+(e.length+8>>6),a=new Array(16*n),o=0;o<16*n;o++)a[o]=0;for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<24-t%4*8;a[t>>2]|=128<<24-t%4*8;a[16*n-1]=8*e.length;return a}(e),n=new Array(80),a=1732584193,o=-271733879,r=-1732584194,i=271733878,s=-1009589776,c=0;c<t.length;c+=16){for(var u=a,l=o,f=r,p=i,d=s,g=0;g<80;g++){n[g]=g<16?t[c+g]:Kr(n[g-3]^n[g-8]^n[g-14]^n[g-16],1);var h=Hr(Hr(Kr(a,5),Wr(g,o,r,i)),Hr(Hr(s,n[g]),qr(g)));s=i;i=r;r=Kr(o,30);o=a;a=h}a=Hr(a,u);o=Hr(o,l);r=Hr(r,f);i=Hr(i,p);s=Hr(s,d)}return zr(Gr(a)+Gr(o)+Gr(r)+Gr(i)+Gr(s))}function $r(){var e;e||(e=function(){var e="Not supported";try{var t=document.createElement("canvas"),n=t.getContext("2d");t.style.display="inline";n.textBaseline="alphabetic";n.fillStyle="#f60";n.fillRect(125,1,62,20);n.fillStyle="#069";n.font="11pt no-real-font-123";n.fillText("Cwm fjordbank glyphs vext quiz, ",2,15);n.fillStyle="rgba(102, 204, 0, 0.7)";n.font="18pt Arial";n.fillText("Cwm fjordbank glyphs vext quiz, ",4,45);e=t.toDataURL()}catch(e){}return e}());var t=Yr(e);return zr(t)}var Qr=function(){return i((function e(t){o(this,e);this.options=t;this.ABFPC="_abfpc";this.CNA="cna";this.VERSION="2.0";this.gl="";this.canvas=""}),[{key:"writeCookie",value:function(e,t){try{var n=new Date;n.setTime(n.getTime()+31536e6);ut.setCookie(e,t,{SameSite:!0,expires:"expires=".concat(n.toString())})}catch(e){P().w(e)}}},{key:"trySyncFp",value:function(){var e=this.tryGetStoreValue(this.ABFPC);this.syncLS2Cookie(this.ABFPC,e)}},{key:"tryGetStoreValue",value:function(e){return{LSValue:ft.get(e),cookieValue:ut.getCookie(e)}}},{key:"getClientInfo",value:function(){var e={};try{e=qt?qt._aplus_client:{}}catch(e){}return e}},{key:"hasUsableSWF",value:function(){var e;try{e=void 0!==window.ActiveXObject?new ActiveXObject("ShockwaveFlash.ShockwaveFlash"):navigator.plugins["Shockwave Flash"]}catch(e){}return e?"true":"false"}},{key:"getCanvas",value:function(){try{this.canvas||(this.canvas=document.createElement("canvas"))}catch(e){}return this.canvas}},{key:"getWebGl",value:function(){try{var e=this.getCanvas();!this.gl&&e&&(this.gl=window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl")))}catch(e){}return this.gl}},{key:"initUint8ArrayHashCode2",value:function(){Uint8Array.prototype.hashCode2||(Uint8Array.prototype.hashCode2=function(){var e,t,n=0;if(0===this.length)return n;for(e=0,t=this.length;e<t;e++){n=(n<<5)-n+this[e];n|=0}return n})}},{key:"getWebGlPrinting",value:function(){var e=this.getWebGl();if(e)try{this.initUint8ArrayHashCode2();var t,n,a=e.getExtension("WEBGL_debug_renderer_info");if(a){t=e.getParameter(a.UNMASKED_VENDOR_WEBGL);n=e.getParameter(a.UNMASKED_RENDERER_WEBGL)}else{t="No debug Info";n="No debug Info"}return{myGl:e,ven:t,ren:n}}catch(e){}}},{key:"getResolution",value:function(){var e=1*screen.width,t=1*screen.height;return"".concat(screen.colorDepth,"_").concat(Math.round(e),"_").concat(Math.round(t),"_").concat(1,"_").concat(screen.width,"_").concat(screen.height,"_").concat(screen.colorDepth)}},{key:"generateWebGlPrint",value:function(){var e="",t=this.getWebGl();if(t){try{var n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n);var a=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);t.bufferData(t.ARRAY_BUFFER,a,t.STATIC_DRAW);n.itemSize=3;n.numItems=3;var o=t.createProgram(),r=t.createShader(t.VERTEX_SHADER);t.shaderSource(r,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}");t.compileShader(r);var i=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(i,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}");t.compileShader(i);t.attachShader(o,r);t.attachShader(o,i);t.linkProgram(o);t.useProgram(o);o.vertexPosAttrib=t.getAttribLocation(o,"attrVertex");o.offsetUniform=t.getUniformLocation(o,"uniformOffset");t.enableVertexAttribArray(o.vertexPosArray);t.vertexAttribPointer(o.vertexPosAttrib,n.itemSize,t.FLOAT,!1,0,0);t.uniform2f(o.offsetUniform,1,1);t.drawArrays(t.TRIANGLE_STRIP,0,n.numItems);e=t.canvas.toDataURL()}catch(e){}return e}}},{key:"audioFingerPrinting",value:function(){try{var e=new(window.AudioContext||window.webkitAudioContext),t=e.destination;return"".concat(e.sampleRate.toString(),"_").concat(t.maxChannelCount,"_").concat(t.numberOfInputs,"_").concat(t.numberOfOutputs,"_").concat(t.channelCount,"_").concat(t.channelCountMode,"_").concat(t.channelInterpretation)}catch(e){return"not supported"}}},{key:"getPluginsPrinting",value:function(){var e="";if(navigator&&navigator.plugins){for(var t=navigator.plugins.length,n=0;n<t;n++)e+="".concat(navigator.plugins[n].name,"_");e=e.replace(/[^a-zA-Z ]/g,"")}return e}},{key:"checkIsTouch",value:function(){try{return"ontouchend"in document.createElement("div")?"true":"false"}catch(e){}}},{key:"generateFp",value:function(){var e=this.getWebGlPrinting()||{},t=M(R()),n=ut.getData(),a=dt.getExparamsInfos(),o=t.getMetaInfo(Q._USER_ID)||t.getMetaInfo(Q._DEV_ID)||t.getMetaInfo(Q._ANONY_ID),r=a.uidaplus||(new Date).getTime(),i=$r(),s=h.assign(this.getClientInfo(),{WebGL:this.gl?"true":"false",webglPrint:this.generateWebGlPrint(),adBlock:"No",audio:this.audioFingerPrinting(),cookieEnabled:navigator?!!navigator.cookieEnabled:"false",cpu_cores:navigator&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:-1,fontlist:this.hasUsableSWF(),gpu:e.ren,hash:e.hash,inc:e.inc,isSupportLS:ft.test()?"true":"false",plugins:this.getPluginsPrinting(),resolution:this.getResolution(),timezone:-(new Date).getTimezoneOffset()/60,isTouch:this.checkIsTouch(),lang:navigator?navigator.language:"",tracknick:n.tracknick||a.pu_i||o||r}),c=[i];for(var u in s)s[u]&&c.push(s[u]);var l="".concat(Yr(c.join("_")),"_").concat(this.VERSION);ft.set(this.ABFPC,l);this.writeCookie(this.ABFPC,l);return l}},{key:"syncCNA",value:function(e,t,n){var a=M(R()),o=ct.loadScript,r=a.getMetaInfo(ee.APLUS_PV_DOMAIN)||a.getMetaInfo(ee.TRACKDOMAIN);(r=bt.fixDomain(r))&&o(t?"".concat(r,"/pbe.js?_abfpc=").concat(e,"&cna=").concat(t):"".concat(r,"/pbe.js?_abfpc=").concat(e),n)}},{key:"syncLS2Cookie",value:function(e,t){var n=t.LSValue,a=t.cookieValue;n&&n!==a&&this.writeCookie(e,n);a&&!n&&ft.set(e,a)}},{key:"updateGlobalData",value:function(e){var t=M(R());e&&e._abfpc&&(e._abfpc=e._abfpc.replace("_".concat(this.VERSION),""));t&&(t.deviceInfo=e)}},{key:"fetchCNA",value:function(e,t){var n=this;this.syncCNA(e,t,(function(){var t=window.goldlog,a=t?t.cna:"";if(a){n.updateGlobalData({_abfpc:e,cna:a});ft.set(n.CNA,a);n.writeCookie(n.CNA,a)}}))}},{key:"run",value:function(){var e=this,t=e.tryGetStoreValue(e.ABFPC),n=e.tryGetStoreValue(e.CNA),a=M(R());e.syncLS2Cookie(this.ABFPC,t);e.syncLS2Cookie(this.CNA,n);var o=t.LSValue||t.cookieValue,r=n.LSValue||n.cookieValue;o||(o=e.generateFp());if((o=o.replace("_".concat(e.VERSION),""))&&a&&a.appendMetaInfo){var i={_abfpc:o};r&&(i.cna=r);e.updateGlobalData(i)}lt.on(window,"beforeunload",(function(){e.trySyncFp()}));r?V(Q.SDK_READY,(function(t){"complete"===t&&e.fetchCNA(o,r)})):setTimeout((function(){V(Q.SDK_READY,(function(t){"complete"===t&&e.fetchCNA(o)}))}),300)}}])}(),Xr=_t(Object.freeze({__proto__:null,default:Qr}));function Jr(e,t){try{!function(){if(e&&f.isArray(e)&&e.length){for(var n=si(e).queue,a={},o=[];a=n.shift();)ii(a,t,(function(e){o.push(e)}));o.length>0&&setTimeout((function(){for(;a=o.shift();)ii(a,t)}),100)}}()}catch(e){P().w(e)}}function Zr(){return(x("_$")||{}).meta_info}var ei=[],ti=[],ni=[];function ai(e){var t=function(){var e=Zr()||{};return"1"!=="".concat(e.uaid)||e._anony_id?e._hold||e["aplus-waiting"]:"BLOCK"}(),n=Zr()||{},a=!0,o=e.arguments||[],r=o[0],i=o[1],s="START";if("_hold"===r&&i===s)return s;if("_anony_id"===r&&i)return s;if(e&&/sendPV|record|setPageSPM|setMetaInfo|appendMetaInfo$/.test(e.action)&&"BLOCK"===t&&!n[t]){ni.push(e);a=!1}return a}function oi(e){Jr(ei,e);Jr(ti,e);Jr(ni,e)}function ri(e,t){t&&X.indexOf(e)>-1&&(e="_".concat(e));return e}function ii(e,t,n){var a=!!t.isOpenApi,o=e?e.action:"",r=e?e.arguments:"",i=ai(e);if(i){var s=k().ctx;try{if(o&&r&&f.isArray(r)){var c,u=o.split("."),l=s,p=s;if(3===u.length)p=(l=s[u[0]][u[1]]||{})[c=ri(u[2],a)]?l[c]:"";else for(;u.length;){p=l=l[c=ri(u.shift(),a)];if(!l){m(n)&&n(e);return}}m(p)&&p.apply(l,r);"START"===i&&oi(t)}}catch(e){P().w(e)}}}function si(e,t){for(var n,a={subscribeMwChangeQueue:[],subscribeMetaQueue:[],subscribeQueue:[],metaQueue:[],othersQueue:[]},o={};o=e.shift();)try{var r=o.action,i=o.arguments[0];/subscribe/.test(r)?"setMetaInfo"===i?a.subscribeMetaQueue.push(o):i===Q.MW_CHANGE_PV||i===Q.MW_CHANGE_HJLJ?a.subscribeMwChangeQueue.push(o):a.subscribeQueue.push(o):/MetaInfo/.test(r)?a.metaQueue.push(o):a.othersQueue.push(o)}catch(e){P().w(e);a.othersQueue.push(o)}if(t&&a[t]){n=a[t];a[t]=[]}return{queue:a.subscribeMwChangeQueue.concat(a.metaQueue).concat(a.subscribeQueue).concat(a.subscribeMetaQueue,a.othersQueue),formatQueue:n}}var ci=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"run",value:function(){var e=this.options.context.sdk_config.queueName,t=k(),n=si(t[e]||[],"metaQueue");t[e]=n.queue;Jr(n.formatQueue,this.options.config)}}])}(),ui=_t(Object.freeze({__proto__:null,default:ci})),li=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"subscribeLogs",value:function(e,t){M(R())["".concat(R(),"_pubsub")].subscribe(e,(function(e){"complete"===e.status&&t(e)}))}},{key:"isJsBridgeReady",value:function(){return window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.Umeng4Aplus&&window.webkit.messageHandlers.Umeng4Aplus||window.Umeng4Aplus}},{key:"callUT",value:function(e,t){if("sendPV"===e||"sendEvent"===e){t._bridgeName=this.options.bridgeName||"AtmBridge";t._bridgeVersion=this.options.bridgeVersion||"1.1.0"}else if("getNativePageTransp"===e||"updateNextPageProperties"===e){t._bridgeName=this.options.bridgeName||"AtmBridge";t._bridgeVersion=this.options.bridgeVersion||"2.0.0"}try{window.AtmBridge.trace(e,t,(function(e){P().i("SUCCESS:",e)}),(function(e){P().w("FAILURE:",e)}))}catch(e){P().w(e)}}},{key:"globalPropertyConvert",value:function(e){var t={};if(!h.isEmptyObject(e))for(var n in e)"boolean"==typeof e[n]?t[n]=e[n]?1:0:"string"!=typeof e[n]&&"number"!=typeof e[n]||(t[n]=e[n]);return t}},{key:"watchGlobalProperty",value:function(){var e=M(N()),t=M(R()),n=this;e.push({action:Q.SUBSCRIBE,arguments:[Q.SDK_READY,function(e){if("complete"===e&&t&&t.getMetaInfo&&t.getMetaInfo&&ee.APLUS_GLOBALPROPERTY_SYNC_ENABLE){V(Q.SET_META_INFO,(function(e,t){e===ee.GLOBAL_PROPERTY&&n.callUT("registerGlobalProperties",n.globalPropertyConvert(t))}));V(Q.APPEND_META_INFO,(function(e,t){e===ee.GLOBAL_PROPERTY&&n.callUT("registerGlobalProperties",n.globalPropertyConvert(t))}))}}]})}},{key:"watchGetPageTransp",value:function(){window.AtmBridge.getNativeTransp()}},{key:"watchLOG",value:function(){var e=this;e.subscribeLogs("mw_change_pv",(function(t){var n=(t.what_to_send||{}).pvdataToUmNative||{};e.callUT("sendPV",n)}));e.subscribeLogs("mw_change_hjlj",(function(t){var n=(t.what_to_send||{}).hjljdataToUmNative||{};e.callUT("sendEvent",n)}))}},{key:"run",value:function(){if(!window.AtmBridge){var e=function(e){var t=e.Promise,n=e.document,o=e.navigator.userAgent,r="MacIntel"===e.navigator.platform&&e.navigator.maxTouchPoints>1||!!o.match(/(iPad).*OS\s([\d_]+)/),i=/iPhone|iPod/i.test(o)||r,s=Math.floor(65536*Math.random()),c=1,u=[],l="iframe_",f="param_",p={trace:function(e,t,n,a,o){return p.call(e,t,n,a,o)},call:function(e,n,a,o,r){var i;"number"==typeof arguments[arguments.length-1]&&(r=arguments[arguments.length-1]);"function"!=typeof a&&(a=null);!t||a||o||(i=new t((function(e,t){a=e;o=t})));var s=d.getSid(),c={success:a,failure:o};r>0&&(c.timeout=setTimeout((function(){p.onFailure(s,{ret:"HY_TIMEOUT"})}),r));d.registerCall(s,c);d.registerGC(s,r);d.evokeNative(e,n,s,c);return i},fireEvent:function(e,t){var a=n.createElement("HTMLEvents");a.initEvent(e,!1,!0);a.param=d.parseData(t);n.dispatchEvent(a)},getParam:function(e){return d.getParam(e)},find:function(e,t){t||d.unregisterCall(e,!1)},onSuccess:function(e,t,n){d.onComplete(e,t,"success",n)},onFailure:function(e,t){d.onComplete(e,t,"failure")},initNativeCallback:function(){ct.setWinVariableKeyValue(ee.APLUS_CALLBACK,(function(e,t){P().i("after native callback result: ",t);if(t&&t.result.transp)try{var n,a=M(R());if("string"==typeof t.result.transp){P().i("before convert transp string: ".concat(t.result.transp));n=bt.convertNativeMapStringToJSON(t.result.transp)}else n=t.result.transp;P().i("convert native transp success, transp = ",n);a&&a.setMetaInfo&&a.setMetaInfo(ee.APLUS_NEXT_PAGE_TRANSP,n);localStorage.setItem(ee.APLUS_LOCALSTORE_PAGE_TRANSP,JSON.stringify(n));P().i("after save localstorage, transp = ",localStorage.getItem(ee.APLUS_LOCALSTORE_PAGE_TRANSP));j([Q.NATIVE_TRANSP_READY,"complete",JSON.stringify(n)])}catch(e){P().w("convert native transp failed, errmsg == ",e)}}))},subScribeNativeInvoke:function(e){d.evokeNative("getNativePageTransp",{},e.sid)},getNativeTransp:function(){var e={sid:d.getSid()};p.subScribeNativeInvoke(e)},updateNextPageProperties:function(e){d.evokeNative("updateNextPageProperties",e,d.getSid())}},d={params:{},calls:{},getSid:function(){return"".concat((s+c++)%65536)},buildParam:function(e){return e&&"object"===a(e)?JSON.stringify(e):e||""},getParam:function(e){return this.params[f+e]||""},setParam:function(e,t){this.params[f+e]=t},parseData:function(e){var t;if(e&&"string"==typeof e)try{t=JSON.parse(e)}catch(n){t={ret:"HY_RESULT_PARSE_ERROR",originValue:e}}else t=e||{};return t},registerCall:function(e,t){this.calls[e]=t},unregisterCall:function(e,t){var n=this.calls[e]||{},a=n.timeout;a&&clearTimeout(a);t||delete this.calls[e];return n},useIframe:function(e,t){var a=l+e,o=u.pop();if(!o){(o=n.createElement("iframe")).setAttribute("frameborder","0");o.style.cssText="width:0;height:0;border:0;display:none;"}o.setAttribute("id",a);o.setAttribute("src",t);o.parentNode||setTimeout((function(){n.body.appendChild(o)}),5)},retrieveIframe:function(e){var t=l+e,a=n.querySelector("#".concat(t));if(a)if(u.length>=3)try{n.body.removeChild(a)}catch(e){}else u.indexOf(a)<0&&u.push(a)},evokeNative:function(e,t,n){var a={className:ee.JSBRIDGE_AGENT,methodName:e,sid:n,callback:"getNativePageTransp"===e?ee.APLUS_CALLBACK:"",params:t},o=JSON.stringify(a);if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.Umeng4Aplus&&window.webkit.messageHandlers.Umeng4Aplus.postMessage){P().i("jsbridge native logs: ".concat(o));window.webkit.messageHandlers.Umeng4Aplus.postMessage(o)}if(window.Umeng4AplusFlutter){P().i("jsbridge flutter logs: ".concat(o));window.Umeng4AplusFlutter.postMessage(o)}if(window.Umeng4Aplus)if(window.Umeng4Aplus.CALL){P().i("jsbridge native logs: ".concat(o));window.Umeng4Aplus.CALL(o)}else if(window.Umeng4Aplus.call){P().i("jsbridge native hamonyos logs: ".concat(o));window.Umeng4Aplus.call(o)}},registerGC:function(e,t){var n=this,a=Math.max(t||0,6e5),o=Math.max(t||0,6e4);setTimeout((function(){n.unregisterCall(e)}),a);i&&setTimeout((function(){n.params[f+e]&&delete n.params[f+e]}),o)},onComplete:function(e,t,n,a){var o=this.unregisterCall(e,a),r=o.success,s=o.failure,c=(t=this.parseData(t)).ret;"string"==typeof c&&((t=t.value||t).ret||(t.ret=[c]));"success"===n?r&&r(t):"failure"===n&&s&&s(t);if(i){this.retrieveIframe(e);this.params[f+e]&&delete this.params[f+e]}}};p.initNativeCallback();return p}(window);window.AtmBridge=e}if(window.AtmBridge){this.watchLOG();this.watchGlobalProperty();this.watchGetPageTransp()}}}])}(),fi=_t(Object.freeze({__proto__:null,default:li})),pi=O.extend({push:function(e){this.length++;ii(e,this.opts)}}),di=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"processAplusQueue",value:function(e){var t,n,a=this.options.config||{},o=M(e);Jr(o,a);t=e,n=pi.create({opts:a,startLength:o.length,length:0}),k().ctx[t]=n}},{key:"run",value:function(){var e,t,n=this.options.context.sdk_config.queueName;this.processAplusQueue(n);e=n,t=this.options.config,M(e).push({action:Q.SUBSCRIBE,arguments:[Q.SET_META_INFO,function(e,n){e===ee.DEBUG?P().setDebug(!!n):e===Q._USER_ID&&n?Jr(ei,t):e===Q._ANONY_ID&&n?Jr(ti,t):"_hold"===e&&"START"===n&&oi(t)}]})}}])}(),gi=_t(Object.freeze({__proto__:null,default:di})),hi=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"run",value:function(){var e=parent!==self,t=this.options.config||{};!e&&t.urlRules&&f.each(t.urlRules,(function(e){var t,n=new RegExp(e.rule);try{t=e.id?window.sessionStorage.getItem(e.id):""}catch(e){}if(n.test(location.href)||t){try{window.sessionStorage.setItem(e.id,!0)}catch(e){}f.isArray(e.cdnPath)?f.each(e.cdnPath,(function(t){/\.css$/.test(t)?ct.addStyle(e.id,t):/\.js/.test(t)&&ct.addScript(t)})):ct.addScript(e.cdnPath)}}))}}])}(),_i=_t(Object.freeze({__proto__:null,default:hi}));function mi(){M(N()).push({action:"".concat(R(),".sendPV"),arguments:[{is_auto:!0,track_type:"1"},{}]})}function vi(){var e=M(R()),t=e&&e.getMetaInfo(ee.PAGE_CONFIG);if(t)if(t.hashMode){var n=gt.retrenchHash(location.hash);t[n]&&t[n].skipMe||mi()}else{var a=location.pathname;t[a]&&t[a].skipMe||mi()}else mi()}function yi(){!function(){var e=M(R());e._aplus_apv?e._aplus_apv={status:"complete"}:vi()}();gt.watchHistoryChange(vi);gt.watchHashChange(vi)}function bi(e){var t=e||"";if(e)try{t=encodeURIComponent(e)}catch(e){}return t}function Ai(e,t,n){var a=M(R()),o=function(e,t){var n="aplus_webvt_messager=".concat(t);return e.replace("?".concat(n),"").replace("&".concat(n),"")}(e.url,e.aplus_webvt_messager),r=e.pageConfig||{},i=r.pages||[];if(0===i.length)n();else if(r.template||r.stdId)t({rs:i[0],matchRule:"template"});else{var s=!1;u(i,(function(e){var n=e.regRule&&new RegExp(e.regRule);if(e.matchUrl===o||n&&o.match(n)){s=!0;t({rs:e,matchRule:"equalUrl"});return"break"}}));s||u(i,(function(e){var n=e.matchUrl?e.matchUrl.split("|").filter((function(e){return""!==e})):[];if(o&&n.some((function(e){return o.indexOf(e)>-1}))){s=!0;t({rs:e,matchRule:"multiUrl"});return"break"}}));s||u(i,(function(e){if(e.spmCombineRule){var n=new RegExp("^".concat(e.spmCombineRule.replace(/\*\*\*/g,"\\w+"),"$"),"i");(a.debugMode||a.aplusDebug)&&window.console.log(n);if(n.test(o)){s=!0;t({rs:e,matchRule:"spmCombineRule"});return"break"}}}));var c=["","#/"];!s&&c.indexOf(o)>-1&&u(i,(function(e){if(c.indexOf(e.matchUrl)>-1){s=!0;t({rs:e,matchRule:"defaultHashs"});return"break"}}));s||n()}}var Si="",Ei={};function Ti(e){var t=M(R()),n=t&&t.getMetaInfo?t.getMetaInfo("aplus-custom-params"):"";n&&n!==Si&&u((Si=n).split("&"),(function(e){var t=e.split("=");2===t.length&&(Ei[t[0]]=bi(t[1]))}));var a={};u(e||[],(function(e){var t=e.commitKey||e,n=e.goldlogName||e;a[t]=Ei[n]||""}));return a}function wi(e,t){var n=M(R());M(N()).push({action:Q.SUBSCRIBE,arguments:[Q.SDK_READY,function(a){if("complete"===a){var o=e.extraParams||{};o=p(o,ut.getAttrArgsFromCookie(e.cookieKeys));e.goldlogQueueKeys&&(o=p(o,Ti(e.goldlogQueueKeys)));o._vt=t.template||t.stdId?2:1;e.spmB&&(o.spmB=e.spmB);var r=e.spmA,i=e.spmB;(t.template||t.stdId)&&(i+=function(e){var t="",n=e.template;if(n){var a=n.split("=");if(a&&2===a.length)switch(a[0]){case"PARAMKEYS":var o=a[1].split(",");if(o.length>0){var r=[];u(o,(function(e){var t=e.toLowerCase().replace(/_|-/g,"");r.push(t+gt.getAParamFromUrl(e,location.href))}));t="_".concat(r.join("_"))}break;case"HASH":t="_".concat(location.hash);break;case"PATHNAME":t=location.pathname.replace(/\.|\//g,"_")}}return t}(t));r&&i&&_e.pushIntoGoldlogQueue("".concat(R(),".setPageSPM"),[r,i]);var s=n.getMetaInfo("aplus-waiting");n.getMetaInfo(ee.APLUS_DISABLE_AUTOPV)||"MAN"===s||_e.pushIntoGoldlogQueue("".concat(R(),".sendPV"),[{is_auto:!0,title:e.title||e.pageName,track_type:"2"},o])}}]})}var Pi,Oi=window,Ci="hash",Ii="history",ki={template:-1,equalUrl:-2,spmCombineRule:-3,multiUrl:-4,defaultHashs:-5},Ri=O.extend({pathname:"",pageConfig:{},seniorCfg:{},main_callback:function(){},toSendPV:function(e,t,n){var a=this,o=a.pageConfig||{},r=function(e){e.advanced&&a.seniorCfg.run(e.advanced,!0);wi(e,o);a.main_callback(e)};n?r(n):Ai({url:e,aplus_webvt_messager:a.aplus_webvt_messager,pageConfig:a.pageConfig},(function(e){r(e.rs)}),(function(){Oi.console&&Oi.console.warn('warning: the page of "'.concat(e,'" have not tracker config'))}))},watchHashChange:function(){var e=this;e.hash="".concat(location.hash);_e.pushIntoGoldlogQueue("".concat(R(),".on"),[Oi,"hashchange",function(){if(e.hash!==location.hash){e.hash="".concat(location.hash);e.toSendPV(location.hash,Ci)}}])},watchHistoryChange:function(){var e=this;e.pathname="".concat(location.pathname);_e.pushIntoGoldlogQueue("".concat(R(),".on"),[Oi,"popstate",function(){if(e.pathname!==location.pathname){e.pathname="".concat(location.pathname);e.toSendPV(e.pathname,Ii)}}])},clearWatchMObserver:function(){if(this._observer){this._observer.takeRecords();this._observer.disconnect()}},sendPVInInit:function(){var e,t,n,a,o;Ai({url:location.pathname,aplus_webvt_messager:this.aplus_webvt_messager,pageConfig:this.pageConfig},(function(t){e=t}),(function(){}));Ai({url:location.hash,aplus_webvt_messager:this.aplus_webvt_messager,pageConfig:this.pageConfig},(function(e){t=e}),(function(){}));if(e&&!t){a=e.rs;n=Ii;o=location.pathname}else if(!e&&t){a=t.rs;n=Ci;o=location.hash}else if(e&&t)if(ki[t.matchRule]>=ki[e.matchRule]){n=Ci;a=t.rs;o=location.hash}else{n=Ii;a=e.rs;o=location.pathname}a&&this.toSendPV(o,n,a)},reset:function(e,t){this.pageConfig=e;this.main_callback=t;this.sendPVInInit()},run:function(e){this.aplus_webvt_messager=pt.getAParamFromUrl("aplus_webvt_messager",location.href);this.main_callback=e;this.sendPVInInit();gt.watchHashChange(this.toSendPV.bind(this));gt.watchHistoryChange(this.toSendPV.bind(this))}}),Ni=O.extend({pageConfig:{},currentPagePoints:[],isSetAutoExpUserFn:!1,isSetAutoClkUserFn:!1,SET_METAINFO:"qt.setMetaInfo",APPEND_METAINFO:"qt.appendMetaInfo",AUTO_EXP_ACTION:"aplus-auto-exp",AUTO_CLK_ACTION:"aplus-auto-clk",getAttrArgsCfg:function(e){var t={};u(this.currentPagePoints,(function(n){n.selector===e&&(t=n)}));return t},getDefaultArgs:function(){var e=this.pageConfig||{};return{_vt:e.template||e.stdId?2:1}},getSpmDFromUserAttribute:function(e,t){var n;document.querySelectorAll&&u(document.querySelectorAll(e),(function(e,a){if(e===t){var o=a+1;n="A"===t.tagName?a:"d".concat(o)}}));return n},getSpmCFromUserAttribute:function(e,t){var n="0";try{var a=t.getAttribute("data-tracker");n=a||(n=e.replace(/'|"|;|:|=|\[|\]|\.|#|-|\/|\|/g,"")).replace(/\s+/g,"")}catch(e){}return n},getAttrArgs:function(e,t){var n=M(R()),a=this.getAttrArgsCfg(t),o={};window.g_SPM&&window.g_SPM.getParam&&(o=window.g_SPM.getParam(e));var r,i=!(!n||!n.getMetaInfo)&&"1"===n.getMetaInfo("aplus-udata-enable");if(a.spmB){o.b=a.spmB;i&&e.setAttribute("data-spm",o.b)}if(a.spmC){o.c=a.spmC;i&&e.setAttribute("data-spm",o.c)}if(!o.c||"0"===o.c){o.c=this.getSpmCFromUserAttribute(t,e)||"0";r=!0;i&&e.setAttribute("data-spm",o.c)}a.spmD?o.d=a.spmD:!a.spmD&&r&&(o.d=this.getSpmDFromUserAttribute(t,e));var s=[];for(var c in o)s.push(o[c]);var u=s.join("."),l=p(this.getDefaultArgs(),this.getAttrArgsFromDom(e,a));l=p(l,this.getAttrArgsFromStaticParams(a));l=p(l,Ti(a.goldlogQueueKeys));var f=(l=p(l,ut.getAttrArgsFromCookie(a.cookieKeys))).scm||"";delete l.scm;return{userdata:l,spm:u,scm:f}},getAttrArgsFromDom:function(e,t){var n={};t.attrArgs&&u(t.attrArgs,(function(t){if(t.recursive){var a=ct.getAttributeFromEachDom(e,t.attrName);a&&(n[t.commitKey]=bi(a))}else n[t.commitKey]=bi(st.tryToGet(e,t.attrName))}));return n},getAttrArgsFromStaticParams:function(e){var t={};if(e.customArgs)for(var n in e.customArgs)t[n]=bi(e.customArgs[n]);return t},clearAutoActionCfg:function(e){_e.pushIntoGoldlogQueue(this.SET_METAINFO,[e,null])},appendAutoActionCfg:function(e,t){_e.pushIntoGoldlogQueue(this.APPEND_METAINFO,[e,[{logkey:t.logkey,cssSelector:t.selector,eltype:t.eltype,source:"aplus_webvt",spmC:t.spmC,spmD:t.spmD,spmB:t.spmB,customArgs:t.customArgs}]])},setAutoActionUserFn:function(e,t){var n=this;if(!n[t]){n[t]=!0;_e.pushIntoGoldlogQueue(n.SET_METAINFO,[e,function(e,t){return n.getAttrArgs(e,t)}])}},execTrackerTypes:function(e,t){var n=this;t&&"string"==typeof t&&u(t.split("|"),(function(t){switch(t){case"jump":break;case"exposure":n.appendAutoActionCfg(n.AUTO_EXP_ACTION,e);break;case"click":n.appendAutoActionCfg(n.AUTO_CLK_ACTION,e)}}))},reset:function(e){this.pageConfig=e.pageConfig;this.currentPagePoints=[];this.setAutoActionUserFn("".concat(this.AUTO_EXP_ACTION,"-userfn"),"isSetAutoExpUserFn");this.setAutoActionUserFn("".concat(this.AUTO_CLK_ACTION,"-userfn"),"isSetAutoClkUserFn");var t=e.pageConfig.template,n=e.pageConfig.stdId,a=this;u(this.pageConfig.points,(function(o){if(t||n||o.spmB===e.spmB){a.currentPagePoints.push(o);a.execTrackerTypes(o,o.trackerType)}}))}}),Mi=function(){return i((function e(){o(this,e)}),[{key:"updatePageConfig",value:function(e){var t=this;if(e.isSPA)t.watchSPA&&t.watchSPA.reset(e,(function(n){try{t.logG.reset({spmA:n.spmA,spmB:n.spmB,pageConfig:e})}catch(e){P().w("err == ",e)}}));else{var n=e.pages[0];wi(n,e);t.logG.reset({spmA:n.spmA,spmB:n.spmB,pageConfig:e})}}},{key:"filterTriggerMoment",value:function(e,t){switch(e){case"On_Page_Load":_e.pushIntoGoldlogQueue("".concat(R(),".on"),["onload",t]);break;case"On_Dom_Ready":_e.pushIntoGoldlogQueue("".concat(R(),".on"),["DOMReady",t]);break;case"On_CustomEvent_Trigger":_e.pushIntoGoldlogQueue(Q.SUBSCRIBE,["setMetaInfo",function(e,n){"pageReady"===e&&"complete"===n&&t()}]);break;case"On_Aplus_Ready":case"Collect_Script_Load":t();break;default:P().i("current triggerMoment can't match any values, triggerMoment = ",e)}}},{key:"doInitWebVT",value:function(e){var t=this,n=M(R()),a=e.pages[0];window.document.body.dataset&&window.document.body.dataset.pagename&&window.document.body.dataset.pagename===a.spmB||n.setPageName(a.spmB);t.logG=Ni.create({pageConfig:e});if(e.isSPA){t.watchSPA=Ri.create({pageConfig:e,seniorCfg:t.seniorCfg});t.watchSPA.run((function(n){t.logG.reset({spmA:n.spmA,spmB:n.spmB,pageConfig:e})}))}else{wi(a,e);t.logG.reset({spmA:a.spmA,spmB:a.spmB,pageConfig:e})}}},{key:"initWebVT",value:function(e,t){var n=M(R()),a=this;this.filterTriggerMoment(e.triggerMoment,(function(){t();a.doInitWebVT(n._aplus_vt_cfg)}))}}])}(),xi={catchException:function(e,t){var n=e;"object"===a(t)&&t.message&&(n="".concat(n,"_").concat(t.message));_e.pushIntoGoldlogQueue("".concat(R(),"._aplus_cplugin_m.do_tracker_jserror"),[{message:n,error:JSON.stringify(t),filename:e}])}},Li=document,Di={lsWebvtConfigKey:"APLUS_WEBVT_CONFIG",getWebVtTplCdnPath:function(){var e=dt.getMetaCnt("aplus-track-config-id"),t=dt.getMetaCnt("aplus-track-config-id","turnon");return e&&"1"===t?e:""},getVtConfigPath:function(){var e=this.getWebVtTplCdnPath(),t=[],n=dt.getMetaCnt("spm-id");if(n)t=n.split(".");else{var a=dt.getMetaCnt("data-spm"),o=st.tryToGet(Li.body,"data-spm");if(a){t.push(a);o&&t.push(o)}}2===t.length?this.originSpm={spmA:t[0],spmB:t[1]}:1===t.length&&(this.originSpm.spmA=t[0]);return e||(2===t.length?t.join("_"):1===t.length?t[0]:void 0)},fetchFromLS:function(e){this.cdnpath||(this.cdnpath=e||this.getVtConfigPath());try{return decodeURIComponent(ft.get("".concat(this.lsWebvtConfigKey,"-").concat(e)))}catch(e){return{}}},setConfigIntoLs:function(e){this.cdnpath||(this.cdnpath=this.getVtConfigPath());ft.set("".concat(this.lsWebvtConfigKey,"-").concat(this.cdnpath),encodeURIComponent(JSON.stringify(e)))}},Ui="WebVtConfigBack",ji=Q.PUBLISH,Bi=parent!==window.self;function Vi(){var e=!1,t=M(R());if(t.aplusDebug||t.debugMode)return!0;Pi||(Pi=function(){Pi||(Pi=decodeURIComponent(pt.getAParamFromUrl("parentUrl",location.href)));return Pi}());if(Pi&&Bi&&/aplus_webvt_messager/.test(location.href)){var n=/log2-daily\.alibaba\.net/.test(Pi),a=/pre-log2\.alibaba-inc\.com/.test(Pi);e=n||a}return e}var Fi=O.extend(h.assign(Di,{pathname:"",pageConfig:{},originSpm:{spmA:"",spmB:""},updateCfgLs:function(e,t){var n=this;setTimeout((function(){n.fetchFromCdn(e,t)}),1e3)},fetchFromCdn:function(e,t,n){var o,r=this;if(n)o=e;else{var i=Vi()?"vtdaily":"vt";o=[t,i,"".concat(e,".json")].join("/")}var s=Date.now(),c=M(R());kr(o,null,(function(e){c._webcfg_load=Date.now()-s;if(e)try{c._aplus_vt_cfg="object"===a(e)?e:JSON.parse(e);c._aplus_vt_cfg.points&&f.each(c._aplus_vt_cfg.points,(function(e){e.selector=decodeURIComponent(e.selector)}));r.setConfigIntoLs(c._aplus_vt_cfg)}catch(e){c._aplus_vt_cfg={enabled:!1}}_e.pushIntoGoldlogQueue(ji,[Ui,{pageConfig:c._aplus_vt_cfg,enable:0}])}),(function(e){c._aplus_vt_cfg&&c._aplus_vt_cfg.enabled&&_e.pushIntoGoldlogQueue(ji,[Ui,{pageConfig:c._aplus_vt_cfg,enable:0}]);xi.catchException("getTrackerCfg",e,{msg:o})}),{timeout:ee.DEFAULT_REQUEST_TIMEOUT,credentials:!!window.fetch&&"same-origin",cors:!0})},getWebVtData:function(e,t,n,a){var o=M(R());o._webcfg_load=0;if(e){var r=this.fetchFromLS(e);if("string"==typeof r)try{r=JSON.parse(r)}catch(e){r={}}r&&r.enabled&&(o._aplus_vt_cfg=r);n?this.fetchFromCdn(e,t,a):_e.pushIntoGoldlogQueue(ji,[Ui,{pageConfig:r,enable:0}])}},syncWebVtData:function(){var e=M(R()),t=dt.getMetaCnt("aplus-vt-cfg-url")||e.getMetaInfo("aplus-vt-cfg-url");this.getWebVtData(t,"",!0,!0)},init:function(){var e=this,t=Q.SUBSCRIBE;_e.pushIntoGoldlogQueue(t,[Ui,function(t){t.enable||(e.pageConfig=t.pageConfig);_e.pushIntoGoldlogQueue(ji,["WebVtConfigFormat",{pageConfig:t.pageConfig}]);!t.enable&&e.setConfigIntoLs(e.pageConfig)}]);e.syncWebVtData()},run:function(){this.init();return this}})),Gi=function(){return i((function e(t){o(this,e);this.options=t;this.vtInited=0}),[{key:"isVTTraced",value:function(){var e=M(R());return e&&e.getMetaInfo?e.getMetaInfo(ee.APLUS_VT_CONFIG_URL):dt.getMetaCnt(ee.APLUS_VT_CONFIG_URL)}},{key:"getPageConfig",value:function(e,t){if(e&&e.pages)for(var n=0;n<e.pages.length;n++){var a=e.pages[n]||{};a.template&&(e.template=a.template);if(!a.spmA&&!a.spmB){a.spmA=t.spmA;a.spmB=t.spmB;e.pages[n]=a}}return e}},{key:"run",value:function(){var e=M(R());if(this.isVTTraced()){Fi.create().run();var t=this;_e.pushIntoGoldlogQueue(Q.SUBSCRIBE,["WebVtConfigFormat",function(n){e._aplus_vt_cfg=n.pageConfig;var a=t.getPageConfig(e._aplus_vt_cfg,n.originSpm);if(a&&a.enabled){e._aplus_vt_cfg=a;var o=new Mi;if(0===t.vtInited){o.initWebVT(a,(function(){t.vtInited=2}));t.vtInited=1}else 2===t.vtInited&&o.updatePageConfig(e._aplus_vt_cfg)}}])}yi()}}])}(),Hi=_t(Object.freeze({__proto__:null,default:Gi}));function Ki(e){var t=e;if("object"!==a(t))return null;if("string"!=typeof t.tagName)return null;var n=t.tagName.toLowerCase();if("body"===n.toLowerCase()||"html"===n.toLowerCase())return null;if(!t||!t.parentNode||!t.parentNode.children)return null;var o=t.parentNode,r=function(){var e=[],t=M(R()).getMetaInfo(ee.APLUS_AUTOTRACK_CONFIG);t&&t.collect_tags&&h.isObject(t.collect_tags)&&h.eachMap(t.collect_tags,(function(t,n){n&&e.push(t)}));return e}(),i=M(R()).getMetaInfo(ee.APLUS_AUTOTRACK_CONFIG_REMOTE)||[];if(ct.hasAttribute(e,"aplus-autotrack-off"))return null;if(!(i.length>0&&f.indexOf(i,n)>-1)){if("a"===n||"button"===n||"input"===n||"textarea"===n)return t;if("button"===o.tagName.toLowerCase()||"a"===o.tagName.toLowerCase())return o;if(f.indexOf(r,n)>-1)return t;var s=ct.getPrev(o);return"area"===n&&"map"===o.tagName.toLowerCase()&&s.tagName&&"img"===s.tagName.toLowerCase()?s:null}}function Wi(e){var t=function(e){var t={is_auto:1,auto_element:1};try{if(e&&e.hasAttributes)for(var n=e.attributes,a=0;a<n.length;a++){var o=n[a].name||"",r=n[a].value;o&&o.indexOf("data-")>-1&&(t[o.toLowerCase().replace(/^data-/,"")]=encodeURIComponent(r))}}catch(e){P().w(e&&e.message)}return t}(e);e&&(t=h.assign(t,{ap:{element_type:e.tagName.toLowerCase(),element_name:e.getAttribute&&e.getAttribute("name")||"",element_id:e.getAttribute&&e.getAttribute("id")||"",element_class_name:"string"==typeof e.className?e.className:"",element_content:ct.getElementContent(e,e.tagName)||"",element_selector:ct.getDomSelector(e)||"",element_path:ct.getElementPath(e)}}));return t}function qi(){function e(e){if(!e)return!1;var t=Ki(e.target);t&&function(e){var t=M(N()),n=null;if(e["clk-logkey"]){n=e["clk-logkey"];delete e["clk-logkey"]}var a=n||bt.hash(bt.getAppKey())+bt.hash(e.ap.element_selector,bt.getAppKey());t.push({action:"".concat(R(),".record"),arguments:[a,Q.CLK,e||{}]})}(Wi(t))}lt.addHandler(document,lt.clickEvent(),e);document.addEventListener("unload",(function(){lt.removeHandler(document,lt.clickEvent(),e)}),!1)}var zi=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"run",value:function(){!function(){var e=M(R());if(!e._autotracked_enable){qi();e._autotracked_enable=!0}}()}}])}(),Yi=_t(Object.freeze({__proto__:null,default:zi})),$i=window,Qi=document;function Xi(){if(!($i._ap_xwj_heat&&6<=$i._ap_xwj_heat.version)){var e;e="BackCompat"===Qi.compatMode?Qi.body:Qi.documentElement;var t,n,a=$i.performance||$i.mozPerformance||$i.msPerformance||$i.webkitPerformance||{_na:1},o=location,r=location.href,i=o.hostname,s=$i.navigator,c=s.appVersion,u=s?s.userAgent:"",l=x("ahot-aplus"),f=function(){var e=M(R());return x("aplus-heatmap-enabled")||e.getMetaInfo("aplus-heatmap-enabled")}(),d=function(){var e=M(R()),t=x("aplus-rate-ahot")||e.getMetaInfo("aplus-rate-ahot");return parseFloat(t||"")}(),g=x("microscope-data"),h=k(Qi.getElementById("beacon-aplus"),"exparams"),_={layout:0,shouldBindMonitor:!1},m={RESOURCE_TIMING:isNaN(d)?1:d},v=function(e,t){return e.indexOf(t)>-1},y=$i.addEventListener?function(e){$i.addEventListener("load",e,!1)}:function(){},b=$i.attachEvent?function(e){$i.attachEvent("onload",e)}:y,A=function(e){var t=0;return parseFloat(e.replace(/\./g,(function(){return 0==t++?".":""})))},S=function(e,t){var n,a;t[n="trident"]=.1;(a=e.match(/Trident\/([\d.]*)/))&&a[1]&&(t[n]=A(a[1]));t.core=n},E=function(e){var t,n;return(t=e.match(/MSIE ([^;]*)|Trident.*; rv(?:\s|:)?([0-9.]+)/))&&(n=t[1]||t[2])?A(n):0},T=function(e){return e||"other"},w=o.protocol,P=(new Date).getTime(),O=0,C=function(e){this.config=e};C.prototype={startup:function(){var e=this;"complete"===document.readyState?_.shouldBindMonitor&&e.bindMonitor():b((function(){_.shouldBindMonitor&&e.bindMonitor()}))},collectPerformanceTiming:function(){var e=a.timing,t={};if(!e)return t;var n,o,r,i,s,c={navigationStart:"ns",unloadEventStart:"ues",unloadEventEnd:"uee",redirectStart:"rds",redirectEnd:"rde",fetchStart:"fs",domainLookupStart:"dls",domainLookupEnd:"dle",connectStart:"cs",connectEnd:"ce",secureConnectionStart:"scs",requestStart:"rqs",responseStart:"rps",responseEnd:"rpe",domLoading:"dl",domInteractive:"di",domContentLoadedEventStart:"dcles",domContentLoadedEventEnd:"dclee",domComplete:"dc",loadEventStart:"les",loadEventEnd:"lee"},u=e.navigationStart;for(n in e){o=e[n];(r=c[n])&&(0===o||void 0===o?t[r]="na":"number"==typeof o&&(t[r]=o-u))}"number"==typeof e.msFirstPaint?i=e.msFirstPaint:$i.chrome&&$i.chrome.loadTimes(s=$i.chrome.loadTimes().firstPaintTime)&&(i=Math.ceil(1e3*s));"number"==typeof i?i-=u:i="na";t.fp=i;return t},collectResourceTiming:function(){if(!("performance"in $i&&"getEntriesByType"in a&&a.getEntriesByType("resource")instanceof Array))return[];var e=[],t=a.getEntriesByType("resource"),n=function(e){return void 0===e||0===e?0:Math.floor(e)};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var r=t[o];r.initiatorType&&e.push({rs:n(r.redirectStart),re:n(r.redirectEnd),fs:n(r.fetchStart),st:n(r.startTime),dls:n(r.domainLookupStart),dle:n(r.domainLookupEnd),cs:n(r.connectStart),ce:n(r.connectEnd),scs:n(r.secureConnectionStart),resqs:n(r.requestStart),resps:n(r.responseStart),respe:n(r.responseEnd),restype:r.initiatorType,n:r.name})}return e},sendPV:function(){var e=this;if(!this.initialized){var t,n,a,o,r,i,s,l,f,p,d,g,_;try{t=function(e){var t,n,a,o,r,i,s,u,l,f,p="",d="",g=[6,9],h="{{version}}",_="\x3c!--[if IE ".concat(h,"]><s></s><![endif]--\x3e"),m=Qi&&Qi.createElement("div"),v=[],y={webkit:void 0,trident:void 0,gecko:void 0,presto:void 0,chrome:void 0,safari:void 0,firefox:void 0,ie:void 0,ieMode:void 0,opera:void 0,mobile:void 0,core:void 0,shell:void 0,phantomjs:void 0,os:void 0,ipad:void 0,iphone:void 0,ipod:void 0,ios:void 0,android:void 0,nodejs:void 0,extraName:void 0,extraVersion:void 0};if(m&&m.getElementsByTagName){m.innerHTML=_.replace(h,"");v=m.getElementsByTagName("s")}if(v.length>0){S(e,y);for(o=g[0],r=g[1];o<=r;o++){m.innerHTML=_.replace(h,o);if(v.length>0){y[d="ie"]=o;break}}a=E(e);!y.ie&&a&&(y[d="ie"]=a)}else if((n=e.match(/AppleWebKit\/([\d.]*)/))&&n[1]){y[p="webkit"]=A(n[1]);(n=e.match(/OPR\/(\d+\.\d+)/))&&n[1]?y[d="opera"]=A(n[1]):(n=e.match(/Chrome\/([\d.]*)/))&&n[1]?y[d="chrome"]=A(n[1]):(n=e.match(/\/([\d.]*) Safari/))&&n[1]&&(y[d="safari"]=A(n[1]));if(/ Mobile\//.test(e)&&e.match(/iPad|iPod|iPhone/)){y.mobile="apple";(n=e.match(/OS ([^\s]*)/))&&n[1]&&(y.ios=A(n[1].replace("_",".")));t="ios";(n=e.match(/iPad|iPod|iPhone/))&&n[0]&&(y[n[0].toLowerCase()]=y.ios)}else if(/ Android/i.test(e)){if(/Mobile/.test(e)){t="android";y.mobile=t}(n=e.match(/Android ([^\s]*);/))&&n[1]&&(y.android=A(n[1]))}else(n=e.match(/NokiaN[^/]*|Android \d\.\d|webOS\/\d\.\d/))&&(y.mobile=n[0].toLowerCase());(n=e.match(/PhantomJS\/([^\s]*)/))&&n[1]&&(y.phantomjs=A(n[1]))}else if((n=e.match(/Presto\/([\d.]*)/))&&n[1]){y[p="presto"]=A(n[1]);if((n=e.match(/Opera\/([\d.]*)/))&&n[1]){y[d="opera"]=A(n[1]);(n=e.match(/Opera\/.* Version\/([\d.]*)/))&&n[1]&&(y[d]=A(n[1]));(n=e.match(/Opera Mini[^;]*/))&&n?y.mobile=n[0].toLowerCase():(n=e.match(/Opera Mobi[^;]*/))&&n&&(y.mobile=n[0])}}else if(a=E(e)){y[d="ie"]=a;S(e,y)}else if(n=e.match(/Gecko/)){y[p="gecko"]=.1;if((n=e.match(/rv:([\d.]*)/))&&n[1]){y[p]=A(n[1]);/Mobile|Tablet/.test(e)&&(y.mobile="firefox")}(n=e.match(/Firefox\/([\d.]*)/))&&n[1]&&(y[d="firefox"]=A(n[1]))}t||(t=function(){for(var t=[["Windows NT 5.1","winXP"],["Windows NT 6.1","win7"],["Windows NT 6.0","winVista"],["Windows NT 6.2","win8"],["iPad","ios"],["iPhone;","ios"],["iPod","ios"],["Macintosh","mac"],["Android","android"],["Ubuntu","ubuntu"],["Linux","linux"],["Windows NT 5.2","win2003"],["Windows NT 5.0","win2000"],["Windows 10(WOW64)","win10"],["Windows","winOther"],["rhino","rhino"]],n=0,a=t.length;n<a;++n)if(-1!==e.indexOf(t[n][0]))return t[n][1];return"other"}());if(!function(e,t,n,a){var o,r=$i.navigator.mimeTypes;try{for(o in r)if(Object.prototype.hasOwnProperty.call(r,o)&&r[o][e]===t){if(void 0!==n&&a.test(r[o][n]))return!0;if(void 0===n)return!0}return!1}catch(e){return!1}}("type","application/vnd.chromium.remoting-viewer")){l="scoped"in Qi.createElement("style");f="v8Locale"in $i;try{u=$i.external||void 0}catch(e){}if(n=e.match(/360SE/))i="360";else if((n=e.match(/SE\s([\d.]*)/))||u&&"SEVersion"in u){i="sougou";s=A(n[1])||.1}else if((n=e.match(/Maxthon(?:\/)+([\d.]*)/))&&u){i="maxthon";try{s=A(u.max_version||n[1])}catch(e){s=.1}}else l&&f?i="360se":l||f||!/Gecko\)\s+Chrome/.test(c)||y.opera||y.trident||(i="360ee")}if(n=e.match(/TencentTraveler\s([\d.]*)|QQBrowser\/([\d.]*)/)){i="tt";s=A(n[2])||.1}else if((n=e.match(/LBBROWSER/))||u&&"LiebaoGetVersion"in u)i="liebao";else if(n=e.match(/TheWorld/)){i="theworld";s=3}else if(n=e.match(/TaoBrowser\/([\d.]*)/)){i="taobao";s=A(n[1])||.1}y.os=t;y.core=y.core||p;y.shell=d;y.ieMode=y.ie&&Qi.documentMode||y.ie;y.extraName=i;y.extraVersion=s;y.resolution="".concat($i.screen.width,"x").concat($i.screen.height);return y}(u);n=t.os;a=t.shell;o=t.core;r=t.resolution;i=t.extraName;s=t.extraVersion;l=n?n+(t[n]?t[n]:""):"";f=a?a+parseInt(t[a],10):"";p=o;d=r;g=i?i+(s?parseInt(s,10):""):""}catch(e){}var m={p:1,o:T(l),b:T(f),w:T(p),s:d,mx:g};"https:"===w&&(m.isps=1);(_=function(){for(var e=h.split("&"),t={},n=0;n<e.length;n++){var a=e[n].split("=");t[a[0]]=a[1]}return t}().trid)&&(m.trid=_);setTimeout((function(){var t,n,a=e.collectPerformanceTiming();for(t in a)if(Object.prototype.hasOwnProperty.call(a,t)){n=a[t];m[t]||(m[t]=n)}e.initialized=!0;e.sendData(m,!0)}),0)}},bindMonitor:function(){var e=this,t=!!Qi.attachEvent;Qi[t?"attachEvent":"addEventListener"]("".concat(t?"on":"","mousedown"),(function(t){var n=(t=t||$i.event).target||t.srcElement;n&&e.mousedown(n,t)}),!1)},mousedown:function(t,n){var a,o=t.tagName,r={type:1};if(!o||"HTML"!==o){if("A"===o||"AREA"===o){a=t.getAttribute("href",2)||"";r.href=a}var i=function(t,n,a){var o,r=Math.max(e.scrollWidth,e.clientWidth),i=e.scrollTop,s=e.scrollLeft,c=n.pageX,u=n.pageY;if(!(o=c,"number"==typeof o)){c=n.clientX+s;u=n.clientY+i}var l,f,p=-1;if(t&&t.getBoundingClientRect){p=(f=t.getBoundingClientRect()).left+s;l=f.top+i}if(0===a||"0"===a){var d=r>>1;c-=d;p-=d}else if(2===a){c-=r;p-=r}return{x:c,y:u,ex:p,ey:l,sw:r}}(t,n,this.config.layout);r.xpath=function(e){var t,n,a,o,r,i,s=Qi.getElementsByTagName("*");for(t=[];e&&1===e.nodeType;e=e.parentNode)if(e.id){i=e.id;o=0;for(n=0;n<s.length;n++)if((r=s[n]).id&&r.id===i){o++;break}e.tagName.toLowerCase&&t.unshift("".concat(e.tagName.toLowerCase(),"[@id='").concat(i,"']"));if(1===o){t.unshift("/");return t.join("/")}}else{for(n=1,a=e.previousSibling;a;a=a.previousSibling)a.tagName===e.tagName&&n++;e.tagName.toLowerCase&&t.unshift("".concat(e.tagName.toLowerCase(),"[").concat(n,"]"))}return t.length?"/".concat(t.join("/")):null}(t);r.x=i.x;r.y=i.y;r.ex=i.ex;r.ey=i.ey;r.sw=i.sw;r.ew=t.offsetWidth;r.eh=t.offsetHeight;r.t=(new Date).getTime()-P;r.n=++O;l&&g&&(r.so=encodeURIComponent(g));this.sendData(r)}},sendData:function(e,t){var n=Math.ceil(1e3*Math.random()),a=M(N());t?a.push({action:"".concat(R(),".sendPV"),arguments:[{is_auto:!0},e]}):n<1e3*m.RESOURCE_TIMING&&f&&a.push({action:"".concat(R(),".record"),arguments:["$$_hotpoint",Q.CLK,p({is_auto:1},e),ae.POST]})}};(function(){if(l)return!0;var e,t=["item.taobao.com","detail.tmall.com","s.taobao.com"],n=t.length;for(e=0;e<n;e++)if(v(i,t[e]))return!1;return!v(r,"/go/act/")&&!v(h,"atp_isdpp")})()&&(_.shouldBindMonitor=!0);var I=a.setResourceTimingBufferSize||a.webkitSetResourceTimingBufferSize;I&&I.call(a,200);$i._ap_xwj_heat={version:6};new C(_).startup()}function k(e,t){return e&&e.getAttribute&&e.getAttribute(t)||""}function x(e){var a,o,r,i=function(){t=t||Qi.getElementsByTagName("head")[0];return n||(t?n=t.getElementsByTagName("meta"):[])}(),s=i.length;for(a=0;a<s;a++)if(k(o=i[a],"name")===e){r=k(o,"content");break}return r}}var Ji,Zi,es=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"run",value:function(){var e=M(R());if(e._aplus_plugin_xwj);else{e._aplus_plugin_xwj={status:"init"};!function(){try{Xi()}catch(e){M(N()).push({action:"".concat(R(),"._aplus_cplugin_m.do_tracker_jserror"),arguments:[{message:"headmapall",error:encodeURIComponent(e.stack),filename:"aplus_xwj_plugin"}]})}}()}}}])}(),ts=_t(Object.freeze({__proto__:null,default:es})),ns=function(){return i((function e(t){o(this,e);this.options=t}),[{key:"run",value:function(){lt.on(window,"unload",(function(){try{M(N()).push({action:"".concat(R(),".record"),arguments:[ee.PAGE_LEAVE,"OTHER",{}]});"hidden"===document.visibilityState&&window.sessionStorage.removeItem(ee.START_ID)}catch(e){P().w("send browser close evnet failed")}}))}}])}(),as=_t(Object.freeze({__proto__:null,default:ns})),os="hidden",rs="visible",is="scroll",ss="visibilitychange",cs="blur",us="unload",ls=function(){return i((function e(t){o(this,e);this.options=t;this.scrollStartTs=Date.now();this.lastTabVisibleState=rs}),[{key:"triggerStayEvent",value:function(e){var t=e.triggerTiming,n=M(R()),a=Date.now(),o=a-this.scrollStartTs;n.record(ee.PAGE_STAY,"OTHER",{duration:o,triggerTiming:t});this.scrollStartTs=a}},{key:"handleScroll",value:function(){var e=this;Date.now()-this.scrollStartTs>=ee.PAGE_SCROLL_DURATION&&window.requestAnimationFrame((function(){e.triggerStayEvent({triggerTiming:is})}))}},{key:"handleTabBlur",value:function(){this.triggerStayEvent({triggerTiming:cs})}},{key:"handleTabVisibilityChange",value:function(){this.lastTabVisibleState===rs&&document.visibilityState===os&&this.handleTabBlur();this.lastTabVisibleState=document.visibilityState}},{key:"addEventListeners",value:function(){lt.on(window,is,this.handleScroll.bind(this));os in document?lt.on(document,ss,this.handleTabVisibilityChange.bind(this)):lt.on(window,cs,this.handleTabBlur.bind(this))}},{key:"removeEventListeners",value:function(){lt.un(window,is,this.handleScroll.bind(this));os in document?lt.un(document,ss,this.handleTabVisibilityChange.bind(this)):lt.un(window,cs,this.handleTabBlur.bind(this))}},{key:"run",value:function(){var e=this,t=M(N()),n=M(R());t.push({action:Q.SUBSCRIBE,arguments:[Q.SDK_READY,function(t){if("complete"===t&&n&&n.getMetaInfo&&n.getMetaInfo(ee.APLUS_PAGEVIEW_DURATION_CAN_TRACK)){e.addEventListeners();lt.on(window,us,(function(){e.triggerStayEvent({triggerTiming:us});e.removeEventListeners()}))}}]})}}])}(),fs=_t(Object.freeze({__proto__:null,default:ls})),ps={apiName:"aplus",queueName:"aplus_queue",metaInfo:{sdk_version:mt,sdkId:"qt_web_".concat(mt),"aplus-cpvdata":{},"aplus-exdata":{},"aplus-globaldata":{},"aplus-mmstat-timeout":"10000","aplus-disable-autoevent":!1,"aplus-exposure-event-can-repeat":!0},globalConfig:{ETAG_STORAGE_KEY:"__ETAG__CNA__ID__",script_name:"qt_web.js",lver:mt},plugins:[{name:"aplus_session_manager",path:Rt},{name:"aplus_track_debug",path:Mt},{name:"aplus_body_ready",path:Lt},{name:"aplus_client",path:Ut},{name:"aplus_meta_inject",path:zt},{name:"aplus_ac",path:qn},{name:"aplus_ae",path:ja},{name:"aplus_web_http_um",path:mo},{name:"pubsub",path:Eo},{name:"aplus_log_inject",path:wo,deps:["aplus_meta_inject"],config:{plugins:{pv:[{name:"remote_config",path:Wo},{name:"when_to_sendpv",path:zo,config:{aplusWaiting:""}},{name:"where_to_send",path:$o},{name:"what_to_send",path:Zo,config:{pvdataToUt:{}}},{name:"what_to_sendpv_userdata",path:tr,deps:["what_to_send"]},{name:"what_to_sendpv_userdata_web",path:tr,deps:["what_to_send","what_to_sendpv_userdata"]},{name:"what_to_sendpv_um2native",path:ar,deps:["what_to_send"]},{name:"can_to_sendpv",path:pr,config:{flag:"NO"}},{name:"after_pv",path:gr}],hjlj:[{name:"remote_config",path:Wo},{name:"where_to_send",path:$o,deps:[]},{name:"what_to_send",path:Zo,deps:[]},{name:"what_to_hjlj_userdata",path:_r,deps:["what_to_send"]},{name:"what_to_hjlj_um2native",path:vr,deps:["what_to_send"]}]}}},{name:"aplus_spm_inject",path:wr},{name:"aplus_api",path:Vr},{name:"aplus_fingerpint",path:Xr},{name:"meta_queue",path:ui},{name:"aplusUmBridge",path:fi},{name:"sdk_queue",path:gi},{name:"hot_loader",path:_i,config:{urlRules:[{rule:"aplus_webvt_messager",cdnPath:"https://o.alicdn.com/QTSDK/quicktracking-sdk/qt_webvt_messager.umd.js"}]}},{name:"aplus_apv",path:Hi,deps:["aplus_log_inject","aplus_api"]},{name:"aplus_autotrack",path:Yi},{name:"aplus_heatmap",path:ts,deps:["aplus_log_inject","aplus_api"]},{name:"aplus_pageleave",path:as,deps:["aplus_log_inject","aplus_api"]},{name:"qt_page_stay",path:fs,deps:["aplus_log_inject","aplus_api"]}]};Ji="QuickTracking SDK INIT SUCCESS!",ht(Zi||ps,(function(){P().v(Ji||"QT SDK INIT SUCCESS!")}))},"function"==typeof define&&define.amd?define(e):e();var e;
