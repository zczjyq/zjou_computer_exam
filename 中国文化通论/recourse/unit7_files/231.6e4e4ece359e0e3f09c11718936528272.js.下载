(window.webpackJsonp=window.webpackJsonp||[]).push([[231],{1807:function(t,e,s){"use strict";var o=s(508);s.n(o).a},1808:function(t,e,s){(t.exports=s(1)(!1)).push([t.i,".ucenter-homework .ucenter-homework-item {\n  padding: 0 20px 20px;\n}\n.ucenter-homework .ucenter-homework-item .el-button {\n  width: 74px;\n  height: 28px;\n  line-height: 28px;\n  padding: 0;\n}\n.ucenter-homework .ucenter-homework-item .el-button:hover {\n  border-color: #005c94;\n}\n.ucenter-homework .ucenter-homework-item .el-button:hover span {\n  color: #005c94;\n  background-color: transparent;\n}\n",""])},3117:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ucenter-homework"},[s("base-mainheader",{staticClass:"teacher-main-header",attrs:{title:"作业管理"}}),t._v(" "),s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.homeworkLoading,expression:"homeworkLoading"}],staticClass:"ucenter-homework-item"},[s("base-selectsearch",[s("template",{slot:"left"},[s("el-select",{attrs:{placeholder:"请选择状态"},on:{change:function(e){return t.dropdown_homework_status_change(t.dropdown_homework_status.text)}},model:{value:t.dropdown_homework_status.text,callback:function(e){t.$set(t.dropdown_homework_status,"text",e)},expression:"dropdown_homework_status.text"}},t._l(t.dropdown_homework_status.data,(function(t,e){return s("el-option",{key:e,attrs:{label:t,value:e}})})),1)],1),t._v(" "),s("template",{slot:"right"},[s("el-input",{staticClass:"cel-input-search",attrs:{placeholder:"请输入关键字",size:"mini"},model:{value:t.params.keyword,callback:function(e){t.$set(t.params,"keyword",e)},expression:"params.keyword"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.search},slot:"append"})],1)],1)],2),t._v(" "),s("el-table",{staticClass:"conmmon-student",staticStyle:{width:"100%"},attrs:{data:t.homeworkList}},[s("el-table-column",{attrs:{prop:"paperName",label:"作业名称","min-width":"25%"}}),t._v(" "),s("el-table-column",{attrs:{prop:"publishTime",label:"发布时间","min-width":"25%"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(t.Utils.formatString2Date(e.row.publishTime,"yyyy-MM-dd hh:mm:ss"))+"\n                ")]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"endTime",label:"截止时间",sortable:"","min-width":"25%"},scopedSlots:t._u([{key:"default",fn:function(e){return[4===e.row.processStatus?s("span",{staticStyle:{color:"red"}},[t._v(t._s(t.Utils.formatString2Date(e.row.endTime,"yyyy-MM-dd hh:mm:ss")))]):t.timeCompare(e.row.endTime)?s("span",{staticStyle:{color:"red"}},[t._v(t._s(t.Utils.formatString2Date(e.row.endTime,"yyyy-MM-dd hh:mm:ss")))]):s("span",[t._v(t._s(t.Utils.formatString2Date(e.row.endTime,"yyyy-MM-dd hh:mm:ss")))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"得分／总分","min-width":"15%"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.scorePropor)+"\n                ")]}}])}),t._v(" "),s("el-table-column",{attrs:{fixed:"right",label:"操作","min-width":"25%"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.submitStatus&&2===e.row.submitStatus?s("el-button",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"co-el-buttom",attrs:{size:"small"}},[t._v("批阅中\n                    ")]):0===e.row.processStatus?s("el-button",{staticClass:"co-el-buttom",attrs:{size:"small"},on:{click:function(s){return t.forwardDo(e.row)}}},[t._v("去作业\n                    ")]):1===e.row.processStatus&&0===e.row.paperArchive?s("el-button",{staticClass:"co-el-buttom",attrs:{size:"small"},on:{click:function(s){return t.forwardDo(e.row)}}},[t._v("已提交\n                    ")]):2===e.row.processStatus&&0===e.row.paperArchive?s("el-button",{staticClass:"co-el-buttom",attrs:{size:"small"},on:{click:function(s){return t.forwardDo(e.row)}}},[t._v("已批阅\n                    ")]):3===e.row.processStatus?s("el-button",{staticClass:"co-el-buttom",attrs:{size:"small"},on:{click:function(s){return t.forwardDo(e.row)}}},[t._v("撤回重做\n                    ")]):4===e.row.processStatus?s("el-button",{staticClass:"co-el-buttom",staticStyle:{color:"red"},attrs:{size:"small"},on:{click:function(s){return t.forwardDo(e.row)}}},[t._v("已截止\n                    ")]):t._e(),t._v(" "),1!==e.row.processStatus&&2!==e.row.processStatus||1!==e.row.paperArchive?t._e():s("el-button",{attrs:{size:"small"}},[t._v("封卷中")])]}}])})],1),t._v(" "),t.page.total>0?s("div",{staticClass:"mt10 ta-r"},[s("el-pagination",{staticClass:"jxel-pagination",attrs:{background:"","current-page":t.pageNo,"page-sizes":[10,20,40,80],"page-size":t.page.size,layout:"total, sizes, prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.sizeChange,"current-change":t.handleCurrentChange}})],1):t._e()],1)],1)};o._withStripped=!0;var r={name:"homework",data:function(){return{homeworkLoading:!1,isable:!0,currentPage4:1,homeworkList:[],pageNo:1,dropdown_homework_status:{text:"全部选择",data:["全部选择","去作业","撤回重做","已提交","已批阅","已截止"]},params:{paperName:"",paperType:2,courseId:"",keyword:"",processStatus:""},page:{index:1,total:0,size:20},batchKey:""}},methods:{init:function(){this.params.courseId=this.getCourseid(),this.batchKey=this.$store.state.batchId,this.initHomeworkList()},initHomeworkList:function(){var t=this;t.homeworkLoading=!0;var e={pageNo:t.pageNo,courseId:this.getCourseid(),paperType:2,pageSize:t.page.size,keyword:t.params.keyword,processStatus:t.params.processStatus,batchKey:t.batchKey};this.Service.get("/tkksxt/api/admin/paper/student/page",e,(function(e){if(0===e.resultCode){for(var s in t.homeworkList=e.data,t.homeworkList){var o=t.homeworkList[s];null!=o.publishTime&&(o.publishTime=o.publishTime.replace("T"," "),o.publishTime=o.publishTime.replace(".000+0800","")),null!=o.endTime&&(o.endTime=o.endTime.replace("T"," "),o.endTime=o.endTime.replace(".000+0800",""))}e.page&&(t.page.total=e.page.rowCount)}t.homeworkLoading=!1}))},dateFormatter:function(t){if(t)return this.Utils.formatString2Date(t,"yyyy-MM-dd hh:mm:ss")},timeCompare:function(t){var e=new Date,s=new Date(t);return e.getTime()>s.getTime()},search:function(){this.initHomeworkList(1)},forwardDo:function(t){var e=t.processStatus;if(0===e||3===e)if(1==t.paperStyle){var s="/ucenter/student/course/study/"+this.getCourseid()+"/singleQuestion/do/"+t.paperId;this.$router.push({path:s,query:{from:this.$route.path,processStatus:e,classId:t.classId}})}else{var o="/ucenter/student/course/study/"+this.getCourseid()+"/homework/do/"+t.paperId;this.$router.push({path:o,query:{from:this.$route.path,processStatus:e,classId:t.classId}})}else if(2===e||1===e){var r="/ucenter/student/course/study/"+this.getCourseid()+"/homework/result/"+t.paperId+"/processStatus/"+t.processStatus;this.$router.push({path:r})}},dropdown_homework_status_change:function(t){1===t?this.params.processStatus=0:2===t?this.params.processStatus=3:3===t?this.params.processStatus=1:4===t?this.params.processStatus=2:5===t&&(this.params.processStatus=4),this.initHomeworkList(1)},getCourseid:function(){var t=this.$route.params.courseId;return t||""},sizeChange:function(t){this.pageNo=1,this.page.size=t,this.initHomeworkList()},handleCurrentChange:function(t){this.pageNo=t,this.initHomeworkList(t)}},created:function(){this.init()}},a=(s(1807),s(0)),n=Object(a.a)(r,o,[],!1,null,null,null);n.options.__file="web/views/ucenter/student/homework/homework.vue";e.default=n.exports},508:function(t,e,s){var o=s(1808);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,s(2).default)("010f4081",o,!1,{})}}]);