(window.webpackJsonp=window.webpackJsonp||[]).push([[217],{1769:function(t,e,s){"use strict";var i=s(489);s.n(i).a},1770:function(t,e,s){(t.exports=s(1)(!1)).push([t.i,".studentCourse-list .course_list_header .input-with-select > .el-input__inner {\n  border: none;\n  width: 660px;\n}\n.studentCourse-list .teacher-student-02 .left-item {\n  margin-top: 6px;\n  color: #1a1a1a;\n  font-size: 14px;\n  line-height: 19px;\n}\n.studentCourse-list .teacher-student-02 .left-item .el-radio-group {\n  margin-left: 4px;\n  margin-top: 4px;\n  vertical-align: top;\n}\n.studentCourse-list .teacher-student-02 .left-item .el-radio-group .el-radio {\n  margin-right: 20px;\n}\n.studentCourse-list .teacher-student-02 .left-item .el-radio-group .el-radio .el-radio__input {\n  display: none;\n}\n.studentCourse-list .teacher-student-02 .left-item .el-radio-group .el-radio .el-radio__label {\n  padding: 0;\n  font-size: 14px;\n  font-weight: 400;\n  color: #666666;\n  line-height: 14px;\n}\n.studentCourse-list .teacher-student-02 .left-item .el-radio-group .el-radio.is-checked .el-radio__label {\n  color: #009eff;\n}\n.studentCourse-list .list_main .main_list {\n  /*margin-top: 10px;*/\n  padding: 30px;\n  background: #ffffff;\n  /*border: 1px solid rgba(225, 225, 225, 1);*/\n  border-bottom: 1px dashed #e1e1e1;\n}\n.studentCourse-list .list_main .main_list .list-item01 {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n.studentCourse-list .list_main .main_list .list-item01 .list_fl {\n  width: 224px;\n  height: 127px;\n  -webkit-box-flex: 0;\n  -webkit-flex: 0 0 224px;\n      -ms-flex: 0 0 224px;\n          flex: 0 0 224px;\n}\n.studentCourse-list .list_main .main_list .list-item01 .list_fl img {\n  height: 100%;\n  width: 100%;\n}\n.studentCourse-list .list_main .main_list .list-item01 .list_fl .ribbon-lanren-green {\n  width: 85px;\n  height: 88px;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  right: -1px;\n}\n.studentCourse-list .list_main .main_list .list-item01 .list_fl .ribbon-green {\n  font: normal 15px Sans-Serif;\n  color: #333;\n  text-align: center;\n  /* text-shadow: rgba(255,255,255,0.5) 0px 1px 0px; */\n  -webkit-transform: rotate(45deg);\n  -moz-transform: rotate(45deg);\n  -ms-transform: rotate(45deg);\n  -o-transform: rotate(45deg);\n  position: relative;\n  padding: 7px 0;\n  left: -5px;\n  top: 15px;\n  width: 120px;\n  background-color: #fb8a27;\n  background-image: -o-linear-gradient(top, #bfdc7a, #8ebf45);\n  color: #ffffff;\n  -webkit-box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.3);\n  box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.3);\n}\n.studentCourse-list .list_main .main_list .list-item01 .list_fr {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\n.studentCourse-list .list_main .main_list .list-item01 .list_fr .first h6 {\n  font-size: 16px;\n  font-weight: 500;\n  color: #333333;\n  line-height: 22px;\n  max-width: 400px;\n}\n.studentCourse-list .list_main .main_list .list-item01 .list_fr .first span {\n  display: inline-block;\n  width: 85px;\n  height: 24px;\n  border-radius: 12px;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 24px;\n  text-align: center;\n}\n.studentCourse-list .list_main .main_list .list-item01 .list_fr .first span.dcourse {\n  border: 1px solid #2bb1d8;\n  color: #2bb1d8;\n}\n.studentCourse-list .list_main .main_list .list-item01 .list_fr .first span.tcourse {\n  border: 1px solid #d818d5;\n  color: #d818d5;\n}\n.studentCourse-list .list_main .main_list .list-item01 .list_fr .first span.ycourse {\n  border: 1px solid #5569b8;\n  color: #5569b8;\n}\n.studentCourse-list .list_main .main_list .list-item01 .list_fr .first span.mcourse {\n  border: 1px solid #ffc60d;\n  color: #ffc60d;\n}\n.studentCourse-list .list_main .main_list .list-item01 .list_fr .second .fl img {\n  border-radius: 50%;\n}\n.studentCourse-list .list_main .main_list .list-item01 .list_fr .second .fl span {\n  display: inline-block;\n  vertical-align: top;\n  margin-left: 9px;\n  font-size: 14px;\n  font-weight: 400;\n  color: #333333;\n  line-height: 25px;\n}\n.studentCourse-list .list_main .main_list .list-item01 .list_fr .second .fr {\n  font-size: 14px;\n  font-weight: 400;\n  color: #999999;\n  line-height: 25px;\n}\n.studentCourse-list .list_main .main_list .list-item01 .list_fr .three .fl {\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 34px;\n}\n.studentCourse-list .list_main .main_list .list-item01 .list_fr .three .fl.being {\n  color: #34ac00;\n}\n.studentCourse-list .list_main .main_list .list-item01 .list_fr .three .fl.soon {\n  color: #ffc60d;\n}\n.studentCourse-list .list_main .main_list .list-item01 .list_fr .three .fl.end {\n  color: #999999;\n}\n.studentCourse-list .list_main .main_list .list-item01 .list_fr .three .fr .el-button {\n  width: 100px;\n  height: 34px;\n  position: relative;\n}\n.studentCourse-list .list_main .main_list .list-item01 .list_fr .three .fr .el-button span {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n.studentCourse-list .list_main .main_list:last-child {\n  border-bottom: none;\n}\n",""])},2853:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"studentCourse-list"},[i("base-mainheader",{staticClass:"ttmain-header",attrs:{title:"我的课程"}}),t._v(" "),i("base-mainheaderad",{staticClass:"teacher-student-02"},[i("template",{slot:"left"},[i("div",{staticClass:"left-item"},[i("label",{staticStyle:{color:"#fa6400"}},[t._v("请选择 |")]),t._v(" "),i("el-radio-group",{on:{change:function(e){return t.initStudentCourseList(1)}},model:{value:t.searchDataStudentCourseList.publishStatus,callback:function(e){t.$set(t.searchDataStudentCourseList,"publishStatus",e)},expression:"searchDataStudentCourseList.publishStatus"}},t._l(t.publishStatusList,(function(e,s){return i("el-radio",{key:s,attrs:{label:e.value}},[t._v(t._s(e.label))])})),1)],1)]),t._v(" "),i("template",{slot:"right"},[i("el-select",{attrs:{placeholder:"请选择学期",size:"mini"},on:{change:t.SelectSemester},model:{value:t.SemesterBatchKey,callback:function(e){t.SemesterBatchKey=e},expression:"SemesterBatchKey"}},t._l(t.SemesterData,(function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.batchKey}})})),1),t._v(" "),i("el-input",{staticClass:"ml10",staticStyle:{width:"200px"},attrs:{placeholder:"搜索课程",size:"small"},model:{value:t.searchDataStudentCourseList.courseName,callback:function(e){t.$set(t.searchDataStudentCourseList,"courseName",e)},expression:"searchDataStudentCourseList.courseName"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return t.initStudentCourseList(1)}},slot:"append"})],1)],1)],2),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"list_main"},t._l(t.studentCourseList,(function(e,n){return i("div",{key:n,staticClass:"main_list"},[i("div",{staticClass:"list-item01"},[i("div",{staticClass:"list_fl",staticStyle:{position:"relative"}},[e.imgUrl?i("img",{attrs:{src:e.imgUrl}}):i("img",{attrs:{src:s(100)}}),t._v(" "),e.versions&&e.versions>0?i("div",{staticClass:"ribbon-lanren-green"},[i("div",{staticClass:"ribbon-green"},[t._v("\n                            第\n                            "),i("span",{domProps:{textContent:t._s(e.versions)}}),t._v("期\n                        ")])]):t._e()]),t._v(" "),i("div",{staticClass:"list_fr ml20"},[i("div",{staticClass:"clearfix first"},[i("h6",{staticClass:"fl mt5 of_eno",domProps:{textContent:t._s(e.name)}}),t._v(" "),1===e.courseOpenType?i("span",{staticClass:"fr dcourse"},[t._v("独立课程")]):t._e(),t._v(" "),2===e.courseOpenType?i("span",{staticClass:"fr tcourse"},[t._v("同步课程")]):t._e(),t._v(" "),3===e.courseOpenType?i("span",{staticClass:"fr ycourse"},[t._v("异步课程")]):t._e(),t._v(" "),4===e.courseOpenType?i("span",{staticClass:"fr mcourse"},[t._v("mooc课程")]):t._e()]),t._v(" "),i("div",{staticClass:"clearfix mt20 second"},[i("div",{staticClass:"fl"},[e.batchId&&0!=e.publishStatus?i("base-batch-id",{attrs:{startDate:e.startDate,endDate:e.endDate,batchId:e.batchId}}):t._e(),t._v(" "),t._l(e.courseLecturerList,(function(e){return[i("img",{staticStyle:{display:"inline"},attrs:{src:e.avatar,height:"25",width:"25"}}),t._v(" "),i("span",[t._v(t._s(e.name))])]}))],2),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:0!==e.publishStatus,expression:"row.publishStatus!==0"}],staticClass:"fr"},[t._v("\n                            开课时间："+t._s(t.dateFormatter(e.startDate))+"\n                            "),i("span",{staticClass:"ml20"},[t._v("结束时间："+t._s(t.dateFormatter(e.endDate)))])])]),t._v(" "),i("div",{staticClass:"clearfix mt15 three"},[i("div",{staticClass:"fl",class:"正在开课"===t.courseStatus["cs"+e.publishStatus]?"being":"即将开课"===t.courseStatus["cs"+e.publishStatus]?"soon":"end"},[t._v(t._s(t.courseStatus["cs"+e.publishStatus]))]),t._v(" "),i("div",{staticClass:"fr"},[4===e.publishStatus?i("el-button",{attrs:{type:"primary"},on:{click:function(s){return t.handleApply(e)}}},[t._v("申请证书")]):t._e(),t._v(" "),i("el-button",{attrs:{type:"primary",disabled:e.publishStatus<2},on:{click:function(s){return t.forwardStudy(e)}}},[t._v("进入学习")]),t._v(" "),i("el-button",{attrs:{disabled:4===e.publishStatus,type:"danger"},on:{click:function(s){return t.quitCourse(e)}}},[t._v("退出课程")])],1)])])])])})),0),t._v(" "),t.studentCourseList.length>0?i("div",{staticClass:"ta-c mt50 mb50"},[i("el-pagination",{staticClass:"jxel-pagination",attrs:{background:"","current-page":t.searchDataStudentCourseList.pageNo,"page-sizes":[5,10,15,20],"page-size":t.searchDataStudentCourseList.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.searchDataStudentCourseList.pageTotal},on:{"size-change":t.sizeChange,"current-change":t.handleCurrentChange}})],1):t._e(),t._v(" "),i("courseQuit",{attrs:{"quit-course-dialog-info":t.quitCourseDialogInfo}})],1)};i._withStripped=!0;var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-dialog",{staticClass:"cel-dialog settingsel-dialog",attrs:{title:t.quitCourseDialogInfo.title,"close-on-press-escape":!1,"close-on-click-modal":!1,"show-close":!1,visible:t.quitCourseDialogInfo.dialogVisible},on:{"update:visible":function(e){return t.$set(t.quitCourseDialogInfo,"dialogVisible",e)},open:function(e){return t.initDialog()}}},[s("div",{staticStyle:{"margin-bottom":"20px"}},[s("p",[t._v("\n            退出课程后将清除与该课程关联的所有记录,确认退出请输入登录密码\n        ")]),t._v(" "),s("el-form",{attrs:{autocomplete:"off"}},[s("el-input",{staticClass:"mt10",attrs:{type:"password",placeholder:"请输入登录密码","show-password":""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),s("div",{staticClass:"dialog-footer footer-loading",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"medium"},on:{click:function(){t.quitCourseDialogInfo.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{staticClass:"mr10",attrs:{loading:t.quitCourseLoading,type:"primary",size:"medium"},on:{click:function(e){return t.validUserPassword()}}},[t._v("确 定\n        ")])],1)])};n._withStripped=!0;var a={name:"course_quit_dialog",props:{quitCourseDialogInfo:{}},data:function(){return{password:null,quitCourseLoading:!1,courseId:""}},methods:{initDialog:function(){this.password=null,this.quitCourseLoading=!1,this.courseId=this.quitCourseDialogInfo.courseId},validUserPassword:function(){var t=this;t.quitCourseLoading=!0,t.Service.post("/centro/api/user/validPassword",{password:t.password},(function(e){e.success?(t.quitThisCourse(),t.quitCourseDialogInfo.dialogVisible=!1):t.$message.error(e.message),t.quitCourseLoading=!1}))},quitThisCourse:function(){var t=this;t.Service.get("/jxxt/api/course/courseStudent/quitCourse",{courseId:t.courseId},(function(e){e.success?(t.$message.success("退出成功"),t.quitCourseDialogInfo.callback()):t.$message.error(e.message)}))}},created:function(){}},r=s(0),o=Object(r.a)(a,n,[],!1,null,"58f94d37",null);o.options.__file="web/views/ucenter/student/course_quit_dialog.vue";var l={name:"studentCourse",components:{courseQuit:o.exports},data:function(){return{listLoading:!1,input3:"",select:"",studentCourseList:[],courseStatus:{cs0:"未发布",cs1:"待审核",cs2:"即将开课",cs3:"正在开课",cs4:"已完结"},publishStatusList:[{value:null,label:"全部"},{value:this.Constants.Course.PublishStatus.ComingSoonStart,label:"即将开课"},{value:this.Constants.Course.PublishStatus.BeingStart,label:"正在开课"},{value:this.Constants.Course.PublishStatus.Finished,label:"已完结"}],courseTypeList:[{key:"",value:"全部"},{key:1,value:"国家精品"},{key:2,value:"省级精品"},{key:3,value:"立项课程"},{key:4,value:"普通MOOC"}],publishStatusText:"请选择",publishStatus:null,searchDataStudentCourseList:{pageNo:1,pageSize:5,coursePublished:"",courseName:"",publishStatus:""},quitCourseDialogInfo:{callback:this.initStudentCourseList},SemesterData:[],OldSemesterBatchKey:null,SemesterBatchKey:""}},methods:{SelectSemester:function(t){this.OldSemesterBatchKey=t,this.GetSemesterData()},GetSemesterData:function(){var t=this;this.Service.get("/jxxt/api/batch/list",{},(function(e){var s={id:"",name:"全部",batchKey:""};if(t.SemesterData=e.data,t.SemesterData.unshift(s),null===t.OldSemesterBatchKey)for(var i in t.SemesterData)if(t.SemesterData[i].isCurrentBatch){t.OldSemesterBatchKey=t.SemesterData[i].batchKey;break}t.initStudentCourseList()}))},init:function(){this.GetSemesterData()},handleApply:function(t){var e=this;this.Service.post("/jxxt/api/certificate/createStuCertificate",{courseId:t.id},(function(t){t.success?e.$message({message:t.message,type:"success"}):e.$message({message:t.message,type:"warning"})}))},publishStatusChange:function(t){t.key>-1?this.searchDataStudentCourseList.publishStatus=t.key:this.searchDataStudentCourseList.publishStatus="",this.publishStatusText=t.value,this.initStudentCourseList()},initStudentCourseList:function(t){var e=this;t&&t>0&&(e.searchDataStudentCourseList.pageNo=t);var s=e.searchDataStudentCourseList;s.batchKey=this.SemesterBatchKey,e.listLoading=!0;this.Service.get("/jxxt/api/course/courseStudent/student/course",s,(function(t){0===t.resultCode&&(e.studentCourseList=t.data,t.page&&(e.searchDataStudentCourseList.pageTotal=t.page.rowCount)),e.listLoading=!1}))},forwardStudy:function(t){this.$store.dispatch("setCourseId",t.id),this.$store.dispatch("setBatchId",t.batchId);var e="/ucenter/student/course/study/"+t.id;this.$router.push(e)},dateFormatter:function(t){if(t)return this.Utils.formatString2Date(t,"yyyy-MM-dd")},quitCourse:function(t){var e=this;e.$confirm("退出课程可能导致您的学习记录被清空,请谨慎操作！","退出课程",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Vue.set(e.quitCourseDialogInfo,"courseId",t.id),Vue.set(e.quitCourseDialogInfo,"title","确认退出课程《"+t.name+"》"),Vue.set(e.quitCourseDialogInfo,"dialogVisible",!0)}))},sizeChange:function(t){this.searchDataStudentCourseList.pageSize=t,this.searchDataStudentCourseList.pageNo=1,this.initStudentCourseList()},handleCurrentChange:function(t){this.searchDataStudentCourseList.pageNo=t,this.initStudentCourseList()},dateFormat:function(t){var e=new Date(t),s=e.getMonth()+1>9?e.getMonth()+1:"0"+(e.getMonth()+1),i=e.getDate()>9?e.getDate():"0"+e.getDate();e.getHours(),e.getHours(),e.getMinutes(),e.getMinutes(),e.getSeconds(),e.getSeconds();return e.getFullYear()+"-"+s+"-"+i}},mounted:function(){this.init()}},u=(s(1769),Object(r.a)(l,i,[],!1,null,null,null));u.options.__file="web/views/ucenter/student/course.vue";e.default=u.exports},489:function(t,e,s){var i=s(1770);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,s(2).default)("3d409c8a",i,!1,{})}}]);