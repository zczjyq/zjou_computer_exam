(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{101:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o="/ucenter/tspace"},1407:function(e,t,n){e.exports=n.p+"img/logo.png"},1408:function(e,t,n){"use strict";var o=n(325);n.n(o).a},1409:function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".complete_info_dialog .el-dialog {\n  width: 360px;\n  background: #ffffff;\n  -webkit-box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.2);\n          box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.2);\n  border-radius: 10px;\n}\n.complete_info_dialog .el-dialog .el-dialog__header {\n  position: relative;\n  height: 47px;\n  line-height: 47px;\n  padding: 0;\n}\n.complete_info_dialog .el-dialog .el-dialog__header .el-dialog__title {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  font-size: 20px;\n  color: #fff;\n  z-index: 1000;\n}\n.complete_info_dialog .el-dialog .el-dialog__header:after {\n  position: absolute;\n  top: 0;\n  left: 50%;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  content: '';\n  width: 220px;\n  height: 47px;\n  background: #009cff;\n  -webkit-box-shadow: 0 0 8px 0 #0050ff inset;\n          box-shadow: 0 0 8px 0 #0050ff inset;\n  border-radius: 0 0 100px 100px;\n  z-index: 500;\n}\n.complete_info_dialog .el-dialog .el-dialog__body {\n  margin-top: 10px;\n  padding: 0 30px;\n}\n.complete_info_dialog .el-dialog .el-dialog__body .complete_info_tips {\n  margin-top: 15px;\n}\n.complete_info_dialog .el-dialog .el-dialog__body .complete_info_tips p {\n  padding-left: 1em;\n  text-indent: -1em;\n  margin-top: 3px;\n  color: #f00;\n  font-weight: bold;\n  font-size: 13px;\n  line-height: 1.5em;\n}\n.complete_info_dialog .el-dialog .el-dialog__body .el-form-item {\n  position: relative;\n  height: 52px;\n  margin-bottom: 0;\n  padding: 7px 0;\n  border-bottom: 1px solid #d8d8d8;\n}\n.complete_info_dialog .el-dialog .el-dialog__body .el-form-item .el-form-item__label {\n  position: relative;\n  text-align: left;\n  padding: 0 12px 0 12px;\n  font-size: 14px;\n  font-weight: 400;\n  color: #333333;\n}\n.complete_info_dialog .el-dialog .el-dialog__body .el-form-item .el-form-item__label:before {\n  position: absolute;\n  left: 0;\n}\n.complete_info_dialog .el-dialog .el-dialog__body .el-form-item .el-form-item__content {\n  position: absolute;\n  left: 0;\n  top: 50%;\n  -webkit-transform: translateY(-50%);\n          transform: translateY(-50%);\n  line-height: 18px;\n}\n.complete_info_dialog .el-dialog .el-dialog__body .el-form-item .el-form-item__content .el-input__inner {\n  background-color: transparent;\n  border-color: transparent;\n  padding-left: 0;\n  height: 20px;\n  line-height: 20px;\n}\n.complete_info_dialog .el-dialog .el-dialog__body .el-form-item .el-form-item__content .el-form-item__error {\n  padding-top: 0;\n  color: #F56C6C;\n  font-size: 13px;\n  line-height: 18px;\n  position: static;\n}\n.complete_info_dialog .el-dialog .el-dialog__footer {\n  padding: 30px 0 0 0;\n}\n.complete_info_dialog .el-dialog .el-dialog__footer .el-button {\n  border: none;\n  border-top: 1px solid #D8D8D8;\n  width: 100%;\n  height: 45px;\n  background: transparent;\n}\n.complete_info_dialog .el-dialog .el-dialog__footer .el-button span {\n  font-size: 16px;\n  color: #009cff;\n}\n",""])},1410:function(e,t,n){"use strict";var o=n(326);n.n(o).a},1411:function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".frhe_avator-dropdown-to {\n  width: 181px;\n}\n.frhe_avator-dropdown-to .el-dropdown-menu__item {\n  height: 42px;\n  line-height: 42px;\n  text-align: center;\n}\n.frhe_avator-dropdown-to .el-dropdown-menu__item:not(.is-disabled):hover {\n  background-color: #ecf5ff;\n  color: #009eff;\n}\n.front_header {\n  width: 100%;\n  height: 100px;\n  background: #1d232e;\n  overflow: hidden;\n}\n.front_header .sd-wrapper a {\n  line-height: 70px;\n  display: inline-block;\n  font-size: 14px;\n  font-weight: 400;\n  color: #ffffff;\n  text-decoration: none;\n}\n.front_header .sd-wrapper a img {\n  vertical-align: middle;\n}\n.front_header .sd-wrapper > ul {\n  margin-left: 75px;\n  vertical-align: top;\n  display: inline-block;\n  background: transparent;\n}\n.front_header .sd-wrapper > ul li {\n  padding: 0;\n  font-size: 14px;\n  color: #fff;\n  height: 70px;\n  line-height: 70px;\n  text-align: center;\n  float: left;\n  background: #1d232e;\n  border-bottom: none;\n  border-top: 3px solid transparent;\n}\n.front_header .sd-wrapper > ul li a {\n  display: inline-block;\n  height: 67px;\n  line-height: 67px;\n  padding: 0 21px;\n}\n.front_header .sd-wrapper > ul li:hover {\n  color: #fff;\n  background: #10151d;\n}\n.front_header .sd-wrapper > ul li.is-active {\n  border-bottom: none;\n  color: #fff;\n  background: #10151d;\n  border-top: 3px solid #009eff;\n}\n.front_header .sd-wrapper > ul li:hover,\n.front_header .sd-wrapper > ul li:focus {\n  border-bottom: none;\n  color: #fff;\n  background: #10151d;\n}\n.front_header .sd-wrapper > ul li > div {\n  line-height: normal;\n  margin-top: 23px;\n}\n.front_header .sd-wrapper > ul.el-menu--horizontal .el-menu-item:not(.is-disabled):focus,\n.front_header .sd-wrapper > ul.el-menu--horizontal .el-menu-item:not(.is-disabled):hover {\n  border-bottom: none;\n  color: #fff;\n  background: #10151d;\n}\n.front_header .sd-wrapper .el-dropdown a {\n  text-decoration: none;\n  line-height: normal;\n  color: #fff;\n  height: 20px;\n}\n.front_header .sd-wrapper .fr_item {\n  vertical-align: top;\n  color: #fff;\n}\n.front_header .sd-wrapper .fr_item a {\n  height: 70px;\n  vertical-align: top;\n  line-height: 70px;\n}\n.front_header .sd-wrapper .fr_item .link-user:hover {\n  opacity: 0.9;\n}\n.front_header .sd-wrapper .fr_item img {\n  margin-right: 10px;\n  vertical-align: middle;\n}\n.front_header .sd-wrapper button {\n  width: 72px;\n  height: 28px;\n  line-height: 28px;\n  border-radius: 14px;\n  border: 1px solid #ffffff;\n  background: transparent;\n}\n.front_header .sd-wrapper button span {\n  font-size: 13px;\n  color: #fff;\n}\n.front_header .avators .avators-item {\n  margin-top: 15px;\n  width: 64px;\n  display: inline-block;\n  vertical-align: top;\n  text-align: center;\n}\n.front_header .avators .avators-item i {\n  width: 23px;\n  height: 23px;\n  line-height: 23px;\n  outline: 0;\n}\n.front_header .avators .avators-item .avators-item-i,\n.front_header .avators .avators-item a {\n  margin-top: 2px;\n  font-size: 14px;\n  font-weight: 400;\n  color: #ffffff;\n  line-height: 14px;\n}\n.front_header .avators .avators-item.identity_switching {\n  margin-right: 0px;\n  width: 100px;\n}\n.front_header .avators .avators-item.identity_switching .el-dropdown {\n  width: 120px;\n  outline: 0;\n}\n.front_header .avators .avators-item.identity_switching i {\n  color: #52c41a;\n  font-size: 23px;\n}\n.front_header .avators .avators-item.reg_login i {\n  display: inline-block;\n  background: #ebeef1;\n  border-radius: 50%;\n  width: 24px;\n  height: 24px;\n  font-size: 14px;\n  color: #fff;\n}\n.front_header .avators .avators-item.help_center i {\n  color: #1abac4;\n  font-size: 23px;\n}\n.front_header_N01 .sd-wrapper,\n.front_header_N01 .front-header-top .el-row {\n  max-width: 1200px;\n  width: 1200px;\n  margin: 0 auto;\n}\n.front_header_N02 .sd-wrapper,\n.front_header_N02 .front-header-top .el-row {\n  width: 100%;\n  max-width: none;\n  margin: 0;\n  padding: 0 35px;\n}\n.avator-dropdown-to-img {\n  width: 120px;\n  max-width: 200px;\n  padding: 0;\n  overflow: visible;\n}\n.avator-dropdown-to-img .el-dropdown-menu__item {\n  padding: 5px 0;\n  font-size: 14px;\n  font-weight: 400;\n  color: #1a1a1a;\n  -webkit-transition: all 0.3s;\n  transition: all 0.3s;\n}\n.avator-dropdown-to-img .el-dropdown-menu__item:not(.is-disabled):hover {\n  background-color: #fff;\n  color: #1a1a1a;\n}\n.avator-dropdown-to-img .el-dropdown-menu__item > div {\n  position: relative;\n  padding: 0 10px;\n  line-height: 32px;\n  height: 32px;\n}\n.avator-dropdown-to-img .el-dropdown-menu__item > div i {\n  font-size: 16px;\n}\n.avator-dropdown-to-img .el-dropdown-menu__item > div span {\n  font-size: 14px;\n}\n.avator-dropdown-to-img .el-dropdown-menu__item > div:after {\n  position: absolute;\n  left: 10px;\n  right: 10px;\n  top: -5px;\n  content: '';\n  height: 1px;\n  background: #ebebeb;\n}\n.avator-dropdown-to-img .el-dropdown-menu__item > div:hover {\n  color: #009eff;\n  background: #ecf5ff;\n}\n.avator-dropdown-to-img .el-dropdown-menu__item:first-child > div:after {\n  height: 0;\n}\n",""])},325:function(e,t,n){var o=n(1409);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n(2).default)("139b5613",o,!1,{})},326:function(e,t,n){var o=n(1411);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n(2).default)("38aa8bb4",o,!1,{})},90:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"front_header",class:e.roleType},[o("div",{staticClass:"front-header-top"},[o("el-row",[o("el-col",{staticClass:"ta-l",attrs:{span:12}},[e._v("欢迎来到浙江省高等学校在线开放课程共享平台")]),e._v(" "),o("el-col",{staticClass:"ta-r",attrs:{span:12}},[e.getUser?o("div",{staticClass:"dp-ib"},[e.$store.state.user.avator&&e.$store.state.user.avator.length>0?o("img",{staticStyle:{"border-radius":"50%"},attrs:{src:e.$store.state.user.avator,height:"16",width:"16"}}):o("img",{staticStyle:{"border-radius":"50%"},attrs:{src:n(201),height:"16",width:"16"}}),e._v(" "),o("a",{staticClass:"of_eno",staticStyle:{"max-width":"100px"},attrs:{href:e.settingsProfile},on:{click:function(t){return e.$store.dispatch("setRouterName","账户设置")}}},[e._v(e._s(e.getUser.name))]),e._v(" "),o("a",{staticStyle:{"margin-left":"20px",color:"red"},attrs:{href:"javascript:void(0)"},on:{click:e.logout}},[e._v("退出")])]):o("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return t.preventDefault(),e.login()}}},[e._v("请登录")])])],1)],1),e._v(" "),o("div",{staticClass:"sd-wrapper clearfix"},[e._m(0),e._v(" "),o("el-menu",{staticClass:"el-menu-demo fl",attrs:{"default-active":e.router,mode:"horizontal"}},[o("el-menu-item",{attrs:{index:"首页"}},[o("a",{attrs:{href:"/"},on:{click:function(t){return e.$store.dispatch("setRouterName","我的课堂")}}},[e._v("首页")])]),e._v(" "),e._l(e.$store.state.menus,(function(t){return"名师空间"!=t.name||"名师空间"==t.name&&e.isSpaceMember?o("el-menu-item",{key:t.url,attrs:{index:t.name},on:{click:function(n){return e.$store.dispatch("setRouterName",t.name)}}},[e.$store.state.user.goldManToken||e.$store.state.user.chinaoocToken?o("a",{attrs:{href:t.url}},[e._v(e._s(t.name))]):o("a",{attrs:{href:"/ucenter"+t.url}},[e._v(e._s(t.name))])]):e._e()}))],2),e._v(" "),o("div",{staticClass:"fr avators"},[e.getUser?o("div",{staticClass:"avators-item identity_switching"},[e.getUser?o("el-dropdown",{on:{command:e.handleAvator}},[o("div",[o("i",{staticClass:"iconfont icon-weibiaoti-"}),e._v(" "),o("div",{staticClass:"avators-item-i"},[o("a",[e._v("身份切换")])])]),e._v(" "),e.$store.state.user.userRoles?o("el-dropdown-menu",{staticClass:"avator-dropdown-to-img",attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.$store.state.user.userRoles,(function(t,n){return o("el-dropdown-item",{key:t.id,attrs:{command:t.id}},[o("div",[e.getUser&&"role1"===t.id?o("i",{staticClass:"iconfont icon-guanliyuan"}):e._e(),e._v(" "),!e.getUser||"role7"!==t.id&&"role20"!==t.id&&"role8"!==t.id?e._e():o("i",{staticClass:"iconfont icon-xuexiao1"}),e._v(" "),e.getUser&&"role3"===t.id?o("i",{staticClass:"iconfont icon-xuexiao_jiaoshi"}):e._e(),e._v(" "),e.getUser&&"role2"===t.id?o("i",{staticClass:"iconfont icon-yewutubiao_xueshengchaxun"}):e._e(),e._v(" "),e.getUser&&"role4"===t.id?o("i",{staticClass:"iconfont icon-yewutubiao_xueshengchaxun"}):e._e(),e._v(" "),e.getUser&&"role7"===t.id?o("span",[e._v("管理中心")]):e._e(),e._v(" "),e.getUser&&"role1"===t.id?o("span",[e._v("高校管理员")]):e._e(),e._v(" "),e.getUser&&"role2"===t.id?o("span",[e._v("教师")]):e._e(),e._v(" "),e.getUser&&"role3"===t.id?o("span",[e._v("学生")]):e._e(),e._v(" "),e.getUser&&"role4"===t.id?o("span",[e._v("专家")]):e._e(),e._v(" "),e.getUser&&"role20"===t.id?o("span",[e._v("运营管理员")]):e._e(),e._v(" "),e.getUser&&"role8"===t.id?o("span",[e._v("企业管理员")]):e._e()])])})),1):e._e()],1):e._e()],1):o("div",{staticClass:"avators-item reg_login mr40"},[o("i",{staticClass:"iconfont icon-yonghu"}),e._v(" "),o("div",{staticClass:"avators-item-i"},[o("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return t.preventDefault(),e.regist()}}},[e._v("注册")]),e._v("/\n                    "),o("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return t.preventDefault(),e.login()}}},[e._v("登录")])])]),e._v(" "),o("div",{staticClass:"avators-item help_center"},[o("i",{staticClass:"iconfont icon-iconfontbangzhufuzhi"}),e._v(" "),o("div",{staticClass:"avators-item-i"},[e.$store.state.user.currentRole&&"role2"===e.$store.state.user.currentRole.id?o("a",{attrs:{href:"https://dfs.zjlll.net/download/浙江省高等学校在线开放课程共享平台-教师端操作手册.pdf"}},[e._v("帮助文档")]):e.$store.state.user.currentRole&&"role3"===e.$store.state.user.currentRole.id?o("a",{attrs:{href:"https://dfs.zjlll.net/download/浙江省高等学校在线开放课程共享平台-学生端操作手册.pdf"}},[e._v("帮助文档")]):e.$store.state.user.currentRole&&"role1"===e.$store.state.user.currentRole.id?o("a",{attrs:{href:"https://dfs.zjlll.net/download/浙江省高等学校在线开放课程共享平台-高校端操作手册.pdf"}},[e._v("帮助文档")]):e._e()])])])],1),e._v(" "),e.$store.state.user.goldManToken?e._e():o("completeInfo",{attrs:{info:e.info}})],1)},r=[function(){var e=this.$createElement,t=this._self._c||e;return t("a",{staticClass:"fl",attrs:{href:"/"}},[t("img",{attrs:{src:n(1407),width:"328",height:"38"}})])}];o._withStripped=!0;var i=n(101),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"complete_info inline-block"},[n("el-dialog",{staticClass:"complete_info_dialog",attrs:{title:"完善个人信息",visible:e.info.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,"append-to-body":!0},on:{"update:visible":function(t){return e.$set(e.info,"dialogVisible",t)}}},[n("div",{staticClass:"complete_info_tips"},[""!==e.errorMsg?n("p",{staticStyle:{"font-size":"x-large"}},[e._v(" "+e._s(e.errorMsg))]):e._e(),e._v(" "),n("p",[e._v("1. 请您花点时间，认真填写正确的信息！")]),e._v(" "),n("p",[e._v("2. 您的手机号码和身份证号，平台将作加密处理，仅向您的课程老师和教务处提供查询功能。")]),e._v(" "),n("p",[e._v("3. 您看到这个页面表示您的账号存在相关项重复冲突，请直接联系客服处理。")])]),e._v(" "),n("el-form",{ref:"user",attrs:{rules:e.rules,model:e.user,size:"medium","label-width":"90px"}},[n("el-form-item",{attrs:{label:"用户名",prop:"loginName"}},[n("el-input",{attrs:{"auto-complete":"off",maxlength:"20",onkeyup:"this.value=this.value.replace(/\\s+/g,'')",type:"text",placeholder:"请输入6-20个字符",name:"loginName",disabled:0==e.info.user.completeInfo.inputLoginName},model:{value:e.user.loginName,callback:function(t){e.$set(e.user,"loginName",t)},expression:"user.loginName"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"真实姓名",prop:"name"}},[n("el-input",{attrs:{"auto-complete":"off",maxlength:"100",type:"text",placeholder:"请输入真实姓名",name:"name",disabled:0==e.info.user.completeInfo.inputName},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"高校名称"}},[n("el-input",{attrs:{"auto-complete":"off",onkeyup:"this.value=this.value.replace(/\\s+/g,'')",type:"text",placeholder:"",name:"name",disabled:!0},model:{value:e.info.user.completeInfo.corpName,callback:function(t){e.$set(e.info.user.completeInfo,"corpName",t)},expression:"info.user.completeInfo.corpName"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[n("el-input",{attrs:{"auto-complete":"off",onkeyup:"this.value=this.value.replace(/\\s+/g,'')",type:"number",isphone:"isphone",placeholder:"输入手机号码",name:"phone",disabled:0==e.info.user.completeInfo.inputPhone&&0==e.info.user.completeInfo.repeatPhone},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),e._v(" "),2==e.info.user.certificateType&&e.info.user.certificate?n("el-form-item",{attrs:{label:"护照",prop:"certificate"}},[n("el-input",{attrs:{"auto-complete":"off",onkeyup:"this.value=this.value.replace(/\\s+/g,'')",type:"text",placeholder:"输入护照号",name:"certificate",disabled:!0},model:{value:e.user.certificate,callback:function(t){e.$set(e.user,"certificate",t)},expression:"user.certificate"}})],1):n("el-form-item",{attrs:{label:"身份证号",prop:"certificate"}},[n("el-input",{attrs:{"auto-complete":"off",onkeyup:"this.value=this.value.replace(/\\s+/g,'')",type:"text",placeholder:"输入身份证号",name:"certificate",disabled:0==e.info.user.completeInfo.inputCertificate&&0==e.info.user.completeInfo.repeatCertificate},model:{value:e.user.certificate,callback:function(t){e.$set(e.user,"certificate",t)},expression:"user.certificate"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"电子邮箱",prop:"email"}},[n("el-input",{attrs:{"auto-complete":"off",onkeyup:"this.value=this.value.replace(/\\s+/g,'')",type:"email",placeholder:"请输入邮箱",name:"email",disabled:0==e.info.user.completeInfo.inputEmail},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",loading:e.loading,size:"medium"},on:{click:function(t){return e.updateUser("user")}}},[e._v("保存")])],1)],1)],1)};a._withStripped=!0;var s={name:"completeInfo",data:function(){var e=this;return{errorMsg:"",title:"",btnLabel:"",loading:!1,dialogVisible:!1,user:{loginName:"",name:"",corpId:"",corpName:"",phone:"",certificateType:"",certificate:"",email:""},rules:{loginName:{validator:function(t,n,o){""==n||null==n||null==n?o(new Error("请输入用户名")):(1!=e.info.user.completeInfo.inputLoginName||e.Utils.CheckForm.checkLoginName(n)||o(new Error('用户名以字母开头，并与数字组合，可包含"@"，"."，"_"，6-20字符')),o())},required:!0,trigger:"blur"},name:{validator:function(t,n,o){""==n||null==n||null==n?o(new Error("请输入真实姓名")):(1==e.info.user.completeInfo.inputName&&(n.length<2&&o(new Error("长度最小 2 个字符")),n.length>100&&o(new Error("长度最大 100 个字符"))),o())},required:!0,trigger:"blur"},certificateType:{required:!0,message:"请选择证件类型",trigger:"blur"},certificate:{validator:function(t,n,o){if(1==e.info.user.completeInfo.inputCertificate){if(null==n||null==n||""==n)return o(new Error("输入身份证号"));if(!e.Utils.CheckForm.checkIdcard(n))return o(new Error("身份证格式不正确"))}o()},required:!0,trigger:"blur"},phone:{validator:function(t,n,o){if(1==e.info.user.completeInfo.inputPhone){if(""==n||null==n||null==n)return o(new Error("输入手机号码"));if(!e.Utils.CheckForm.checkPhone(n))return o(new Error("手机号格式不正确"))}o()},required:!0,trigger:"blur"},email:[{validator:function(t,n,o){if(1==e.info.user.completeInfo.inputEmail){if(""==n||null==n||null==n)return o(new Error("请输入电子邮箱"));if(n.length>50)return o(new Error("最大长度为50，请重新输入"));if(!e.Utils.CheckForm.checkEmail(n))return o(new Error("邮箱格式不正确"))}o()},required:!0,trigger:"blur"}]}}},methods:{resetUser:function(){var e=this;e.Request.get("/resetUser",null,(function(t){0===t.resultCode?(e.$message.success("修改成功!"),e.info.dialogVisible=!1,e.$store.commit("updateUser",t.data)):(e.$message.success("修改成功"),e.$router.push({path:"/login",query:{fromUrl:encodeURIComponent(e.$route.path)}})),e.loading=!1}))},updateUser:function(e){var t=this;t.$refs[e].validate((function(e){if(!e)return!1;new Promise((function(e,n){t.loading=!0,t.Service.postBody("/centro/api/user/completeInfo",t.user,(function(o){o.success?e(o.data):n(o.message),t.loading=!1}))})).then((function(){t.resetUser()})).catch((function(e){t.loading=!1,e&&t.$message.error(e)}))}))}},created:function(){this.user=JSON.parse(JSON.stringify(this.$store.getters.getUser)),(this.user&&1==this.user.completeInfo.repeatPhone||1==this.user.completeInfo.repeatCertificate)&&(this.errorMsg="您的手机号或者证件号在平台内与其它账号有重复！")},mounted:function(){},props:["info"],watch:{}},l=(n(1408),n(0)),d=Object(l.a)(s,a,[],!1,null,null,null);d.options.__file="web/_layout_/completeInfo/complete_info.vue";var p={name:"notAdminHeader",data:function(){return{info:{user:{},dialogVisible:!1},user:this.$store.getters.getUser,isSpaceMember:!1,currentRole:"",currentSpaciel:""}},computed:{router:function(){return this.$store.state.routerName},settingsProfile:function(){return this.$store.state.user.goldManToken?"/ucenter/teacher/course/manager/"+this.$store.state.course.id+"/home/base?look=true":this.$store.state.user.chinaoocToken?"/ucenter/teacher/course/manager/"+this.$store.state.course.id+"/analyse/course":"/ucenter/settings/profile"},getUser:function(){return this.$store.getters.getUser},tspaceurl:function(){return i.a},roleList:function(){return this.getUser.userRoles},roleType:function(){if(this.$store.state.user.currentRole){var e=this.$store.state.user.currentRole.roleType;if("CourseCenterAdmin"===e||"SchoolAdmin"===e)return"front_header_N02"}return"front_header_N01"}},methods:{logout:function(){localStorage.removeItem("goldUserToken"),localStorage.removeItem("goldUserCourse"),this.$router.push("/logout")},converName:function(e){return"Teacher"==e?"老师":"Student"==e?(this.currentRole=e,"同学"):void 0},getIsSpaceMember:function(){var e=this;this.Service.getSync("/famousteacherspace/api/spaceMember/isSpaceMember",null,(function(t){t.success&&(e.isSpaceMember=t.data)}))},handleAvator:function(e){var t=this,n=this;this.$store.state.user.goldManToken||this.$store.state.user.chinaoocToken||this.Request.get("/changeRole/"+e,{},(function(e){if(e.success){var o=e.data.url;n.$store.dispatch("FETCH_USER",e.data.user),n.Request.get("/ucenter/getMyMenus",{},(function(e){e.success?(n.$store.dispatch("FETCH_MENUS",e.data),n.goUrl(o)):t.$message("切换角色出现错误")}))}else t.$message("切换角色出现错误")}))},goUrl:function(e){this.$router.push(e)},popDialog:function(){this.$store.getters.getUser&&(this.$store.state.user.goldManToken||(this.info.dialogVisible=1==this.$store.getters.getUser.completeInfo.needComplete))}},created:function(){this.info.user=this.$store.getters.getUser},mounted:function(){this.getUser||this.$router.replace("/login"),this.popDialog()},components:{completeInfo:d.exports}},c=(n(1410),Object(l.a)(p,o,r,!1,null,null,null));c.options.__file="web/_layout_/ucenter/header.vue";t.default=c.exports}}]);